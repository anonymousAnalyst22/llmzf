{
    "52719": {
        "0": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-11 0x15 Discover Attributes Extended 0x16 Discover Attributes Extended Response 2.5.1 Read Attributes Command 2.5.1.1 Read Attributes Command Frame Format The Read Attributes command frame SHALL be formatted as illustrated in Figure 2-5. Figure 2-5. Format of the Read Attributes Command Frame Octets: Variable \u2026 ZCL header Attribute identifier 1 Attribute identifier 2 \u2026 Attribute identifier n 2.5.1.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Read Attributes defined for any cluster in the ZCL or 1 if this command is being used to read manu- facturer specific attributes. The command identifier field SHALL be set to indicate the Read Attributes command (see Table 2-3). 2.5.1.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that is to be read. 2.5.1.2 When Generated The Read Attributes command is generated when a device wishes to determine the values of one or more attributes located on another device. Each attribute identifier field SHALL contain the identifier of the attrib- ute to be read. 2.5.1.3 Effect on Receipt On receipt of this command, the device SHALL process each specified attribute identifier and generate a Read Attributes Response command. The Read Attributes Response command SHALL contain as many read attribute status records as attribute identifiers included in this command frame, subject to applicable space limitations. Each read attribute status record SHALL contain the corresponding attribute identifier from this command frame, a status value evaluated as described below, and, depending on the status value, the value of the attribute itself. For each attribute identifier included in the command frame, the device SHALL create an attribute status record as follows: If the attribute identifier does not correspond to an attribute that exists on this device, the device SHALL set the status field of the corresponding read attribute status record to UNSUPPORTED_ATTRIBUTE and SHALL not include an attribute value field. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-12 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. If the attribute identified by the attribute identifier is supported, the device SHALL determine if the attribute status record carrying the attribute\u2019s current value fits into the remaining space available in the response frame. If the status record does not fit, the device SHALL set the status field of the corresponding read attribute status record to INSUFFICIENT_SPACE and not include the data type and value fields. Otherwise the device SHALL set the status field of the corresponding read attribute status record to SUCCESS and SHALL set the attribute value field to its current value. If the resulting attribute status record does not fit into the response frame, the device SHALL transmit the response frame as assembled so far and terminate this process. Otherwise, the device SHALL then move on to the next attribute identifier. 2.5.2 Read Attributes Response Command 2.5.2.1 Read Attributes Response Command Frame Format The Read Attributes Response command frame SHALL be formatted as illustrated in Figure 2-6. Figure 2-6. Format of Read Attributes Response Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Read attribute status record 1 Read attribute status record 2 \u2026 Read attribute status record n Each read attribute status record SHALL be formatted as illustrated in Figure 2-7. Figure 2-7. Format of the Read Attributes Status Record Field Octets: 2 0 / 1 0 / Variable Attribute identifier Status Attribute data type Attribute value 2.5.2.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used as a response to reading attributes defined for any cluster in the ZCL or 1 if this command is being used as a response to reading manufacturer specific attributes. The command identifier field SHALL be set to indicate the Read Attributes Response command (see Table 2-3). 2.5.2.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that has been read (or of which an element has been read). This field SHALL contain the same value that was included in the corresponding attribute identifier field of the original Read Attributes or Read Attributes Structured command. ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-12 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. If the attribute identified by the attribute identifier is supported, the device SHALL determine if the attribute status record carrying the attribute\u2019s current value fits into the remaining space available in the response frame. If the status record does not fit, the device SHALL set the status field of the corresponding read attribute status record to INSUFFICIENT_SPACE and not include the data type and value fields. Otherwise the device SHALL set the status field of the corresponding read attribute status record to SUCCESS and SHALL set the attribute value field to its current value. If the resulting attribute status record does not fit into the response frame, the device SHALL transmit the response frame as assembled so far and terminate this process. Otherwise, the device SHALL then move on to the next attribute identifier. 2.5.2 Read Attributes Response Command 2.5.2.1 Read Attributes Response Command Frame Format The Read Attributes Response command frame SHALL be formatted as illustrated in Figure 2-6. Figure 2-6. Format of Read Attributes Response Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Read attribute status record 1 Read attribute status record 2 \u2026 Read attribute status record n Each read attribute status record SHALL be formatted as illustrated in Figure 2-7. Figure 2-7. Format of the Read Attributes Status Record Field Octets: 2 0 / 1 0 / Variable Attribute identifier Status Attribute data type Attribute value 2.5.2.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used as a response to reading attributes defined for any cluster in the ZCL or 1 if this command is being used as a response to reading manufacturer specific attributes. The command identifier field SHALL be set to indicate the Read Attributes Response command (see Table 2-3). 2.5.2.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that has been read (or of which an element has been read). This field SHALL contain the same value that was included in the corresponding attribute identifier field of the original Read Attributes or Read Attributes Structured command. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-13 2.5.2.1.3 Status Field The status field is 8 bits in length and specifies the status of the read operation on this attribute. This field SHALL be set to SUCCESS, if the operation was successful, or an error code, as specified in 2.5.1.3, if the operation was not successful. 2.5.2.1.4 Attribute Data Type Field The attribute data type field SHALL contain the data type of the attribute in the same Read Attributes status record (see 2.6.2). This field SHALL only be included if the associated status field contains a value of SUC- CESS. 2.5.2.1.5 Attribute Value Field The attribute value field is variable in length and SHALL contain the current value of this attribute. This field SHALL only be included if the associated status field contains a value of SUCCESS. For an attribute or element of simple type (not array, structure, set or bag), this field has the format shown in the Table of Data Types (see 2.6.2). For an attribute or element of type array, set or bag, this field has the format shown in Figure 2-8. Figure 2-8. Format of the Attribute Value Field for an Array, Set or Bag Octets: 1 Variable \u2026 Variable Element type Number of elements (m) Element value 1 \u2026 Element value m (NB The reason that the Element type field is before the Number of elements field is so that the latter field is in the logical position for the zeroth element.) If the Number of elements field has the value 0xffff, this indicates that the attribute or element being read is invalid / undefined. In this case, or if the Number of elements field has the value 0, no Element value fields are included. For an attribute or element of type structure, this field has the format shown in Figure 2-9. Figure 2-9. Format of the Attribute Value Field for a Structure Octets: 2 Variable \u2026 Variable Number of elements (m) Element type 1 Element value 1 \u2026 Element type m Element value m In both figures, the Element value subfield follows the same format as that of the attribute value field. This format is thus recursive to any required depth (see Selector Field for limitations). If the Number of elements field has the value 0xffff, this indicates that the attribute or element being read is invalid / undefined. In this case, or if the Number of elements field has the value 0, no Element type or Element value fields are included. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-14 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.2.2 When Generated The Read Attributes Response command is generated in response to a Read Attributes or Read Attributes Structured command. The command frame SHALL contain a read attribute status record for each attribute identifier specified in the original Read Attributes or Read Attributes Structured command. For each read attribute status record, the attribute identifier field SHALL contain the identifier specified in the original Read Attributes or Read Attributes Structured command. The status field SHALL contain a suitable status code, as detailed in 2.5.1.3. The attribute data type and attribute value field SHALL only be included in the read attribute status record if the associated status field contains a value of SUCCESS and, where present, SHALL contain the data type and current value, respectively, of the attribute, or element thereof, that was read. The length of this command may exceed a single frame, and thus fragmentation support may be needed to return the entire response If fragmentation is not supported, only as many read attribute status records as will fit in the frame SHALL be returned. 2.5.2.3 Effect on Receipt On receipt of this command, the originator is notified of the results of its original Read Attributes attempt and, for each successful request, the value of the requested attribute. If fragmentation is not supported, and some trailing attribute status records have not been returned, due to space limitations in the frame, the originator may issue an additional Read Attributes or Read Attributes Structured command to obtain their values. 2.5.3 Write Attributes Command 2.5.3.1 Write Attributes Command Frame Format The Write Attributes command frame SHALL be formatted as illustrated in Figure 2-10. Figure 2-10. Format of the Write Attributes Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Write attribute record 1 Write attribute record 2 \u2026 Write attribute record n Each write attribute record SHALL be formatted as illustrated in Figure 2-11. Figure 2-11. Format of the Write Attribute Record Field Octets: 2 Variable Attribute identifier Attribute data type Attribute data 2.5.3.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes command (see Table 2-3). ",
        "2": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-14 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.2.2 When Generated The Read Attributes Response command is generated in response to a Read Attributes or Read Attributes Structured command. The command frame SHALL contain a read attribute status record for each attribute identifier specified in the original Read Attributes or Read Attributes Structured command. For each read attribute status record, the attribute identifier field SHALL contain the identifier specified in the original Read Attributes or Read Attributes Structured command. The status field SHALL contain a suitable status code, as detailed in 2.5.1.3. The attribute data type and attribute value field SHALL only be included in the read attribute status record if the associated status field contains a value of SUCCESS and, where present, SHALL contain the data type and current value, respectively, of the attribute, or element thereof, that was read. The length of this command may exceed a single frame, and thus fragmentation support may be needed to return the entire response If fragmentation is not supported, only as many read attribute status records as will fit in the frame SHALL be returned. 2.5.2.3 Effect on Receipt On receipt of this command, the originator is notified of the results of its original Read Attributes attempt and, for each successful request, the value of the requested attribute. If fragmentation is not supported, and some trailing attribute status records have not been returned, due to space limitations in the frame, the originator may issue an additional Read Attributes or Read Attributes Structured command to obtain their values. 2.5.3 Write Attributes Command 2.5.3.1 Write Attributes Command Frame Format The Write Attributes command frame SHALL be formatted as illustrated in Figure 2-10. Figure 2-10. Format of the Write Attributes Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Write attribute record 1 Write attribute record 2 \u2026 Write attribute record n Each write attribute record SHALL be formatted as illustrated in Figure 2-11. Figure 2-11. Format of the Write Attribute Record Field Octets: 2 Variable Attribute identifier Attribute data type Attribute data 2.5.3.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes command (see Table 2-3). Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-15 2.5.3.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that is to be written. 2.5.3.1.3 Attribute Data Type Field The attribute data type field SHALL contain the data type of the attribute that is to be written. 2.5.3.1.4 Attribute Data Field The attribute data field is variable in length and SHALL contain the actual value of the attribute that is to be written. 2.5.3.2 When Generated The Write Attributes command is generated when a device wishes to change the values of one or more at- tributes located on another device. Each write attribute record SHALL contain the identifier and the actual value of the attribute to be written. 2.5.3.3 Effect on Receipt On receipt of this command, the device SHALL attempt to process each specified write attribute record and SHALL construct a write attribute response command (2.5.5). Each write attribute status record of the con- structed command SHALL contain the identifier from the corresponding write attribute record and a status value evaluated as described below. For each write attribute record included in the command frame, the device SHALL make the error checks listed below, in the order shown. If an error is detected, a corresponding write attribute status record SHALL be generated, the status SHALL be set according to the check below, and the device SHALL move on to the next write attribute record. 1. If the attribute is not supported on this device, the status field of the corresponding write attribute sta- tus record SHALL be set to UNSUPPORTED_ATTRIBUTE. 2. If the attribute data type field is incorrect, the device SHALL set the status field of the corresponding write attribute status record to INVALID_DATA_TYPE. 3. If the attribute is designated as read only, the device SHALL set the status field of the corresponding write attribute status record to READ_ONLY. 4. If the device is not currently accepting write attribute commands for the attribute, the status field of the corresponding write attribute status record SHALL be set to NOT_AUTHORIZED or READ_ONLY. 5. If the supplied value is not within the specified range of the attribute, the status field of the correspond- ing write attribute status record SHALL be set to INVALID_VALUE. 6. If the device cannot support the supplied value, the status field of the corresponding write attribute sta- tus record SHALL be set to INVALID_VALUE. If the above error checks pass without generating a write attribute status record, the device SHALL write the supplied value to the identified attribute, and SHALL move on to the next write attribute record. When all write attribute records have been processed, the device SHALL generate the constructed Write Attributes Response command. If there are no write attribute status records in the constructed command, indicating that all attributes were written successfully, a single write attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the attribute identifier field omitted. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-16 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.4 Write Attributes Undivided Command The Write Attributes Undivided command is generated when a device wishes to change the values of one or more attributes located on another device, in such a way that if any attribute cannot be written (e.g., if an attribute is not implemented on the device, or a value to be written is outside its valid range), no attribute values are changed. In all other respects, including generation of a Write Attributes Response command, the format and operation of the command is the same as that of the Write Attributes command, except that the command identifier field SHALL be set to indicate the Write Attributes Undivided command (see Table 2-3). 2.5.5 Write Attributes Response Command 2.5.5.1 Write Attributes Response Command Frame Format The Write Attributes Response command frame SHALL be formatted as illustrated in Figure 2-12. Figure 2-12. Format of Write Attributes Response Command Frame Octets: Variable \u2026 ZCL header Write attribute status record 1 Write attribute status record 2 \u2026 Write attribute status record n Each write attribute status record SHALL be formatted as illustrated in Figure 2-13. Figure 2-13. Format of the Write Attribute Status Record Field Octets: 1 Status Attribute identi- fier 2.5.5.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used as a response to writing attributes defined for any cluster in the ZCL or 1 if this command is being used as a response to writing manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes Response command (see Table 2-3). 2.5.5.1.2 Status Field The status field is 8 bits in length and specifies the status of the write operation attempted on this attribute, as detailed in 2.5.3.3. Note that write attribute status records are not included for successfully written attributes, to save bandwidth. In the case of successful writing of all attributes, only a single write attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the attribute identifier field omitted. ",
        "4": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-16 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.4 Write Attributes Undivided Command The Write Attributes Undivided command is generated when a device wishes to change the values of one or more attributes located on another device, in such a way that if any attribute cannot be written (e.g., if an attribute is not implemented on the device, or a value to be written is outside its valid range), no attribute values are changed. In all other respects, including generation of a Write Attributes Response command, the format and operation of the command is the same as that of the Write Attributes command, except that the command identifier field SHALL be set to indicate the Write Attributes Undivided command (see Table 2-3). 2.5.5 Write Attributes Response Command 2.5.5.1 Write Attributes Response Command Frame Format The Write Attributes Response command frame SHALL be formatted as illustrated in Figure 2-12. Figure 2-12. Format of Write Attributes Response Command Frame Octets: Variable \u2026 ZCL header Write attribute status record 1 Write attribute status record 2 \u2026 Write attribute status record n Each write attribute status record SHALL be formatted as illustrated in Figure 2-13. Figure 2-13. Format of the Write Attribute Status Record Field Octets: 1 Status Attribute identi- fier 2.5.5.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used as a response to writing attributes defined for any cluster in the ZCL or 1 if this command is being used as a response to writing manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes Response command (see Table 2-3). 2.5.5.1.2 Status Field The status field is 8 bits in length and specifies the status of the write operation attempted on this attribute, as detailed in 2.5.3.3. Note that write attribute status records are not included for successfully written attributes, to save bandwidth. In the case of successful writing of all attributes, only a single write attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the attribute identifier field omitted. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-17 2.5.5.1.3 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute on which the write operation was attempted. 2.5.5.2 When Generated The Write Attributes Response command is generated in response to a Write Attributes command. 2.5.5.3 Effect on Receipt On receipt of this command, the device is notified of the results of its original Write Attributes command. 2.5.6 Write Attributes No Response Command 2.5.6.1 Write Attributes No Response Command Frame Format The Write Attributes No Response command frame SHALL be formatted as illustrated in Figure 2-14. Figure 2-14. Write Attributes No Response Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Write attribute record 1 Write attribute record 2 \u2026 Write attribute record n Each write attribute record SHALL be formatted as illustrated in Figure 2-11. 2.5.6.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes No Response command (see Table 2-3). 2.5.6.1.2 Write Attribute Records Each write attribute record SHALL be formatted as illustrated in Figure 2-11. Its fields have the same mean- ing and contents as the corresponding fields of the Write Attributes command. 2.5.6.2 When Generated The Write Attributes No Response command is generated when a device wishes to change the value of one or more attributes located on another device but does not require a response. Each write attribute record SHALL contain the identifier and the actual value of the attribute to be written. ",
        "5": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-17 2.5.5.1.3 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute on which the write operation was attempted. 2.5.5.2 When Generated The Write Attributes Response command is generated in response to a Write Attributes command. 2.5.5.3 Effect on Receipt On receipt of this command, the device is notified of the results of its original Write Attributes command. 2.5.6 Write Attributes No Response Command 2.5.6.1 Write Attributes No Response Command Frame Format The Write Attributes No Response command frame SHALL be formatted as illustrated in Figure 2-14. Figure 2-14. Write Attributes No Response Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Write attribute record 1 Write attribute record 2 \u2026 Write attribute record n Each write attribute record SHALL be formatted as illustrated in Figure 2-11. 2.5.6.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes No Response command (see Table 2-3). 2.5.6.1.2 Write Attribute Records Each write attribute record SHALL be formatted as illustrated in Figure 2-11. Its fields have the same mean- ing and contents as the corresponding fields of the Write Attributes command. 2.5.6.2 When Generated The Write Attributes No Response command is generated when a device wishes to change the value of one or more attributes located on another device but does not require a response. Each write attribute record SHALL contain the identifier and the actual value of the attribute to be written. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-18 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.6.3 Effect on Receipt There SHALL NOT be any response, error response, or Default Response command, to this command. On receipt of this command, the device SHALL attempt to process each specified write attribute record. For each write attribute record included in the command frame, the device SHALL first check that it corre- sponds to an attribute that is implemented on this device. If it does not, the device SHALL ignore the attribute and move on to the next write attribute record. If the attribute identified by the attribute identifier is supported, the device SHALL check whether the attrib- ute is writable. If the attribute is designated as read only, the device SHALL ignore the attribute and move on to the next write attribute record. If the attribute is writable, the device SHALL check that the supplied value in the attribute data field is within the specified range of the attribute. If the supplied value does not fall within the specified range of the attrib- ute, the device SHALL ignore the attribute and move on to the next write attribute record. If the value supplied in the attribute data field is within the specified range of the attribute, the device SHALL write the supplied value to the identified attribute and move on to the next write attribute record. 2.5.7 Configure Reporting Command The Configure Reporting command is used to configure the reporting mechanism for one or more of the attributes of a cluster. The individual cluster definitions specify which attributes SHALL be available to this reporting mechanism, however specific implementations of a cluster may make additional attributes available. Note that attributes with data types of array, structure, set or bag cannot be reported. 2.5.7.1 Configure Reporting Command Frame Format The Configure Reporting command frame SHALL be formatted as illustrated in Figure 2-15. Figure 2-15. Format of the Configure Reporting Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Attribute reporting configuration record 1 Attribute reporting configuration record 2 \u2026 Attribute reporting con- figuration record n There SHALL be one attribute reporting configuration record for each attribute to be configured. Each such record SHALL be formatted as illustrated in Figure 2-16. Figure 2-16. Format of the Attribute Reporting Configuration Record Octets: 1 0/1 0/2 0/2 0/Variable 0/2 Direction Attribute identifier Attribute data type Minimum reporting in- terval Maximum reporting in- terval Reportable change Timeout period 2.5.7.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to configure attribute reports defined for any cluster in the ZCL or 1 if this command is being used to configure attribute reports for manufacturer specific attributes. ",
        "6": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-18 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.6.3 Effect on Receipt There SHALL NOT be any response, error response, or Default Response command, to this command. On receipt of this command, the device SHALL attempt to process each specified write attribute record. For each write attribute record included in the command frame, the device SHALL first check that it corre- sponds to an attribute that is implemented on this device. If it does not, the device SHALL ignore the attribute and move on to the next write attribute record. If the attribute identified by the attribute identifier is supported, the device SHALL check whether the attrib- ute is writable. If the attribute is designated as read only, the device SHALL ignore the attribute and move on to the next write attribute record. If the attribute is writable, the device SHALL check that the supplied value in the attribute data field is within the specified range of the attribute. If the supplied value does not fall within the specified range of the attrib- ute, the device SHALL ignore the attribute and move on to the next write attribute record. If the value supplied in the attribute data field is within the specified range of the attribute, the device SHALL write the supplied value to the identified attribute and move on to the next write attribute record. 2.5.7 Configure Reporting Command The Configure Reporting command is used to configure the reporting mechanism for one or more of the attributes of a cluster. The individual cluster definitions specify which attributes SHALL be available to this reporting mechanism, however specific implementations of a cluster may make additional attributes available. Note that attributes with data types of array, structure, set or bag cannot be reported. 2.5.7.1 Configure Reporting Command Frame Format The Configure Reporting command frame SHALL be formatted as illustrated in Figure 2-15. Figure 2-15. Format of the Configure Reporting Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Attribute reporting configuration record 1 Attribute reporting configuration record 2 \u2026 Attribute reporting con- figuration record n There SHALL be one attribute reporting configuration record for each attribute to be configured. Each such record SHALL be formatted as illustrated in Figure 2-16. Figure 2-16. Format of the Attribute Reporting Configuration Record Octets: 1 0/1 0/2 0/2 0/Variable 0/2 Direction Attribute identifier Attribute data type Minimum reporting in- terval Maximum reporting in- terval Reportable change Timeout period 2.5.7.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to configure attribute reports defined for any cluster in the ZCL or 1 if this command is being used to configure attribute reports for manufacturer specific attributes. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-19 The command identifier field SHALL be set to indicate the report configuration command (see Table 2-3). 2.5.7.1.2 Direction Field The direction field specifies whether values of the attribute are to be reported, or whether reports of the attribute are to be received. If this value is set to 0x00, then the attribute data type field, the minimum reporting interval field, the maxi- mum reporting interval field and the reportable change field are included in the payload, and the timeout period field is omitted. The record is sent to a cluster server (or client) to configure how it sends reports to a client (or server) of the same cluster. If this value is set to 0x01, then the timeout period field is included in the payload, and the attribute data type field, the minimum reporting interval field, the maximum reporting interval field and the reportable change field are omitted. The record is sent to a cluster client (or server) to configure how it SHOULD expect reports from a server (or client) of the same cluster. All other values of this field are reserved. Table 2-4. Destination of Reporting Based on Direction Field Direction Field Destinations 0x00 The receiver of the Configure Reporting command SHALL Configure Report- ing to send to each destination as resolved by the bindings for the cluster host- ing the attributes to be reported. 0x01 This indicates to the receiver of the Configure Reporting command that the sender has configured its reporting mechanism to transmit reports and that, based on the current state of the sender\u2019s bindings, the sender will send re- ports to the receiver. 2.5.7.1.3 Attribute Identifier Field If the direction field is 0x00, this field contains the identifier of the attribute that is to be reported. If instead the direction field is 0x01, the device SHALL expect reports of values of this attribute. 2.5.7.1.4 Attribute Data Type Field The Attribute data type field contains the data type of the attribute that is to be reported. 2.5.7.1.5 Minimum Reporting Interval Field The minimum reporting interval field is 16 bits in length and SHALL contain the minimum interval, in sec- onds, between issuing reports of the specified attribute. If this value is set to 0x0000, then there is no minimum limit, unless one is imposed by the specification of the cluster using this reporting mechanism or by the application. 2.5.7.1.6 Maximum Reporting Interval Field The maximum reporting interval field is 16 bits in length and SHALL contain the maximum interval, in seconds, between issuing reports of the specified attribute. If this value is set to 0xffff, then the device SHALL not issue reports for the specified attribute, and the configuration information for that attribute need not be maintained. (Note: in an implementation using dy- namic memory allocation, the memory space for that information may then be reclaimed). Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-20 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. If this value is set to 0x0000, and the minimum reporting interval field does not equal 0xffff there SHALL be no periodic reporting, but change based reporting SHALL still be operational. If this value is set to 0x0000 and the Minimum Reporting Interval Field equals 0xffff, then the device SHALL revert to its default reporting configuration. The reportable change field, if present, SHALL be set to zero. 2.5.7.1.7 Reportable Change Field The reportable change field SHALL contain the minimum change to the attribute that will result in a report being issued. This field is of variable length. For attributes with 'analog' data type (see 2.6.2), the field has the same data type as the attribute. The sign (if any) of the reportable change field is ignored. For attributes of 'discrete' data type (see 2.6.2), this field is omitted. If the Maximum Reporting Interval Field is set to 0xffff (terminate reporting configuration), or the Maximum Reporting Interval Field is set to 0x0000 and the Minimum Reporting Interval Field equals 0xffff, indicating a (default reporting configuration) then if this field is present, it SHALL be set to zero upon transmission and ignored upon reception. 2.5.7.1.8 Timeout Period Field The timeout period field is 16 bits in length and SHALL contain the maximum expected time, in seconds, between received reports for the attribute specified in the attribute identifier field. If more time than this elapses between reports, this may be an indication that there is a problem with reporting. If this value is set to 0x0000, reports of the attribute are not subject to timeout. Note that, for a server/client connection to work properly using automatic reporting, the timeout value set for attribute reports to be received by the client (or server) cluster must be set somewhat higher than the maxi- mum reporting interval set for the attribute on the server (or client) cluster. 2.5.7.2 When Generated The report configuration command is generated when a device wishes to configure a device to automatically report the values of one or more of its attributes, or to receive such reports. 2.5.7.3 Effect on Receipt On receipt of this command, the device SHALL attempt to process each attribute reporting configuration record and SHALL construct a Configure Reporting Response command. Each attribute status record of the constructed command SHALL contain an identifier from an attribute reporting configuration record and a status value evaluated as described below. If the direction field is 0x00, indicating that the reporting intervals and reportable change are being config- ured, then \u2022 If the attribute specified in the attribute identifier field is not implemented on this device, the device SHALL construct an attribute status record with the status field set to UNSUPPORTED_ATTRIB- UTE. \u2022 Else, if the attribute type is set to array, structure, set or bag the device SHALL construct an attribute status record with the status field set to UNREPORTABLE_ATTRIBUTE7. \u2022 Else, if the attribute identifier in this field cannot be reported (because it is not in the list of mandatory reportable attributes in the relevant cluster specification, and support has also not been implemented as 7 CCB 2543 Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-21 a manufacturer option), the device SHALL construct an attribute status record with the status field set to UNREPORTABLE_ATTRIBUTE. \u2022 Else, if the attribute data type field is incorrect, the device SHALL construct an attribute status record with the status field set to INVALID_DATA_TYPE. \u2022 Else, if the minimum reporting interval field is less than any minimum set by the relevant cluster speci- fication or application, or the value of the maximum reporting interval field is non-zero and is less than that of the minimum reporting interval field, the device SHALL construct an attribute status record with the status field set to INVALID_VALUE. \u2022 Else, if the value of the minimum or maximum reporting interval field is not supported by the product, the device SHALL construct an attribute status record with the status field set to INVALID_VALUE. \u2022 Else the device SHALL set the minimum and maximum reporting intervals and the reportable change for the attribute to the values contained in the corresponding fields. Else the direction field is 0x01, indicating that the timeout period is being configured, then If reports of values of the attribute identifier specified in the attribute identifier field cannot be received (because it is not in the list of mandatory reportable attributes in the relevant cluster specification, and support has also not been implemented as a manufacturer option), or the timeout feature is not supported, the device SHALL construct an attribute status record with the status field set to UNREPORTABLE_ATTRIBUTE8. Else the device SHALL set the timeout value for the attribute identifier specified in the attribute identifier field to the value of the timeout period field. Note that the action to be taken by the device if the timeout period is exceeded is cluster and device dependent, including optionally taking no action. When all attribute reporting configuration records have been processed, the device SHALL generate the con- structed Configure Reporting Response command. If there are no attribute status records in the constructed command, indicating that all attributes were configured successfully, a single attribute status record SHALL be included in the command, with the status field set to SUCCESS and the direction and attribute identifier fields omitted. The device SHALL then proceed to generate or receive attribute reports according the configuration just set up, by means of the Report Attributes command (see 2.5.11.2.1 through2.5.11.2.4). See Table 2-4 to deter- mine the destination of the Report Attributes command. 2.5.8 Configure Reporting Response Command The Configure Reporting Response command is used to respond to a Configure Reporting command. 2.5.8.1 Configure Reporting Response Command Frame Format The Configure Reporting Response command frame SHALL be formatted as illustrated in Figure 2-17. Figure 2-17. Format of the Configure Reporting Response Command Frame Octets: Variable \u2026 ZCL header Attribute status record 1 Attribute status record 2 \u2026 Attribute status record n 8 CCB 2543 error code wrong ",
        "7": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-21 a manufacturer option), the device SHALL construct an attribute status record with the status field set to UNREPORTABLE_ATTRIBUTE. \u2022 Else, if the attribute data type field is incorrect, the device SHALL construct an attribute status record with the status field set to INVALID_DATA_TYPE. \u2022 Else, if the minimum reporting interval field is less than any minimum set by the relevant cluster speci- fication or application, or the value of the maximum reporting interval field is non-zero and is less than that of the minimum reporting interval field, the device SHALL construct an attribute status record with the status field set to INVALID_VALUE. \u2022 Else, if the value of the minimum or maximum reporting interval field is not supported by the product, the device SHALL construct an attribute status record with the status field set to INVALID_VALUE. \u2022 Else the device SHALL set the minimum and maximum reporting intervals and the reportable change for the attribute to the values contained in the corresponding fields. Else the direction field is 0x01, indicating that the timeout period is being configured, then If reports of values of the attribute identifier specified in the attribute identifier field cannot be received (because it is not in the list of mandatory reportable attributes in the relevant cluster specification, and support has also not been implemented as a manufacturer option), or the timeout feature is not supported, the device SHALL construct an attribute status record with the status field set to UNREPORTABLE_ATTRIBUTE8. Else the device SHALL set the timeout value for the attribute identifier specified in the attribute identifier field to the value of the timeout period field. Note that the action to be taken by the device if the timeout period is exceeded is cluster and device dependent, including optionally taking no action. When all attribute reporting configuration records have been processed, the device SHALL generate the con- structed Configure Reporting Response command. If there are no attribute status records in the constructed command, indicating that all attributes were configured successfully, a single attribute status record SHALL be included in the command, with the status field set to SUCCESS and the direction and attribute identifier fields omitted. The device SHALL then proceed to generate or receive attribute reports according the configuration just set up, by means of the Report Attributes command (see 2.5.11.2.1 through2.5.11.2.4). See Table 2-4 to deter- mine the destination of the Report Attributes command. 2.5.8 Configure Reporting Response Command The Configure Reporting Response command is used to respond to a Configure Reporting command. 2.5.8.1 Configure Reporting Response Command Frame Format The Configure Reporting Response command frame SHALL be formatted as illustrated in Figure 2-17. Figure 2-17. Format of the Configure Reporting Response Command Frame Octets: Variable \u2026 ZCL header Attribute status record 1 Attribute status record 2 \u2026 Attribute status record n 8 CCB 2543 error code wrong Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-22 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Each attribute status record SHALL be formatted as illustrated in Figure 2-18. Figure 2-18. Format of the Attribute Status Record Field Octets: 1 Status Direction Attribute identifier 2.5.8.1.1 ZCL Header Fields The frame control field is specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used as a response to configuring attribute reports defined for any cluster in the ZCL or 1 if this command is being used as a response to configuring attribute reports for manufacturer specific attributes. The command identifier field SHALL be set to indicate the report configuration response command (see Table 2-3). 2.5.8.1.2 Direction Field The direction field specifies whether values of the attribute are reported (0x00), or whether reports of the attribute are received (0x01). All other values of this field are reserved. 2.5.8.1.3 Status Field The status field specifies the status of the Configure Reporting operation attempted on this attribute, as de- tailed in 2.5.7.3. Note that attribute status records are not included for successfully configured attributes, to save bandwidth. In the case of successful configuration of all attributes, only a single attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the direction and attribute identifier fields omitted. 2.5.8.2 When Generated The Configure Reporting Response command is generated in response to a Configure Reporting command. 2.5.8.3 Effect on Receipt On receipt of this command, the device is notified of the success (or otherwise) of its original Configure Reporting command, for each attribute. 2.5.9 Read Reporting Configuration Command The Read Reporting Configuration command is used to read the configuration details of the reporting mech- anism for one or more of the attributes of a cluster. ",
        "8": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-22 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Each attribute status record SHALL be formatted as illustrated in Figure 2-18. Figure 2-18. Format of the Attribute Status Record Field Octets: 1 Status Direction Attribute identifier 2.5.8.1.1 ZCL Header Fields The frame control field is specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used as a response to configuring attribute reports defined for any cluster in the ZCL or 1 if this command is being used as a response to configuring attribute reports for manufacturer specific attributes. The command identifier field SHALL be set to indicate the report configuration response command (see Table 2-3). 2.5.8.1.2 Direction Field The direction field specifies whether values of the attribute are reported (0x00), or whether reports of the attribute are received (0x01). All other values of this field are reserved. 2.5.8.1.3 Status Field The status field specifies the status of the Configure Reporting operation attempted on this attribute, as de- tailed in 2.5.7.3. Note that attribute status records are not included for successfully configured attributes, to save bandwidth. In the case of successful configuration of all attributes, only a single attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the direction and attribute identifier fields omitted. 2.5.8.2 When Generated The Configure Reporting Response command is generated in response to a Configure Reporting command. 2.5.8.3 Effect on Receipt On receipt of this command, the device is notified of the success (or otherwise) of its original Configure Reporting command, for each attribute. 2.5.9 Read Reporting Configuration Command The Read Reporting Configuration command is used to read the configuration details of the reporting mech- anism for one or more of the attributes of a cluster. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-23 2.5.9.1 Read Reporting Configuration Command Frame Format The Read Reporting Configuration command frame SHALL be formatted as illustrated in Figure 2-19. Figure 2-19. Read Reporting Configuration Command Frame Octets: Variable \u2026 ZCL header Attribute record 1 Attribute record 2 \u2026 Attribute record n Each attribute record SHALL be formatted as illustrated in Figure 2-20. Figure 2-20. Format of the Attribute Status Record Field Octets: 1 Direction Attribute identifier 2.5.9.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to read the reporting configuration of attributes defined for any cluster in the ZCL or 1 if this command is being used to read the reporting configuration of manufacturer specific attributes. The command identifier field SHALL be set to indicate the Read Reporting Configuration command (see Table 2-3). 2.5.9.1.2 Direction Field The direction field specifies whether values of the attribute are reported (0x00), or whether reports of the attribute are received (0x01). All other values of this field are reserved. 2.5.9.1.3 Attribute Identifier Field The attribute identifier field SHALL contain the identifier of the attribute whose reporting configuration details are to be read. 2.5.9.2 Effect on Receipt On receipt of this command, a device SHALL generate a Read Reporting Configuration Response command containing the details of the reporting configuration for each of the attributes specified in the command (see 2.5.10). 2.5.10 Read Reporting Configuration Response Com- mand The Read Reporting Configuration Response command is used to respond to a Read Reporting Configuration command. ",
        "9": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-23 2.5.9.1 Read Reporting Configuration Command Frame Format The Read Reporting Configuration command frame SHALL be formatted as illustrated in Figure 2-19. Figure 2-19. Read Reporting Configuration Command Frame Octets: Variable \u2026 ZCL header Attribute record 1 Attribute record 2 \u2026 Attribute record n Each attribute record SHALL be formatted as illustrated in Figure 2-20. Figure 2-20. Format of the Attribute Status Record Field Octets: 1 Direction Attribute identifier 2.5.9.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to read the reporting configuration of attributes defined for any cluster in the ZCL or 1 if this command is being used to read the reporting configuration of manufacturer specific attributes. The command identifier field SHALL be set to indicate the Read Reporting Configuration command (see Table 2-3). 2.5.9.1.2 Direction Field The direction field specifies whether values of the attribute are reported (0x00), or whether reports of the attribute are received (0x01). All other values of this field are reserved. 2.5.9.1.3 Attribute Identifier Field The attribute identifier field SHALL contain the identifier of the attribute whose reporting configuration details are to be read. 2.5.9.2 Effect on Receipt On receipt of this command, a device SHALL generate a Read Reporting Configuration Response command containing the details of the reporting configuration for each of the attributes specified in the command (see 2.5.10). 2.5.10 Read Reporting Configuration Response Com- mand The Read Reporting Configuration Response command is used to respond to a Read Reporting Configuration command. ",
        "10": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-25 All other values of this field are reserved. 2.5.10.1.4 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that the reporting configuration details apply to. 2.5.10.1.5 Minimum Reporting Interval Field The minimum reporting interval field is 16 bits in length and SHALL contain the minimum interval, in sec- onds, between issuing reports for the attribute specified in the attribute identifier field. If the minimum re- porting interval has not been configured, this field SHALL contain the value 0xffff. 2.5.10.1.6 Maximum Reporting Interval Field The maximum reporting interval field is 16 bits in length and SHALL contain the maximum interval, in seconds, between issuing reports for the attribute specified in the attribute identifier field. If the maximum reporting interval has not been configured, this field SHALL contain the value 0xffff. 2.5.10.1.7 Reportable Change Field The reportable change field SHALL contain the minimum change to the attribute that will result in a report being issued. For attributes with Analog data type (see 2.6.2), the field has the same data type as the attribute. If the reportable change has not been configured, this field SHALL contain the invalid value for the relevant data type. For attributes of Discrete or Composite data (see 2.6.2), this field is omitted. 2.5.10.1.8 Timeout Period Field The timeout period field is 16 bits in length and SHALL contain the maximum expected time, in seconds, between received reports for the attribute specified in the attribute identifier field. If the timeout period has not been configured, this field SHALL contain the value 0xffff. 2.5.10.2 When Generated The Read Reporting Configuration Response command is generated in response to a Read Reporting Con- figuration command. Only as many attribute reporting configuration records as will fit in the frame SHALL be returned. 2.5.10.3 Effect on Receipt On receipt of this command, the originator is notified of the results of its original Read Reporting Configu- ration command. If some trailing attribute reporting configuration records have not been returned, due to space limitations in the frame, the originator may issue a further Read Reporting Configuration command to obtain their values. 2.5.11 Report Attributes Command The Report Attributes command is used by a device to report the values of one or more of its attributes to another device. Individual clusters, defined elsewhere in the ZCL, define which attributes are to be reported and at what interval. See 2.5.7 to determine the destination of the Report Attributes command. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-26 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.11.1 Report Attributes Command Frame Format The Report Attributes command frame SHALL be formatted as illustrated in Figure 2-23. Figure 2-23. Format of the Report Attributes Command Frame Octets: Variable Variable Variable \u2026 Variable ZCL header Attribute report 1 Attribute report 2 \u2026 Attribute report n Each attribute report field SHALL be formatted as illustrated in Figure 2-24. Figure 2-24. Format of the Attribute Report Fields Octets: 2 Variable Attribute identifier Attribute data type Attribute data 2.5.11.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Report Attributes defined for any cluster in the ZCL or 1 if this command is being used to report manufacturer specific attributes. The command identifier field SHALL be set to indicate the Report Attributes command (see Table 2-3). 2.5.11.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that is being reported. When reporting requires sending multiple Report Attributes commands see 2.3.4.5.2. 2.5.11.1.3 Attribute Data Type Field The attribute data type field contains the data type of the attribute that is being reported. 2.5.11.1.4 Attribute Data Field The attribute data field is variable in length and SHALL contain the actual value of the attribute being re- ported. 2.5.11.2 When Generated The Report Attributes command is generated when a device has been configured to report the values of one or more of its attributes to another device., and when the conditions that have been configured are satisfied. These conditions are detailed in the following sections. A Report Attributes command may also be configured locally on a device at any time. Except for the source, a locally created report configuration SHALL be no different than a configuration received externally. A locally created report configuration SHALL support the same services as a configuration received externally. If the destination of the Report Attributes Command cannot be determined, then the command SHALL not be generated. See 2.5.7 to determine the destination of the Report Attributes command. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-27 2.5.11.2.1 Periodic Reporting A report SHALL be generated when the time that has elapsed since the previous report of the same attribute is equal to the Maximum Reporting Interval for that attribute (see 2.5.7.1.6). The time of the first report after configuration is not specified. 2.5.11.2.2 Changes to 'Discrete' Attributes If the attribute has a 'discrete' data type, a report SHALL be generated when the attribute undergoes any change of value. Discrete types are general data types (which are often used as sets of bit fields), logical types, bitmap types, enumerations, strings, identifiers, IEEE address and security key (see 2.6.2). Reporting is subject to the Minimum Reporting Interval for that attribute (see 2.5.7.1.5). After a report, no further reports are sent during this interval. 2.5.11.2.3 Changes to 'Analog' Attributes If the attribute has an 'analog' data type, a report SHALL be generated when the attribute undergoes a change of value, in a positive or negative direction, equal to or greater than the Reportable Change for that attribute (see 2.5.7.1.7). The change is measured from the value of the attribute when the Reportable Change is con- figured, and thereafter from the previously reported value of the attribute. Analog types are signed and unsigned integer types, floating point types and time types (see 2.6.2). Reporting is subject to the Minimum Reporting Interval for that attribute (see 2.5.7.1.5). After a report, no further reports are sent during this interval. 2.5.11.2.4 Cluster Specific Conditions The specification for a cluster may add additional conditions for specific attributes of that cluster. 2.5.11.2.5 Consolidation of Attribute Reporting To reduce the resources (such as the number of timers) required for attribute reporting, a device may adapt the timing of reports by relaxing the configured minimum and maximum periods as described below. By employing these techniques, a device may limit the number of timers required to any manufacturer specific value, including use of only a single timer, though at the cost of some side effects, such as increased network traffic in some cases. In consolidating timers, several principles apply: 1. The maximum reporting interval of an attribute may be reduced, as it SHOULD not normally cause a problem to devices to receive reports more frequently than expected \u2013 typical reporting intervals are seconds to minutes. It may not be increased, as this may be incompatible with any timeout period set. 2. The minimum reporting interval of an attribute may also be reduced. However, it may not be in- creased, as an application may be relying on receiving reports of changes to an attribute within a given delay time. Minimum values are generally used to reduce network traffic, but this is less important than ensuring that the application timing needs are satisfied. 3. From (1), when consolidating the maximum reporting periods of two or more attributes together, the consolidated reporting period SHALL be equal to the lowest of the configured maximum intervals of the attributes to be reported. 4. Similarly, from (2), when consolidating the minimum reporting periods of two or more attributes to- gether, the consolidated reporting period SHALL be equal to the lowest of the configured minimum intervals of the attributes to be reported. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-28 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. As a first step, timers for attributes on the same cluster may be consolidated. Such adaptations SHOULD aim to send attribute reports for different attributes of the same cluster at the same time, so that they can be consolidated into fewer attribute reports, thus reducing network traffic. To reduce the number of timers further, timers may be consolidated across clusters and endpoints if needed. (Note that it is not generally possible to consolidate timeout values (see 2.5.7.1.8) of received attribute re- ports.) 2.5.11.3 Effect on Receipt On receipt of this command, a device is notified of the latest values of one or more of the attributes of another device. 2.5.12 Default Response Command 2.5.12.1 Default Response Command Frame Format The Default Response command frame SHALL be formatted as illustrated in Figure 2-25. Figure 2-25. Format of the Default Response Command Frame Octets: Variable ZCL header Command identifier Status code 2.5.12.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being sent in response to a command defined for any cluster in the ZCL or 1 if this command is being sent in response to a manufacturer specific command. The command identifier sub-field SHALL be set to indicate the Default Response command (see Table 2-3). 2.5.12.1.2 Command Identifier Field The command identifier field is 8 bits in length and specifies the identifier of the received command to which this command is a response. 2.5.12.1.3 Status Code Field The status code field is 8 bits in length and specifies either SUCCESS or the nature of the error that was detected in the received command. It SHALL be one of the status enumerations listed in Table 2-12. 2.5.12.2 When Generated The Default Response command SHALL be generated when all 4 of these criteria are met: 5. A device receives a unicast command that is not a Default Response command. 6. No other command is sent in response to the received command, using the same Transaction sequence number as the received command. ",
        "11": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-28 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. As a first step, timers for attributes on the same cluster may be consolidated. Such adaptations SHOULD aim to send attribute reports for different attributes of the same cluster at the same time, so that they can be consolidated into fewer attribute reports, thus reducing network traffic. To reduce the number of timers further, timers may be consolidated across clusters and endpoints if needed. (Note that it is not generally possible to consolidate timeout values (see 2.5.7.1.8) of received attribute re- ports.) 2.5.11.3 Effect on Receipt On receipt of this command, a device is notified of the latest values of one or more of the attributes of another device. 2.5.12 Default Response Command 2.5.12.1 Default Response Command Frame Format The Default Response command frame SHALL be formatted as illustrated in Figure 2-25. Figure 2-25. Format of the Default Response Command Frame Octets: Variable ZCL header Command identifier Status code 2.5.12.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being sent in response to a command defined for any cluster in the ZCL or 1 if this command is being sent in response to a manufacturer specific command. The command identifier sub-field SHALL be set to indicate the Default Response command (see Table 2-3). 2.5.12.1.2 Command Identifier Field The command identifier field is 8 bits in length and specifies the identifier of the received command to which this command is a response. 2.5.12.1.3 Status Code Field The status code field is 8 bits in length and specifies either SUCCESS or the nature of the error that was detected in the received command. It SHALL be one of the status enumerations listed in Table 2-12. 2.5.12.2 When Generated The Default Response command SHALL be generated when all 4 of these criteria are met: 5. A device receives a unicast command that is not a Default Response command. 6. No other command is sent in response to the received command, using the same Transaction sequence number as the received command. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-29 7. The Disable Default Response bit of its Frame control field is set to 0 (see 2.4.1.1.4) or when an error results. 8. The \u201cEffect on Receipt\u201d clause for the received command does not override the behavior of when a Default Response command is sent. If a device receives a command in error through a broadcast or multicast transmission, the command SHALL be discarded and the Default Response command SHALL not be generated. If the identifier of the received command is not supported on the device, it SHALL set the command identifier field to the value of the identifier of the command received in error. The status code field SHALL be set to UNSUP_COMMAND9. If the device receives a unicast cluster command to a particular endpoint, and the cluster does not exist on the endpoint, the status code field SHALL be set to UNSUPPORTED_CLUSTER. Receiving devices SHOULD accept other error status codes, such as FAILURE, from devices certified before ZCL revision 6. The Default Response command SHALL be generated in response to reception of all commands, including response commands (such as the Write Attributes Response command), under the conditions specified above. However, the Default Response command SHALL not be generated in response to reception of another De- fault Response command. 2.5.12.3 Effect on Receipt On receipt of this command, the device is notified of the success or otherwise of the generated command with the same transaction sequence number (see 2.4.1.3). 2.5.13 Discover Attributes Command 2.5.13.1 Discover Attributes Command Frame Format The Discover Attributes command frame SHALL be formatted as illustrated in Figure 2-26. Figure 2-26. Format of the Discover Attributes Command Frame Octets: Variable ZCL header Start attribute identifier Maximum attribute identifiers 2.5.13.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 to discover standard at- tributes in a cluster or 1 to discover manufacturer specific attributes in either a standard or a manufacturer specific cluster. The command identifier field SHALL be set to indicate the Discover Attributes command (see Table 2-3). 2.5.13.1.2 Start Attribute Identifier Field The start attribute identifier field is 16 bits in length and specifies the value of the identifier at which to begin the attribute discovery. 9 CCB 2477 Status Code Cleanup: UNSUP_COMMAND is renamed UNSUP_CLUSTER_COMMAND ",
        "12": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-29 7. The Disable Default Response bit of its Frame control field is set to 0 (see 2.4.1.1.4) or when an error results. 8. The \u201cEffect on Receipt\u201d clause for the received command does not override the behavior of when a Default Response command is sent. If a device receives a command in error through a broadcast or multicast transmission, the command SHALL be discarded and the Default Response command SHALL not be generated. If the identifier of the received command is not supported on the device, it SHALL set the command identifier field to the value of the identifier of the command received in error. The status code field SHALL be set to UNSUP_COMMAND9. If the device receives a unicast cluster command to a particular endpoint, and the cluster does not exist on the endpoint, the status code field SHALL be set to UNSUPPORTED_CLUSTER. Receiving devices SHOULD accept other error status codes, such as FAILURE, from devices certified before ZCL revision 6. The Default Response command SHALL be generated in response to reception of all commands, including response commands (such as the Write Attributes Response command), under the conditions specified above. However, the Default Response command SHALL not be generated in response to reception of another De- fault Response command. 2.5.12.3 Effect on Receipt On receipt of this command, the device is notified of the success or otherwise of the generated command with the same transaction sequence number (see 2.4.1.3). 2.5.13 Discover Attributes Command 2.5.13.1 Discover Attributes Command Frame Format The Discover Attributes command frame SHALL be formatted as illustrated in Figure 2-26. Figure 2-26. Format of the Discover Attributes Command Frame Octets: Variable ZCL header Start attribute identifier Maximum attribute identifiers 2.5.13.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 to discover standard at- tributes in a cluster or 1 to discover manufacturer specific attributes in either a standard or a manufacturer specific cluster. The command identifier field SHALL be set to indicate the Discover Attributes command (see Table 2-3). 2.5.13.1.2 Start Attribute Identifier Field The start attribute identifier field is 16 bits in length and specifies the value of the identifier at which to begin the attribute discovery. 9 CCB 2477 Status Code Cleanup: UNSUP_COMMAND is renamed UNSUP_CLUSTER_COMMAND Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-30 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.13.1.3 Maximum Attribute Identifiers Field The maximum attribute identifiers field is 8 bits in length and specifies the maximum number of attribute identifiers that are to be returned in the resulting Discover Attributes Response command. 2.5.13.2 When Generated The Discover Attributes command is generated when a remote device wishes to discover the identifiers and types of the attributes on a device which are supported within the cluster to which this command is directed. 2.5.13.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of attribute information records, each containing a discovered attribute identifier and its data type, in ascending order of attribute identifiers. This list SHALL start with the first attribute that has an identifier that is equal to or greater than the identifier specified in the start attribute identifier field. The number of attribute identifiers included in the list SHALL not exceed that specified in the maximum attribute identifiers field. The device SHALL then generate a Discover Attributes Response command containing the discovered attributes and their types, and SHALL return it to the originator of the Discover Attributes command. 2.5.14 Discover Attributes Response Command 2.5.14.1 Discover Attributes Response Command Frame Format The Discover Attributes Response command frame SHALL be formatted as illustrated in Figure 2-27. Figure 2-27. Discover Attributes Response Command Frame Octets: Variable \u2026 ZCL header Discovery complete Attribute infor- mation 1 Attribute infor- mation 2 \u2026 Attribute infor- mation n Each attribute information field SHALL be formatted as illustrated in Figure 2-28. Figure 2-28. Format of the Attribute Report Fields Octets: 2 Attribute identifier Attribute data type 2.5.14.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to the same value included in the original Discover Attributes command. The command identifier field SHALL be set to indicate the Discover Attributes Response command (see Table 2-3). ",
        "13": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-30 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.13.1.3 Maximum Attribute Identifiers Field The maximum attribute identifiers field is 8 bits in length and specifies the maximum number of attribute identifiers that are to be returned in the resulting Discover Attributes Response command. 2.5.13.2 When Generated The Discover Attributes command is generated when a remote device wishes to discover the identifiers and types of the attributes on a device which are supported within the cluster to which this command is directed. 2.5.13.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of attribute information records, each containing a discovered attribute identifier and its data type, in ascending order of attribute identifiers. This list SHALL start with the first attribute that has an identifier that is equal to or greater than the identifier specified in the start attribute identifier field. The number of attribute identifiers included in the list SHALL not exceed that specified in the maximum attribute identifiers field. The device SHALL then generate a Discover Attributes Response command containing the discovered attributes and their types, and SHALL return it to the originator of the Discover Attributes command. 2.5.14 Discover Attributes Response Command 2.5.14.1 Discover Attributes Response Command Frame Format The Discover Attributes Response command frame SHALL be formatted as illustrated in Figure 2-27. Figure 2-27. Discover Attributes Response Command Frame Octets: Variable \u2026 ZCL header Discovery complete Attribute infor- mation 1 Attribute infor- mation 2 \u2026 Attribute infor- mation n Each attribute information field SHALL be formatted as illustrated in Figure 2-28. Figure 2-28. Format of the Attribute Report Fields Octets: 2 Attribute identifier Attribute data type 2.5.14.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to the same value included in the original Discover Attributes command. The command identifier field SHALL be set to indicate the Discover Attributes Response command (see Table 2-3). Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-31 2.5.14.1.2 Discovery Complete Field The discovery complete field is a Boolean field. A value of 0 indicates that there are more attributes to be discovered that have an attribute identifier value greater than the last attribute identifier in the last attribute information field. A value of 1 indicates that there are no more attributes to be discovered. 2.5.14.1.3 Attribute Identifier Field The attribute identifier field SHALL contain the identifier of a discovered attribute. Attributes SHALL be included in ascending order, starting with the lowest attribute identifier that is greater than or equal to the start attribute identifier field of the received Discover Attributes command. 2.5.14.1.4 Attribute Data Type Field The attribute data type field SHALL contain the data type of the attribute in the same attribute report field (see 2.6.2). 2.5.14.2 When Generated The Discover Attributes Response command is generated in response to a Discover Attributes command. 2.5.14.3 Effect on Receipt On receipt of this command, the device is notified of the results of its attribute discovery request. Following the receipt of this command, if the discovery complete field indicates that there are more attributes to be discovered, the device may choose to send subsequent discover attribute request commands to obtain the rest of the attribute identifiers. In this case, the start attribute identifier specified in the next attribute discovery request command SHOULD be set equal to one plus the last attribute identifier received in the Discover Attributes Response command. 2.5.15 Read Attributes Structured Command 2.5.15.1 Read Attributes Structured Command Frame Format The Read Attributes Structured command frame SHALL be formatted as illustrated in Figure 2-29. Figure 2-29. Format of Read Attributes Structured Command Frame Octets: Variable Variable ... Variable ZCL header Attribute identifier 1 Selector 1 ... Attribute identifier n Selector n 2.5.15.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Read Attributes defined for any cluster in the ZCL or 1 if this command is being used to read manu- facturer specific attributes. The command identifier field SHALL be set to indicate the Read Attributes Structured command (see Table 2-3). ",
        "14": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-31 2.5.14.1.2 Discovery Complete Field The discovery complete field is a Boolean field. A value of 0 indicates that there are more attributes to be discovered that have an attribute identifier value greater than the last attribute identifier in the last attribute information field. A value of 1 indicates that there are no more attributes to be discovered. 2.5.14.1.3 Attribute Identifier Field The attribute identifier field SHALL contain the identifier of a discovered attribute. Attributes SHALL be included in ascending order, starting with the lowest attribute identifier that is greater than or equal to the start attribute identifier field of the received Discover Attributes command. 2.5.14.1.4 Attribute Data Type Field The attribute data type field SHALL contain the data type of the attribute in the same attribute report field (see 2.6.2). 2.5.14.2 When Generated The Discover Attributes Response command is generated in response to a Discover Attributes command. 2.5.14.3 Effect on Receipt On receipt of this command, the device is notified of the results of its attribute discovery request. Following the receipt of this command, if the discovery complete field indicates that there are more attributes to be discovered, the device may choose to send subsequent discover attribute request commands to obtain the rest of the attribute identifiers. In this case, the start attribute identifier specified in the next attribute discovery request command SHOULD be set equal to one plus the last attribute identifier received in the Discover Attributes Response command. 2.5.15 Read Attributes Structured Command 2.5.15.1 Read Attributes Structured Command Frame Format The Read Attributes Structured command frame SHALL be formatted as illustrated in Figure 2-29. Figure 2-29. Format of Read Attributes Structured Command Frame Octets: Variable Variable ... Variable ZCL header Attribute identifier 1 Selector 1 ... Attribute identifier n Selector n 2.5.15.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Read Attributes defined for any cluster in the ZCL or 1 if this command is being used to read manu- facturer specific attributes. The command identifier field SHALL be set to indicate the Read Attributes Structured command (see Table 2-3). Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-32 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.15.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that is to be read. 2.5.15.1.3 Selector Field Each attribute identifier field is followed by a selector field, which specifies whether the whole of the attribute value is to be read, or only an individual element of it. An individual element may only be read from attributes with types of Array or Structure. The Selector field SHALL be formatted as illustrated in Figure 2-30. Figure 2-30. Format of the Selector Field Octets: 1 ... Indicator (m) Index 1 ... Index m The Indicator subfield indicates the number of index fields that follow it. This number is limited to the range 0 - 15. It may be further limited by an application. All other values of this field are reserved. If this subfield is 0, there are no index fields, and the whole of the attribute value is to be read. For attributes of type other than array or structure, this subfield SHALL have the value 0. If this subfield is 1 or greater, the index fields indicate which element is to be read, nested to a depth of m. For example, if the attribute is an array of arrays (or structures), then if m = 2, index 1 = 5 and index 2 = 3, the third element of the fifth element of the attribute will be read. Note that elements are numbered from 1 upwards for both arrays and structures. The zeroth element of an array or structure is readable, always has type 16 bit unsigned integer, and returns the number of elements contained in the array or structure. 2.5.15.2 When Generated The Read Attributes command is generated when a device wishes to determine the values of one or more attributes, or elements of attributes, located on another device. Each attribute identifier field SHALL contain the identifier of the attribute to be read. 2.5.15.3 Effect on Receipt On receipt of this command, the device SHALL process each specified attribute identifier and associated selector, and SHALL generate a Read Attributes Response command. The Read Attributes Response com- mand SHALL contain as many read attribute status records as there are attribute identifiers included in this command frame. Each read attribute status record SHALL contain the corresponding attribute identifier from this command frame, a status value evaluated as described below, and, depending on the status value, the value of the attribute (or attribute element) itself. For each attribute identifier included in the command frame, the device SHALL first check that it corresponds to an attribute that exists on this device, and that its associated selector field correctly indicates either the whole of the attribute or an element of the attribute. If it does not, the device SHALL set the status field of the corresponding read attribute status record to either UNSUPPORTED_ATTRIBUTE or INVALID_SE- LECTOR as appropriate, and SHALL not include an attribute value field. The device SHALL then move on to the next attribute identifier. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-33 If the attribute identified by the attribute identifier is supported, and its associated selector field is valid, the device SHALL set the status field of the corresponding read attribute status record to SUCCESS and SHALL set the attribute value field to the value of the attribute (or its selected element). The device SHALL then move on to the next attribute identifier. 2.5.16 Write Attributes Structured Command 2.5.16.1 Write Attributes Structured Command Frame Format The Write Attributes Structured command frame SHALL be formatted as illustrated in Figure 2-31. Figure 2-31. Write Attributes Structured Command Frame Octets: Variable Variable Variable ... Variable ZCL header Write attribute record 1 Write attribute record 2 ... Write attribute record n Each write attribute record SHALL be formatted as illustrated in Figure 2-32. Figure 2-32. Format of the Write Attribute Record Field Octets: 2 Variable Variable Attribute identifier Selector Attribute data type Attribute value 2.5.16.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes Structured command (see Table 2-3). 2.5.16.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that is to be written (or an element of which is to be written). 2.5.16.1.3 Selector Field The selector field specifies whether the whole of the attribute value is to be written, or only an individual element of it. An individual element may only be written to attributes with types of Array, Structure, Set or Bag. The Selector field SHALL be formatted as illustrated in Figure 2-33. Figure 2-33. Format of the Selector Field Octets: 1 ... Indicator (m) Index 1 ... Index m ",
        "15": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-33 If the attribute identified by the attribute identifier is supported, and its associated selector field is valid, the device SHALL set the status field of the corresponding read attribute status record to SUCCESS and SHALL set the attribute value field to the value of the attribute (or its selected element). The device SHALL then move on to the next attribute identifier. 2.5.16 Write Attributes Structured Command 2.5.16.1 Write Attributes Structured Command Frame Format The Write Attributes Structured command frame SHALL be formatted as illustrated in Figure 2-31. Figure 2-31. Write Attributes Structured Command Frame Octets: Variable Variable Variable ... Variable ZCL header Write attribute record 1 Write attribute record 2 ... Write attribute record n Each write attribute record SHALL be formatted as illustrated in Figure 2-32. Figure 2-32. Format of the Write Attribute Record Field Octets: 2 Variable Variable Attribute identifier Selector Attribute data type Attribute value 2.5.16.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes Structured command (see Table 2-3). 2.5.16.1.2 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute that is to be written (or an element of which is to be written). 2.5.16.1.3 Selector Field The selector field specifies whether the whole of the attribute value is to be written, or only an individual element of it. An individual element may only be written to attributes with types of Array, Structure, Set or Bag. The Selector field SHALL be formatted as illustrated in Figure 2-33. Figure 2-33. Format of the Selector Field Octets: 1 ... Indicator (m) Index 1 ... Index m Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-34 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.16.1.4 Writing an Element to an Array or Structure When writing an element to an array or structure, the Indicator subfield indicates the number of index fields that follow it. This number is limited to the range 0 - 15 (i.e., the upper 4 bits of the Indicator field are set to zero). It may be further limited by an application. If the Indicator subfield is 0, there are no index fields, and the whole of the attribute value is to be written. If this subfield is 1 or greater, the index fields indicate which element is to be written, nested to a depth of m. For example, if the attribute is an array of arrays (or structures), then if m = 2, index 1 = 5 and index 2 = 3, the third element of the fifth element of the attribute will be written. Note that elements are numbered from 1 upwards for both arrays and structures. The zeroth element of an array or structure has type 16-bit unsigned integer, and holds the number of elements in the array or structure. The zeroth element of an array may optionally be written (this is application depend- ent) and has the effect of changing the number of elements of the array. If the number is reduced, the array is truncated. If the number is increased, the content of new elements is application dependent. The zeroth element of a structure may not be written to. Writing to an element with an index greater than the number of elements in an array or structure is always an error. 2.5.16.1.5 Adding/Removing an Element to/from a Set or Bag This command may also be used to add an element to a set or bag, or to remove an element from a set or bag. In this case, the lower 4 bits of the Indicator subfield still indicate the number of index fields that follow it, as the set may be an element of an array or structure, which may itself be nested inside other arrays or struc- tures. The upper 4 bits of the Indicator subfield have the following values: 0b0000 Write whole set/bag 0b0001 Add element to the set/bag 0b0010 Remove element from the set/bag All other values are reserved. 2.5.16.1.6 Attribute Data Type Field The attribute data type field SHALL contain the data type of the attribute or element thereof that is to be written. 2.5.16.1.7 Attribute Value Field The attribute value field is variable in length and SHALL contain the actual value of the attribute, or element thereof, that is to be written. For an attribute or element of type array, structure, set or bag, this field has the same format as for the Read Attributes Structured command (see Read Attributes Structured Command). 2.5.16.2 When Generated The Write Attributes Structured command is generated when a device wishes to change the values of one or more attributes located on another device. Each write attribute record SHALL contain the identifier and the actual value of the attribute, or element thereof, to be written. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-35 2.5.16.3 Effect on Receipt On receipt of this command, the device SHALL attempt to process each specified write attribute record and SHALL construct a write attribute structured response command. Each write attribute status record of the constructed command SHALL contain the identifier from the corresponding write attribute record and a sta- tus value evaluated as described below. For each write attribute record included in the command frame, the device SHALL first check that it corre- sponds to an attribute that is implemented on this device and that its associated selector field correctly indi- cates either the whole of the attribute or an element of the attribute. If it does not (e.g., an index is greater than the number of elements of an array), the device SHALL set the status field of the corresponding write attribute status record to either UNSUPPORTED_ATTRIBUTE or INVALID_SELECTOR as appropriate and move on to the next write attribute record. If the attribute identified by the attribute identifier is supported, the device SHALL check whether the attrib- ute data type field is correct. (Note: If the element being written is the zeroth element of an array (to change the length of the array) the data type must be 16-bit unsigned integer). If not, the device SHALL set the status field of the corresponding write attribute status record to INVALID_DATA_TYPE and move on to the next write attribute record. If the attribute data type is correct, the device SHALL check whether the attribute is writable. If the attribute is designated as read only, the device SHALL set the status field of the corresponding write attribute status record to READ_ONLY and move on to the next write attribute record. (Note: If an array may not have its length changed, its zeroth element is read only). If the attribute is writable, the device SHALL check that all the supplied basic (e.g., integer, floating point) values in the attribute value field are within the specified ranges of the elements they are to be written to. If a supplied value does not fall within the specified range of its target element, the device SHALL set the status field of the corresponding write attribute status record to INVALID_VALUE, SHALL set the selector field of that record to indicate that target element, and SHALL move on to the next write attribute record. The returned selector SHALL have the number of indices necessary to specify the specific low-level element that failed, which will be the same as or greater than the number of indices in the selector of the write attribute record. Note that if the element being written is the zeroth element of an array (to change the length of the array) and the requested new length is not acceptable to the application, the value being written is considered outside the specified range of the element. If the value supplied in the attribute value field is within the specified range of the attribute, the device SHALL proceed as follows. \u2022 If an element is being added to a set, and there is an element of the set that has the same value as the value to be added, the device SHALL set the status field of the corresponding write attribute status rec- ord to DUPLICATE_ENTRY and move on to the next write attribute record. \u2022 Else, if an element is being removed from a set or a bag, and there is no element of the set or bag that has the same value as the value to be removed, the device SHALL set the status field of the corre- sponding write attribute status record to NOT_FOUND and move on to the next write attribute record. \u2022 Otherwise, the device SHALL write, add or remove the supplied value to/from the identified attribute or element, as appropriate, and SHALL move on to the next write attribute record. In this (successful) case, a write attribute status record SHALL not be generated. (Note: If the element being written is the zeroth element of an array, the length of the array SHALL be changed. If the length is reduced, the ar- ray is truncated. If the length is increased, the content of new elements is application dependent.) When all write attribute records have been processed, the device SHALL generate the constructed Write Attributes Response command. If there are no write attribute status records in the constructed command, because all attributes were written successfully, a single write attribute status record SHALL be included in the command, with the status field set to SUCCESS and the attribute identifier field omitted. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-36 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.17 Write Attributes Structured Response Command 2.5.17.1 Write Attributes Structured Response Command Frame Format The Write Attributes Response command frame SHALL be formatted as illustrated in Figure 2-34. Figure 2-34. Write Attributes Structured Response Command Frame Octets: Varia- ble Variable Variable ... Variable ZCL header Write attribute status record 1 Write attribute status record 2 ... Write attribute status record n Each write attribute status record SHALL be formatted as illustrated in Figure 2-35. Figure 2-35. Format of the Write Attribute Status Record Field Octets: 1 Variable Status Attribute identifier Selector 2.5.17.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes Structured response command (see Table 2-3). 2.5.17.1.2 Status Field The status field is 8 bits in length and specifies the status of the write operation attempted on this attribute, as detailed in Effect on Receipt2.5.16.3. Note that write attribute status records are not included for successfully written attributes, to save bandwidth. In the case of successful writing of all attributes, only a single write attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the attribute identifier and selector fields omitted. 2.5.17.1.3 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute on which the write operation was attempted. 2.5.17.1.4 Selector Field The selector field SHALL specify the element of the attribute on which the write operation that failed was attempted. See Figure 2-33 for the structure of this field. ",
        "16": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-36 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.17 Write Attributes Structured Response Command 2.5.17.1 Write Attributes Structured Response Command Frame Format The Write Attributes Response command frame SHALL be formatted as illustrated in Figure 2-34. Figure 2-34. Write Attributes Structured Response Command Frame Octets: Varia- ble Variable Variable ... Variable ZCL header Write attribute status record 1 Write attribute status record 2 ... Write attribute status record n Each write attribute status record SHALL be formatted as illustrated in Figure 2-35. Figure 2-35. Format of the Write Attribute Status Record Field Octets: 1 Variable Status Attribute identifier Selector 2.5.17.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer specific sub-field SHALL be set to 0 if this command is being used to Write Attributes defined for any cluster in the ZCL or 1 if this command is being used to write manufacturer specific attributes. The command identifier field SHALL be set to indicate the Write Attributes Structured response command (see Table 2-3). 2.5.17.1.2 Status Field The status field is 8 bits in length and specifies the status of the write operation attempted on this attribute, as detailed in Effect on Receipt2.5.16.3. Note that write attribute status records are not included for successfully written attributes, to save bandwidth. In the case of successful writing of all attributes, only a single write attribute status record SHALL be in- cluded in the command, with the status field set to SUCCESS and the attribute identifier and selector fields omitted. 2.5.17.1.3 Attribute Identifier Field The attribute identifier field is 16 bits in length and SHALL contain the identifier of the attribute on which the write operation was attempted. 2.5.17.1.4 Selector Field The selector field SHALL specify the element of the attribute on which the write operation that failed was attempted. See Figure 2-33 for the structure of this field. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-37 From the structure shown in Figure 2-33, note that for all attribute data types other than array or structure this field consists of a single octet with value zero. For array or structure types, a single octet with value zero indicates that no information is available about which element of the attribute caused the failure. 2.5.17.2 When Generated The Write Attributes Structured response command is generated in response to a Write Attributes Structured command. 2.5.17.3 Effect on Receipt On receipt of this command, the device is notified of the results of its original Write Attributes Structured command. 2.5.18 Discover Commands Received Command This command may be used to discover all commands processed (received) by this cluster, including op- tional or manufacturer-specific commands. 2.5.18.1 Discover Commands Received Command Frame Format The discover server commands command frame SHALL be formatted as follows. Figure 2-36. Format of the Discover Server Commands Command Frame Octets: Variable Field: ZCL header Start command identifier Maximum command identifiers 2.5.18.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to in- dicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to 0 to discover stand- ard commands in a cluster or 1 to discover manufacturer-specific commands in either a standard or a manufacturer-specific cluster. A manufacturer ID in this field of 0xffff (wildcard) will discover any manu- facture-specific commands. The direction bit SHALL be 0 (client to server) to discover commands that the server can process. The direction bit SHALL be 1 (server to client) to discover commands that the client can process. The command identifier field SHALL be set to indicate the Discover Commands Received command. 2.5.18.1.2 Start Command Identifier Field The start command identifier field is 8-bits in length and specifies the value of the identifier at which to begin the command discovery. 2.5.18.1.3 Maximum Command Identifiers Field The maximum command identifiers field is 8-bits in length and specifies the maximum number of com- mand identifiers that are to be returned in the resulting Discover Commands Received Response. ",
        "17": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-37 From the structure shown in Figure 2-33, note that for all attribute data types other than array or structure this field consists of a single octet with value zero. For array or structure types, a single octet with value zero indicates that no information is available about which element of the attribute caused the failure. 2.5.17.2 When Generated The Write Attributes Structured response command is generated in response to a Write Attributes Structured command. 2.5.17.3 Effect on Receipt On receipt of this command, the device is notified of the results of its original Write Attributes Structured command. 2.5.18 Discover Commands Received Command This command may be used to discover all commands processed (received) by this cluster, including op- tional or manufacturer-specific commands. 2.5.18.1 Discover Commands Received Command Frame Format The discover server commands command frame SHALL be formatted as follows. Figure 2-36. Format of the Discover Server Commands Command Frame Octets: Variable Field: ZCL header Start command identifier Maximum command identifiers 2.5.18.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to in- dicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to 0 to discover stand- ard commands in a cluster or 1 to discover manufacturer-specific commands in either a standard or a manufacturer-specific cluster. A manufacturer ID in this field of 0xffff (wildcard) will discover any manu- facture-specific commands. The direction bit SHALL be 0 (client to server) to discover commands that the server can process. The direction bit SHALL be 1 (server to client) to discover commands that the client can process. The command identifier field SHALL be set to indicate the Discover Commands Received command. 2.5.18.1.2 Start Command Identifier Field The start command identifier field is 8-bits in length and specifies the value of the identifier at which to begin the command discovery. 2.5.18.1.3 Maximum Command Identifiers Field The maximum command identifiers field is 8-bits in length and specifies the maximum number of com- mand identifiers that are to be returned in the resulting Discover Commands Received Response. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-38 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.18.2 When Generated The Discover Commands Received command is generated when a remote device wishes to discover the optional and mandatory commands the cluster to which this command is sent can process. 2.5.18.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of command identifiers. This list SHALL start with the first command that has an identifier that is equal to or greater than the identifier spec- ified in the start command identifier field. The number of command identifiers included in the list SHALL not exceed that specified in the maximum command identifiers field. 2.5.19 Discover Commands Received Response The Discover Commands Received Response command is sent in response to a Discover Commands Re- ceived command, and is used to discover which commands a cluster can process. 2.5.19.1 Discover Commands Received Response Frame The Discover Commands Received Response command frame SHALL be formatted as shown below: Figure 2-37. Format of the Discover Commands Received Response Frame Octets: Variable \u2026 Field: ZCL Header Discovery complete Command identifier 1 Command identifier 2 \u2026 Command identifier n 2.5.19.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to the same value included in the original discover commands command, with the exception that if the manufacture ID is 0xffff (wild- card), then the response will contain the manufacture ID of the manufacturer-specific commands, or will not be present if the cluster supports no manufacturer-specific extensions, or the manufacturer wishes to hide the fact that it supports extensions. The command identifier field SHALL be set to indicate the Dis- cover Commands Received Response command. 2.5.19.1.2 Discovery Complete Field The discovery complete field is a boolean field. A value of 0 indicates that there are more commands to be discovered. A value of 1 indicates that there are no more commands to be discovered. 2.5.19.1.3 Command Identifier Field The command identifier field SHALL contain the identifier of a discovered command. Commands SHALL be included in ascending order, starting with the lowest attribute identifier that is greater than or equal to the start attribute identifier field of the received discover server commands command. ",
        "18": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-38 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.18.2 When Generated The Discover Commands Received command is generated when a remote device wishes to discover the optional and mandatory commands the cluster to which this command is sent can process. 2.5.18.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of command identifiers. This list SHALL start with the first command that has an identifier that is equal to or greater than the identifier spec- ified in the start command identifier field. The number of command identifiers included in the list SHALL not exceed that specified in the maximum command identifiers field. 2.5.19 Discover Commands Received Response The Discover Commands Received Response command is sent in response to a Discover Commands Re- ceived command, and is used to discover which commands a cluster can process. 2.5.19.1 Discover Commands Received Response Frame The Discover Commands Received Response command frame SHALL be formatted as shown below: Figure 2-37. Format of the Discover Commands Received Response Frame Octets: Variable \u2026 Field: ZCL Header Discovery complete Command identifier 1 Command identifier 2 \u2026 Command identifier n 2.5.19.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to the same value included in the original discover commands command, with the exception that if the manufacture ID is 0xffff (wild- card), then the response will contain the manufacture ID of the manufacturer-specific commands, or will not be present if the cluster supports no manufacturer-specific extensions, or the manufacturer wishes to hide the fact that it supports extensions. The command identifier field SHALL be set to indicate the Dis- cover Commands Received Response command. 2.5.19.1.2 Discovery Complete Field The discovery complete field is a boolean field. A value of 0 indicates that there are more commands to be discovered. A value of 1 indicates that there are no more commands to be discovered. 2.5.19.1.3 Command Identifier Field The command identifier field SHALL contain the identifier of a discovered command. Commands SHALL be included in ascending order, starting with the lowest attribute identifier that is greater than or equal to the start attribute identifier field of the received discover server commands command. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-39 2.5.19.2 When Generated The Discover Commands Received Response is generated in response to a Discover Commands Received command. 2.5.19.3 Effect on Receipt On receipt of this command, the device is notified of the results of its command discovery request. Follow- ing the receipt of this command, if the discovery complete field indicates that there are more commands to be discovered, the device may choose to send subsequent discover command request commands to obtain the rest of the command identifiers. In this case, the start command identifier specified in the next com- mand discovery request command SHOULD be set equal to one plus the last command identifier received in the Discover Commands Received Response. 2.5.20 Discover Commands Generated Command This command may be used to discover all commands which may be generated (sent) by the cluster, in- cluding optional or manufacturer-specific commands. 2.5.20.1 Discover Commands Generated Command Frame Format Except for the command ID in the ZCL header, the Discover Commands Generated command frame SHALL be formatted as described in sub-clause 2.5.18 and its subsections. 2.5.20.2 When Generated The Discover Commands Generated command is generated when a remote device wishes to discover the commands that a cluster may generate on the device to which this command is directed. 2.5.20.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of command identifiers. This list SHALL start with the first command that has an identifier that is equal to or greater than the identifier spec- ified in the start command identifier field. The number of command identifiers included in the list SHALL not exceed that specified in the maximum command identifiers field. 2.5.21 Discover Commands Generated Response The Discover Commands Generated Response command is sent in response to a Discover Commands Gen- erated command, and is used to discover which commands a cluster supports. 2.5.21.1 Discover Commands Generated Response Frame Except for the command ID in the ZCL header, the Discover Commands Generated Response command frame SHALL be formatted as described in sub-clause 2.5.18 and its subsections. 2.5.21.2 When Generated The Discover Commands Generated Response is generated in response to a Discover Commands Gener- ated command. ",
        "19": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-39 2.5.19.2 When Generated The Discover Commands Received Response is generated in response to a Discover Commands Received command. 2.5.19.3 Effect on Receipt On receipt of this command, the device is notified of the results of its command discovery request. Follow- ing the receipt of this command, if the discovery complete field indicates that there are more commands to be discovered, the device may choose to send subsequent discover command request commands to obtain the rest of the command identifiers. In this case, the start command identifier specified in the next com- mand discovery request command SHOULD be set equal to one plus the last command identifier received in the Discover Commands Received Response. 2.5.20 Discover Commands Generated Command This command may be used to discover all commands which may be generated (sent) by the cluster, in- cluding optional or manufacturer-specific commands. 2.5.20.1 Discover Commands Generated Command Frame Format Except for the command ID in the ZCL header, the Discover Commands Generated command frame SHALL be formatted as described in sub-clause 2.5.18 and its subsections. 2.5.20.2 When Generated The Discover Commands Generated command is generated when a remote device wishes to discover the commands that a cluster may generate on the device to which this command is directed. 2.5.20.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of command identifiers. This list SHALL start with the first command that has an identifier that is equal to or greater than the identifier spec- ified in the start command identifier field. The number of command identifiers included in the list SHALL not exceed that specified in the maximum command identifiers field. 2.5.21 Discover Commands Generated Response The Discover Commands Generated Response command is sent in response to a Discover Commands Gen- erated command, and is used to discover which commands a cluster supports. 2.5.21.1 Discover Commands Generated Response Frame Except for the command ID in the ZCL header, the Discover Commands Generated Response command frame SHALL be formatted as described in sub-clause 2.5.18 and its subsections. 2.5.21.2 When Generated The Discover Commands Generated Response is generated in response to a Discover Commands Gener- ated command. ",
        "20": "Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-39 2.5.19.2 When Generated The Discover Commands Received Response is generated in response to a Discover Commands Received command. 2.5.19.3 Effect on Receipt On receipt of this command, the device is notified of the results of its command discovery request. Follow- ing the receipt of this command, if the discovery complete field indicates that there are more commands to be discovered, the device may choose to send subsequent discover command request commands to obtain the rest of the command identifiers. In this case, the start command identifier specified in the next com- mand discovery request command SHOULD be set equal to one plus the last command identifier received in the Discover Commands Received Response. 2.5.20 Discover Commands Generated Command This command may be used to discover all commands which may be generated (sent) by the cluster, in- cluding optional or manufacturer-specific commands. 2.5.20.1 Discover Commands Generated Command Frame Format Except for the command ID in the ZCL header, the Discover Commands Generated command frame SHALL be formatted as described in sub-clause 2.5.18 and its subsections. 2.5.20.2 When Generated The Discover Commands Generated command is generated when a remote device wishes to discover the commands that a cluster may generate on the device to which this command is directed. 2.5.20.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of command identifiers. This list SHALL start with the first command that has an identifier that is equal to or greater than the identifier spec- ified in the start command identifier field. The number of command identifiers included in the list SHALL not exceed that specified in the maximum command identifiers field. 2.5.21 Discover Commands Generated Response The Discover Commands Generated Response command is sent in response to a Discover Commands Gen- erated command, and is used to discover which commands a cluster supports. 2.5.21.1 Discover Commands Generated Response Frame Except for the command ID in the ZCL header, the Discover Commands Generated Response command frame SHALL be formatted as described in sub-clause 2.5.18 and its subsections. 2.5.21.2 When Generated The Discover Commands Generated Response is generated in response to a Discover Commands Gener- ated command. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-40 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.21.3 Effect on Receipt On receipt of this command, the device is notified of the results of its Discover Commands Generated com- mand. Following the receipt of this command, if the discovery complete field indicates that there are more com- mands to be discovered, the device may choose to send subsequent Discover Commands Generated com- mands to obtain the rest of the command identifiers. In this case, the start command identifier specified in the next Discover Commands Generated command SHOULD be set equal to one plus the last command identifier received in the Discover Commands Generated Response. 2.5.22 Discover Attributes Extended Command This command is similar to the discover attributes command, but also includes a field to indicate whether the attribute is readable, writeable or reportable. 2.5.22.1 Discover Attributes Extended Command Frame Format The Discover Attributes Extended command frame SHALL be formatted as illustrated as follows. Figure 2-38. Format of the Discover Attributes Extended Command Frame Octets: Variable Field: ZCL Header Start attribute identifier Maximum attribute identifiers 2.5.22.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to 0 to discover standard at- tributes in a cluster or 1 to discover manufacturer-specific attributes in either a standard or a manufacturer- specific cluster. A manufacturer ID in this field of 0xffff (wildcard) will discover any manufacture-specific attributes. The direction bit SHALL be 0 (client to server) to discover attributes that the server hosts. The direction bit SHALL be 1 (server to client) to discover attributes that the client may host. The command identifier field SHALL be set to indicate the Discover Attributes Extended command. 2.5.22.1.2 Start Attribute Identifier Field The start attribute identifier field is 16-bits in length and specifies the value of the identifier at which to begin the attribute discovery. 2.5.22.1.3 Maximum Attribute Identifiers Field The maximum attribute identifiers field is 8 bits in length and specifies the maximum number of attribute identifiers that are to be returned in the resulting Discover Attributes Extended Response command. 2.5.22.2 When Generated The Discover Attributes Extended command is generated when a remote device wishes to discover the identifiers and types of the attributes on a device which are supported within the cluster to which this com- mand is directed, including whether the attribute is readable, writeable or reportable. ",
        "21": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 2-40 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2.5.21.3 Effect on Receipt On receipt of this command, the device is notified of the results of its Discover Commands Generated com- mand. Following the receipt of this command, if the discovery complete field indicates that there are more com- mands to be discovered, the device may choose to send subsequent Discover Commands Generated com- mands to obtain the rest of the command identifiers. In this case, the start command identifier specified in the next Discover Commands Generated command SHOULD be set equal to one plus the last command identifier received in the Discover Commands Generated Response. 2.5.22 Discover Attributes Extended Command This command is similar to the discover attributes command, but also includes a field to indicate whether the attribute is readable, writeable or reportable. 2.5.22.1 Discover Attributes Extended Command Frame Format The Discover Attributes Extended command frame SHALL be formatted as illustrated as follows. Figure 2-38. Format of the Discover Attributes Extended Command Frame Octets: Variable Field: ZCL Header Start attribute identifier Maximum attribute identifiers 2.5.22.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to 0 to discover standard at- tributes in a cluster or 1 to discover manufacturer-specific attributes in either a standard or a manufacturer- specific cluster. A manufacturer ID in this field of 0xffff (wildcard) will discover any manufacture-specific attributes. The direction bit SHALL be 0 (client to server) to discover attributes that the server hosts. The direction bit SHALL be 1 (server to client) to discover attributes that the client may host. The command identifier field SHALL be set to indicate the Discover Attributes Extended command. 2.5.22.1.2 Start Attribute Identifier Field The start attribute identifier field is 16-bits in length and specifies the value of the identifier at which to begin the attribute discovery. 2.5.22.1.3 Maximum Attribute Identifiers Field The maximum attribute identifiers field is 8 bits in length and specifies the maximum number of attribute identifiers that are to be returned in the resulting Discover Attributes Extended Response command. 2.5.22.2 When Generated The Discover Attributes Extended command is generated when a remote device wishes to discover the identifiers and types of the attributes on a device which are supported within the cluster to which this com- mand is directed, including whether the attribute is readable, writeable or reportable. Zigbee Cluster Library Specification Chapter 2 Zigbee Alliance Document \u2013 075123 Foundation Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 2-41 2.5.22.3 Effect on Receipt On receipt of this command, the device SHALL construct an ordered list of attribute information records, each containing a discovered attribute identifier and its data type, in ascending order of attribute identifiers. This list SHALL start with the first attribute that has an identifier that is equal to or greater than the identi- fier specified in the start attribute identifier field. The number of attribute identifiers included in the list SHALL not exceed that specified in the maximum attribute identifiers field. 2.5.23 Discover Attributes Extended Response Com- mand This command is sent in response to a Discover Attributes Extended command, and is used to determine if attributes are readable, writable or reportable. 2.5.23.1 Discover Attributes Extended Response Com- mand Frame Format The Discover Attributes Extended Response command frame SHALL be formatted as illustrated as fol- lows. Figure 2-39. Format of the Discover Attributes Extended Response Command Frame Octets: Variable \u2026 Field: ZCL header Discovery complete Extended attrib- ute information 1 Extended attribute information 2 \u2026 Extended attribute information n Each extended attribute information field SHALL be formatted as follows. Figure 2-40. Format of the Extended Attribute Information Fields Octets: Field: Attribute identifier Attribute data type Attribute access control 2.5.23.1.1 ZCL Header Fields The frame control field SHALL be specified as follows. The frame type sub-field SHALL be set to indicate a global command (0b00). The manufacturer-specific sub-field SHALL be set to the same value included in the original Discover Attributes Extended command, with the exception that if the manufacture ID is 0xffff (wildcard), then the response will contain the manufacture ID of the manufacturer-specific attributes, or will not be present if the cluster supports no manufacturer-specific extensions. The command identifier field SHALL be set to indicate the Discover Attributes Extended Response com- mand. 2.5.23.1.2 Discovery Complete Field The discovery complete field is a boolean field. A value of 0 indicates that there are more attributes to be discovered. A value of 1 indicates that there are no more attributes to be discovered. "
    },
    "0": {
        "0": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-16 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Table 3-14. Values of the AlarmMask Attribute Attribute Bit Number Alarm Code Alarm General hardware fault General software fault These alarms are provided as basic alarms that a device MAY use even if no other clusters with alarms are present on the device. 3.2.2.2.20 DisableLocalConfig Attribute The DisableLocalConfig attribute allows a number of local device configuration functions to be disabled. Table 3-15. Values of the DisableLocalConfig Attribute Attribute Bit Number Description 0 = Reset (to factory defaults) enabled 1 = Reset (to factory defaults) disabled 0 = Device configuration enabled 1 = Device configuration disabled The intention of this attribute is to allow disabling of any local configuration user interface, for example to prevent reset or binding buttons being activated by non-authorized persons in a public building. Bit 0 of the DisableLocalConfig attribute disables any factory reset button (or equivalent) on the device. Bit 1 disables any device configuration button(s) (or equivalent)\u2014for example, a bind button. 3.2.2.2.21 SWBuildID Attribute The SWBuildID attribute represents a detailed, manufacturer-specific reference to the version of the software. 3.2.2.3 Commands Received The command IDs for the Basic cluster are listed in Table 3-16. Table 3-16. Received Command IDs for the Basic Cluster Command Identifier Description M/O 0x00 Reset to Factory Defaults O 3.2.2.3.1 Reset to Factory Defaults Command This command does not have a payload. 3.2.2.3.1.1 Effect on Receipt On receipt of this command, the device resets all the attributes of all its clusters to their factory defaults. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-17 Note that networking functionality, bindings, groups, or other persistent data are not affected by this com- mand. 3.2.2.4 Commands Generated No commands are generated by the server cluster. 3.2.3 Client The client has no dependencies or attributes. No cluster specific commands are received by the client. The cluster specific commands generated by the client cluster are those received by the server, as required by the application. 3.3 Power Configuration 3.3.1 Overview Please see Chapter 2 for a general cluster overview defining cluster architecture, revision, classification, identification, etc. Attributes for determining detailed information about a device\u2019s power source(s) and for configuring un- der/over voltage alarms. 3.3.1.1 Revision History The global ClusterRevision attribute value SHALL be the highest revision number in the table below. Rev Description global mandatory ClusterRevision attribute added; mains power lost alarm added to Main- sAlarmMask; CCB 1809 CCB 2454 2463 2899 2885 3.3.1.2 Classification Hierarchy Role PICS Code Base Utility PC 3.3.1.3 Cluster Identifiers Identifier Name 0x0001 Power Configuration "
    },
    "27": {
        "0": "Chapter 15 ZigBee Cluster Library Specification Appliance Management ZigBee Document \u2013 075123 Page 15-4 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. FinishTime attribute exploits time encoding reported in Table 15-4. 15.2.3.4 RemainingTime Attribute RemainingTime attribute determines the time, in relative format, of the remaining time of the machine cycle. It represents the time remaining to complete the machine cycle and it is updated only during the RUNNING state of the Appliance. During the other states of the Appliance RemainingTime attribute is indicated as the not valid value \u201c0\u201d. RemainingTime attribute exploits time encoding reported in Table 15-4. 15.2.4 Server Commands Received The command IDs for the Appliance Control cluster are listed in Table 15-5. Table 15-5. Cluster-specific Commands Received by the Server Command Identifier Field Value Description M/O 0x00 Execution of a Command O 0x01 Signal State M 0x02 Write Functions O 0x03 Overload Pause Resume O 0x04 Overload Pause O 0x05 Overload Warning O 15.2.4.1 Execution of a Command This basic message is used to remotely control and to program household appliances. Examples of control are START, STOP and PAUSE. 15.2.4.1.1 Payload Format The Execution of a Command payload SHALL be formatted as illustrated in Figure 15-2. Figure 15-2. Format of the Execution of a Command Payload Octets Data Type enum8 Field Name Command Identification 15.2.4.1.1.1 Payload Details The Command Identification field: the command identification is an 8-bits in length field identifying the command to be executed. The enumeration used for this field SHALL match Table 15-6. ZigBee Cluster Library Specification Chapter 15 ZigBee Document \u2013 075123 Appliance Management Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 15-5 Table 15-6. Command Identification Values Enumeration Value Description START 0x01 Start appliance cycle STOP 0x02 Stop appliance cycle PAUSE 0x03 Pause appliance cycle START SUPERFREEZING 0x04 Start superfreezing cycle STOP SUPERFREEZING 0x05 Stop superfreezing cycle START SUPERCOOLING 0x06 Start supercooling cycle STOP SUPERCOOLING 0x07 Stop supercooling cycle DISABLE GAS 0x08 Disable gas ENABLE GAS 0x09 Enable gas Manufacturer Specific 0x80..0xff Manufacturer Specific 15.2.4.1.2 Effects on Receipt On receipt of this command, the appliance SHALL execute the command given in the Command Identifica- tion field. The device application SHALL be informed of the imposed command (and potential personalized tasks could start, e.g., by means of a message to appliance Main Board controller). After the command execution, the appliance SHALL generate a Signal State Notification with the new ap- pliance state. 15.2.4.2 Signal State Command This basic message is used to retrieve Household Appliances status. This command does not have a payload. 15.2.4.2.1 Effects on Receipt On receipt of this command, the device SHALL generate a Signal State Response command. 15.2.4.3 Write Functions Command This basic message is used to set appliance functions, i.e., information regarding the execution of an appliance cycle. Condition parameters such as start time or finish time information could be provided through this command. A function is mirrored by the cluster attribute that represents its current state. See Effect on Receipt below to understand the difference between writing a function and writing an attribute value. 15.2.4.3.1 Payload Format The Write Functions command frame SHALL be formatted as illustrated in Format of the Write Functions Command Frame. ",
        "1": "ZigBee Cluster Library Specification Chapter 15 ZigBee Document \u2013 075123 Appliance Management Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 15-5 Table 15-6. Command Identification Values Enumeration Value Description START 0x01 Start appliance cycle STOP 0x02 Stop appliance cycle PAUSE 0x03 Pause appliance cycle START SUPERFREEZING 0x04 Start superfreezing cycle STOP SUPERFREEZING 0x05 Stop superfreezing cycle START SUPERCOOLING 0x06 Start supercooling cycle STOP SUPERCOOLING 0x07 Stop supercooling cycle DISABLE GAS 0x08 Disable gas ENABLE GAS 0x09 Enable gas Manufacturer Specific 0x80..0xff Manufacturer Specific 15.2.4.1.2 Effects on Receipt On receipt of this command, the appliance SHALL execute the command given in the Command Identifica- tion field. The device application SHALL be informed of the imposed command (and potential personalized tasks could start, e.g., by means of a message to appliance Main Board controller). After the command execution, the appliance SHALL generate a Signal State Notification with the new ap- pliance state. 15.2.4.2 Signal State Command This basic message is used to retrieve Household Appliances status. This command does not have a payload. 15.2.4.2.1 Effects on Receipt On receipt of this command, the device SHALL generate a Signal State Response command. 15.2.4.3 Write Functions Command This basic message is used to set appliance functions, i.e., information regarding the execution of an appliance cycle. Condition parameters such as start time or finish time information could be provided through this command. A function is mirrored by the cluster attribute that represents its current state. See Effect on Receipt below to understand the difference between writing a function and writing an attribute value. 15.2.4.3.1 Payload Format The Write Functions command frame SHALL be formatted as illustrated in Format of the Write Functions Command Frame. ",
        "2": "ZigBee Cluster Library Specification Chapter 15 ZigBee Document \u2013 075123 Appliance Management Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 15-5 Table 15-6. Command Identification Values Enumeration Value Description START 0x01 Start appliance cycle STOP 0x02 Stop appliance cycle PAUSE 0x03 Pause appliance cycle START SUPERFREEZING 0x04 Start superfreezing cycle STOP SUPERFREEZING 0x05 Stop superfreezing cycle START SUPERCOOLING 0x06 Start supercooling cycle STOP SUPERCOOLING 0x07 Stop supercooling cycle DISABLE GAS 0x08 Disable gas ENABLE GAS 0x09 Enable gas Manufacturer Specific 0x80..0xff Manufacturer Specific 15.2.4.1.2 Effects on Receipt On receipt of this command, the appliance SHALL execute the command given in the Command Identifica- tion field. The device application SHALL be informed of the imposed command (and potential personalized tasks could start, e.g., by means of a message to appliance Main Board controller). After the command execution, the appliance SHALL generate a Signal State Notification with the new ap- pliance state. 15.2.4.2 Signal State Command This basic message is used to retrieve Household Appliances status. This command does not have a payload. 15.2.4.2.1 Effects on Receipt On receipt of this command, the device SHALL generate a Signal State Response command. 15.2.4.3 Write Functions Command This basic message is used to set appliance functions, i.e., information regarding the execution of an appliance cycle. Condition parameters such as start time or finish time information could be provided through this command. A function is mirrored by the cluster attribute that represents its current state. See Effect on Receipt below to understand the difference between writing a function and writing an attribute value. 15.2.4.3.1 Payload Format The Write Functions command frame SHALL be formatted as illustrated in Format of the Write Functions Command Frame. Chapter 15 ZigBee Cluster Library Specification Appliance Management ZigBee Document \u2013 075123 Page 15-6 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 15-3. Format of the Write Functions Command Frame Octets Variable Field Name Write Functions record Write Functions record SHALL be formatted as illustrated in Figure 15-4. Figure 15-4. Format of the Write Functions Record Field Octets Variable Data Type uint16 enum8 Variable Field Name Function identifier (i.e., attribute identifier) Function data type Function data 15.2.4.3.2 Payload Details The Function identifier field: the Function Identifier is 16-bits in length and SHALL contain the identifier of the function that is to be written. The Function data type field: the function data type field SHALL contain the data type identifier of the attribute that is to be written. The Function data field: the function data field is variable in length and SHALL contain the actual value of the function that is to be written. 15.2.4.3.3 Effects on Receipt On receipt of this command, the appliance SHALL set the function given in the Function identifier field. The Function attribute is actually changed only when the appliance internal functions have been changed. If attribute reporting is configured on some function attributes, an attribute reporting command is generated when the attribute, and therefore internal appliance function is actually modified. In case attribute reporting is not used, the correct execution of the Write Function command SHOULD be verified by using Read At- tribute command to poll the written attribute. 15.2.4.4 Overload Pause Resume Command This command SHALL be used to resume the normal behavior of a household appliance being in pause mode after receiving a Overload Pause command. 15.2.4.4.1 Payload Format The Overload Pause Resume Command SHALL have no payload. 15.2.4.4.2 Effects on Receipt On receipt of this command, the appliance SHALL resume its operations. ",
        "3": "Chapter 15 ZigBee Cluster Library Specification Appliance Management ZigBee Document \u2013 075123 Page 15-6 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 15-3. Format of the Write Functions Command Frame Octets Variable Field Name Write Functions record Write Functions record SHALL be formatted as illustrated in Figure 15-4. Figure 15-4. Format of the Write Functions Record Field Octets Variable Data Type uint16 enum8 Variable Field Name Function identifier (i.e., attribute identifier) Function data type Function data 15.2.4.3.2 Payload Details The Function identifier field: the Function Identifier is 16-bits in length and SHALL contain the identifier of the function that is to be written. The Function data type field: the function data type field SHALL contain the data type identifier of the attribute that is to be written. The Function data field: the function data field is variable in length and SHALL contain the actual value of the function that is to be written. 15.2.4.3.3 Effects on Receipt On receipt of this command, the appliance SHALL set the function given in the Function identifier field. The Function attribute is actually changed only when the appliance internal functions have been changed. If attribute reporting is configured on some function attributes, an attribute reporting command is generated when the attribute, and therefore internal appliance function is actually modified. In case attribute reporting is not used, the correct execution of the Write Function command SHOULD be verified by using Read At- tribute command to poll the written attribute. 15.2.4.4 Overload Pause Resume Command This command SHALL be used to resume the normal behavior of a household appliance being in pause mode after receiving a Overload Pause command. 15.2.4.4.1 Payload Format The Overload Pause Resume Command SHALL have no payload. 15.2.4.4.2 Effects on Receipt On receipt of this command, the appliance SHALL resume its operations. ZigBee Cluster Library Specification Chapter 15 ZigBee Document \u2013 075123 Appliance Management Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 15-7 15.2.4.5 Overload Pause Command This command SHALL be used to pause the household appliance as a consequence of an imminent overload event. 15.2.4.5.1 Payload Format The Overload Pause Command SHALL have no payload. 15.2.4.5.2 Effects on Receipt On receipt of this command, the appliance SHALL pause its operations. In order to resume the normal oper- ation an Overload Pause Resume command SHOULD be issued by the device supporting the client side of the Appliance control cluster. 15.2.4.6 Overload Warning Command This basic message is used to send warnings the household appliance as a consequence of a possible overload event, or the notification of the end of the warning state. 15.2.4.6.1 Payload Format The Overload Warning Command payload SHALL be formatted as illustrated in Figure 15-5. Figure 15-5. Format of the Overload Warning Payload Octets Data Type enum8 Field Name Warning Event 15.2.4.6.2 Payload Details The Warning Event field represents the identifier of the events that needs to be communicated to the devices to alert about possible overload, as shown in Table 15-7. Table 15-7. Format of the Event ID Enumerator Event ID Description 0x00 Warning 1: overall power above \u201cavailable power\u201d level 0x01 Warning 2: overall power above \u201cpower threshold\u201d level 0x02 Warning 3: overall power back below the \u201cavailable power\u201d level 0x03 Warning 4: overall power back below the \u201cpower threshold\u201d level 0x04 Warning 5: overall power will be potentially above \u201cavailable power\u201d level if the appliance starts ",
        "4": "ZigBee Cluster Library Specification Chapter 15 ZigBee Document \u2013 075123 Appliance Management Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 15-7 15.2.4.5 Overload Pause Command This command SHALL be used to pause the household appliance as a consequence of an imminent overload event. 15.2.4.5.1 Payload Format The Overload Pause Command SHALL have no payload. 15.2.4.5.2 Effects on Receipt On receipt of this command, the appliance SHALL pause its operations. In order to resume the normal oper- ation an Overload Pause Resume command SHOULD be issued by the device supporting the client side of the Appliance control cluster. 15.2.4.6 Overload Warning Command This basic message is used to send warnings the household appliance as a consequence of a possible overload event, or the notification of the end of the warning state. 15.2.4.6.1 Payload Format The Overload Warning Command payload SHALL be formatted as illustrated in Figure 15-5. Figure 15-5. Format of the Overload Warning Payload Octets Data Type enum8 Field Name Warning Event 15.2.4.6.2 Payload Details The Warning Event field represents the identifier of the events that needs to be communicated to the devices to alert about possible overload, as shown in Table 15-7. Table 15-7. Format of the Event ID Enumerator Event ID Description 0x00 Warning 1: overall power above \u201cavailable power\u201d level 0x01 Warning 2: overall power above \u201cpower threshold\u201d level 0x02 Warning 3: overall power back below the \u201cavailable power\u201d level 0x03 Warning 4: overall power back below the \u201cpower threshold\u201d level 0x04 Warning 5: overall power will be potentially above \u201cavailable power\u201d level if the appliance starts ",
        "5": "ZigBee Cluster Library Specification Chapter 15 ZigBee Document \u2013 075123 Appliance Management Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 15-7 15.2.4.5 Overload Pause Command This command SHALL be used to pause the household appliance as a consequence of an imminent overload event. 15.2.4.5.1 Payload Format The Overload Pause Command SHALL have no payload. 15.2.4.5.2 Effects on Receipt On receipt of this command, the appliance SHALL pause its operations. In order to resume the normal oper- ation an Overload Pause Resume command SHOULD be issued by the device supporting the client side of the Appliance control cluster. 15.2.4.6 Overload Warning Command This basic message is used to send warnings the household appliance as a consequence of a possible overload event, or the notification of the end of the warning state. 15.2.4.6.1 Payload Format The Overload Warning Command payload SHALL be formatted as illustrated in Figure 15-5. Figure 15-5. Format of the Overload Warning Payload Octets Data Type enum8 Field Name Warning Event 15.2.4.6.2 Payload Details The Warning Event field represents the identifier of the events that needs to be communicated to the devices to alert about possible overload, as shown in Table 15-7. Table 15-7. Format of the Event ID Enumerator Event ID Description 0x00 Warning 1: overall power above \u201cavailable power\u201d level 0x01 Warning 2: overall power above \u201cpower threshold\u201d level 0x02 Warning 3: overall power back below the \u201cavailable power\u201d level 0x03 Warning 4: overall power back below the \u201cpower threshold\u201d level 0x04 Warning 5: overall power will be potentially above \u201cavailable power\u201d level if the appliance starts Chapter 15 ZigBee Cluster Library Specification Appliance Management ZigBee Document \u2013 075123 Page 15-8 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 15.2.4.6.3 Effects on Receipt On receipt of this command, the appliance SHALL show the possible warning state on a display (e.g., show- ing an icon with possible overload condition when activating the appliance in case of Warnings 1-2) or re- sume the normal state in case of events showing the return on normal state (e.g., Warning 3-4). 15.2.5 Server Commands Generated Table 15-8 lists commands that are generated by the server. Table 15-8. Cluster-specific Commands Sent by the Server Command Identifier Field Value Description M/O 0x00 Signal State Response M 0x01 Signal State Notification M 15.2.5.1 Signal State Response Command This command SHALL be used to return household appliance status, according to Appliance Status Values and Remote Enable Flags Values. 15.2.5.1.1 Payload Format The Signal State Response Command payload SHALL be formatted as illustrated in Figure 15-6. The Appliance Status field: the data field is an 8 bits in length enumerator identifying the appliance status. The enumeration used for this field SHALL match the specifications in Table 15-9. The Remote Enable Flags and Device Status 2 field: the data field is an 8 bits in length unsigned integer defining remote enable flags and potential appliance status 2 format. The unsigned integer used for this field SHALL match the specifications in Table 15-10. The Appliance Status 2 field: the command identification is a 24 bits in length unsigned integer representing potential non-standardized or proprietary data. Figure 15-6. Format of the Signal State Response Command Payload Octets 0/3 Data Type enum8 uint8 uint24 Field Name Appliance Status Remote Enable Flags and Device Status 2 Appliance Status 2 15.2.5.1.1.1 Payload Details ApplianceStatus ApplianceStatus represents the current status of household appliance. ApplianceStatus must be included as part of the minimum data set to be provided by the household appliance device. ApplianceStatus is updated continuously as appliance state changes. Table 15-9 provides states defined. "
    },
    "3": {
        "0": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-31 3.5.1.3 Cluster Identifiers Identifier Name 0x0003 Identify 3.5.2 Server 3.5.2.1 Dependencies None 3.5.2.2 Attributes The server supports the attribute shown in Table 3-31. Table 3-31. Attributes of the Identify Server Cluster Identifier Name Type Range Access Default M/O 0x0000 IdentifyTime uint16 0x0000 to 0xffff RW M 3.5.2.2.1 IdentifyTime Attribute The IdentifyTime attribute specifies the remaining length of time, in seconds, that the device will continue to identify itself. If this attribute is set to a value other than 0x0000 then the device SHALL enter its identification procedure, in order to indicate to an observer which of several devices it is. It is recommended that this procedure con- sists of flashing a light with a period of 0.5 seconds. The IdentifyTime attribute SHALL be decremented every second. If this attribute reaches or is set to the value 0x0000 then the device SHALL terminate its identification procedure. 3.5.2.3 Commands Received The server side of the identify cluster is capable of receiving the commands listed in Table 3-32. Table 3-32. Received Command IDs for the Identify Cluster Command Identifier Description M/O 0x00 Identify M 0x01 Identify Query M 0x40 Trigger effect O 3.5.2.3.1 Identify Command The identify command starts or stops the receiving device identifying itself. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-32 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.5.2.3.1.1 Payload Format The identify query response command payload SHALL be formatted as illustrated in Figure 3-7. Figure 3-7. Format of Identify Query Response Command Payload Octets Data Type uint16 Field Name Identify Time 3.5.2.3.1.2 Effect on Receipt On receipt of this command, the device SHALL set the IdentifyTime attribute to the value of the Identify Time field. This then starts, continues, or stops the device\u2019s identification procedure as detailed in 3.5.2.2.1. 3.5.2.3.2 Identify Query Command The identify query command allows the sending device to request the target or targets to respond if they are currently identifying themselves. This command has no payload. 3.5.2.3.2.1 Effect on Receipt On receipt of this command, if the device is currently identifying itself then it SHALL generate an appropriate Identify Query Response command, see 3.5.2.4.1 and unicast it to the requestor. If the device is not currently identifying itself it SHALL take no further action. 3.5.2.3.3 Trigger Effect Command The Trigger Effect command allows the support of feedback to the user, such as a certain light effect. It is used to allow an implementation to provide visual feedback to the user under certain circumstances such as a color light turning green when it has successfully connected to a network. The use of this command and the effects themselves are entirely up to the implementer to use whenever a visual feedback is useful but it is not the same as and does not replace the identify mechanism used during commissioning. The payload of this command SHALL be formatted as illustrated in Figure 3-8. Figure 3-8. Format of the Trigger Effect Command Octets Data Type enum821 enum8 Field Name Effect identifier Effect variant 3.5.2.3.3.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the identify effect to use. This field SHALL contain one of the nonreserved values listed in Table 3-33. 21 CCB 2808 ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-32 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.5.2.3.1.1 Payload Format The identify query response command payload SHALL be formatted as illustrated in Figure 3-7. Figure 3-7. Format of Identify Query Response Command Payload Octets Data Type uint16 Field Name Identify Time 3.5.2.3.1.2 Effect on Receipt On receipt of this command, the device SHALL set the IdentifyTime attribute to the value of the Identify Time field. This then starts, continues, or stops the device\u2019s identification procedure as detailed in 3.5.2.2.1. 3.5.2.3.2 Identify Query Command The identify query command allows the sending device to request the target or targets to respond if they are currently identifying themselves. This command has no payload. 3.5.2.3.2.1 Effect on Receipt On receipt of this command, if the device is currently identifying itself then it SHALL generate an appropriate Identify Query Response command, see 3.5.2.4.1 and unicast it to the requestor. If the device is not currently identifying itself it SHALL take no further action. 3.5.2.3.3 Trigger Effect Command The Trigger Effect command allows the support of feedback to the user, such as a certain light effect. It is used to allow an implementation to provide visual feedback to the user under certain circumstances such as a color light turning green when it has successfully connected to a network. The use of this command and the effects themselves are entirely up to the implementer to use whenever a visual feedback is useful but it is not the same as and does not replace the identify mechanism used during commissioning. The payload of this command SHALL be formatted as illustrated in Figure 3-8. Figure 3-8. Format of the Trigger Effect Command Octets Data Type enum821 enum8 Field Name Effect identifier Effect variant 3.5.2.3.3.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the identify effect to use. This field SHALL contain one of the nonreserved values listed in Table 3-33. 21 CCB 2808 ",
        "64": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-32 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.5.2.3.1.1 Payload Format The identify query response command payload SHALL be formatted as illustrated in Figure 3-7. Figure 3-7. Format of Identify Query Response Command Payload Octets Data Type uint16 Field Name Identify Time 3.5.2.3.1.2 Effect on Receipt On receipt of this command, the device SHALL set the IdentifyTime attribute to the value of the Identify Time field. This then starts, continues, or stops the device\u2019s identification procedure as detailed in 3.5.2.2.1. 3.5.2.3.2 Identify Query Command The identify query command allows the sending device to request the target or targets to respond if they are currently identifying themselves. This command has no payload. 3.5.2.3.2.1 Effect on Receipt On receipt of this command, if the device is currently identifying itself then it SHALL generate an appropriate Identify Query Response command, see 3.5.2.4.1 and unicast it to the requestor. If the device is not currently identifying itself it SHALL take no further action. 3.5.2.3.3 Trigger Effect Command The Trigger Effect command allows the support of feedback to the user, such as a certain light effect. It is used to allow an implementation to provide visual feedback to the user under certain circumstances such as a color light turning green when it has successfully connected to a network. The use of this command and the effects themselves are entirely up to the implementer to use whenever a visual feedback is useful but it is not the same as and does not replace the identify mechanism used during commissioning. The payload of this command SHALL be formatted as illustrated in Figure 3-8. Figure 3-8. Format of the Trigger Effect Command Octets Data Type enum821 enum8 Field Name Effect identifier Effect variant 3.5.2.3.3.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the identify effect to use. This field SHALL contain one of the nonreserved values listed in Table 3-33. 21 CCB 2808 Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-33 Table 3-33. Values of the Effect Identifier Field of the Trigger Effect Command Effect Identi- fier Field Value Effect22 Notes 0x00 Blink e.g., Light is turned on/off once. 0x01 Breathe e.g., Light turned on/off over 1 second and repeated 15 times. 0x02 Okay e.g., Colored light turns green for 1 second; noncolored light flashes twice. 0x0b Channel change e.g., Colored light turns orange for 8 seconds; noncolored light switches to maximum brightness for 0.5s and then minimum bright- ness for 7.5s. 0xfe Finish effect Complete the current effect sequence before terminating. e.g., if in the middle of a breathe effect (as above), first complete the current 1s breathe effect and then terminate the effect. 0xff Stop effect Terminate the effect as soon as possible. 3.5.2.3.3.2 Effect Variant Field The effect variant field is 8-bits in length and is used to indicate which variant of the effect, indicated in the effect identifier field, SHOULD be triggered. If a device does not support the given variant, it SHALL use the default variant. This field SHALL contain one of the non-reserved values listed in Table 3-34. Table 3-34. Values of the Effect Variant Field of the Trigger Effect Command Effect Variant Field Value Description 0x00 Default 3.5.2.3.3.3 Effect on Receipt On receipt of this command, the device SHALL execute the trigger effect indicated in the Effect Identifier and Effect Variant fields. If the Effect Variant field specifies a variant that is not supported on the device, it SHALL execute the default variant. 3.5.2.4 Commands Generated The server side of the identify cluster is capable of generating the commands listed in Table 3-35. Table 3-35. Generated Command IDs for the Identify Cluster Command Identifier Field Value Description M/O 0x00 Identify Query Response M 22 Implementers SHOULD indicate during testing how they handle each effect. "
    },
    "4": {
        "0": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-37 Command Identifier Description M/O 0x02 Get group membership M 0x03 Remove group M 0x04 Remove all groups M 0x05 Add group if identifying M 3.6.2.3.1 Generic Usage Notes On receipt of the Add Group, View Group, or Remove Group command frames via the groupcast or broadcast transmission service, no response SHALL be given. 3.6.2.3.2 Add Group Command The Add Group command allows the sending device to add group membership in a particular group for one or more endpoints on the receiving device. 3.6.2.3.2.1 Payload Format The Add Group command payload SHALL be formatted as illustrated in Figure 3-10. Figure 3-10. Format of the Add Group Command Payload Octets Variable Data Type uint16 string Field Name Group ID Group Name 3.6.2.3.2.2 Effect on Receipt 23 If the device is unable to store the contents of the Group Name field, the Group Name field can be ignored. On receipt of the Add Group command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. The device verifies that it does not already have an entry in its Group Table that corresponds to the value of the Group ID field. If it already has the requested entry in its Group Table, the Group Name SHALL be updated (if supported), the status SHALL be SUCCESS, and the device continues from step 5. 3. The device verifies that it has free entries in its Group Table. If the device has no free entries in its Group Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 4. The device adds the values of the Group ID and Group Name (if supported) fields to its Group Table and the status SHALL be SUCCESS. 23 CCB 2310 clarify command process and response Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-38 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 5. If the Add Group command was received as a unicast, the device SHALL generate an Add Group Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Add Group command. See 3.6.2.4.1 for a description of the Add Group Response command. 3.6.2.3.3 View Group Command The view group command allows the sending device to request that the receiving entity or entities respond with a view group response command containing the application name string for a particular group. 3.6.2.3.3.1 Payload Format The View Group command payload SHALL be formatted as illustrated in Figure 3-11: Figure 3-11. Format of the View Group Command Payload Octets Data Type uint16 Field Name Group ID 3.6.2.3.3.2 Effect on Receipt 24 On receipt of the View Group command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. The device attempts to retrieve the entry in its Group Table corresponding to the group identifier contained in the Group ID field. If no such entry exists in the Group Table, the status SHALL be NOT_FOUND and the device continues from step 4. 3. The device retrieves the requested entry from its Group Table and the status SHALL be SUCCESS. 4. If the View Group command was received as a unicast, the device SHALL generate a View Group Response command with the retrieved group entry and the Status field set to the evaluated status and SHALL transmit it back to the originator of the View Group command. See 3.6.2.4.2 for a description of the View Group Response command. 3.6.2.3.4 Get Group Membership Command The get group membership command allows the sending device to inquire about the group membership of the receiving device and endpoint in a number of ways. 3.6.2.3.4.1 Payload Format The get group membership command payload SHALL be formatted as illustrated in Figure 3-12. 24 CCB 2310 clarify command process and response ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-38 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 5. If the Add Group command was received as a unicast, the device SHALL generate an Add Group Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Add Group command. See 3.6.2.4.1 for a description of the Add Group Response command. 3.6.2.3.3 View Group Command The view group command allows the sending device to request that the receiving entity or entities respond with a view group response command containing the application name string for a particular group. 3.6.2.3.3.1 Payload Format The View Group command payload SHALL be formatted as illustrated in Figure 3-11: Figure 3-11. Format of the View Group Command Payload Octets Data Type uint16 Field Name Group ID 3.6.2.3.3.2 Effect on Receipt 24 On receipt of the View Group command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. The device attempts to retrieve the entry in its Group Table corresponding to the group identifier contained in the Group ID field. If no such entry exists in the Group Table, the status SHALL be NOT_FOUND and the device continues from step 4. 3. The device retrieves the requested entry from its Group Table and the status SHALL be SUCCESS. 4. If the View Group command was received as a unicast, the device SHALL generate a View Group Response command with the retrieved group entry and the Status field set to the evaluated status and SHALL transmit it back to the originator of the View Group command. See 3.6.2.4.2 for a description of the View Group Response command. 3.6.2.3.4 Get Group Membership Command The get group membership command allows the sending device to inquire about the group membership of the receiving device and endpoint in a number of ways. 3.6.2.3.4.1 Payload Format The get group membership command payload SHALL be formatted as illustrated in Figure 3-12. 24 CCB 2310 clarify command process and response ",
        "2": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-38 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 5. If the Add Group command was received as a unicast, the device SHALL generate an Add Group Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Add Group command. See 3.6.2.4.1 for a description of the Add Group Response command. 3.6.2.3.3 View Group Command The view group command allows the sending device to request that the receiving entity or entities respond with a view group response command containing the application name string for a particular group. 3.6.2.3.3.1 Payload Format The View Group command payload SHALL be formatted as illustrated in Figure 3-11: Figure 3-11. Format of the View Group Command Payload Octets Data Type uint16 Field Name Group ID 3.6.2.3.3.2 Effect on Receipt 24 On receipt of the View Group command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. The device attempts to retrieve the entry in its Group Table corresponding to the group identifier contained in the Group ID field. If no such entry exists in the Group Table, the status SHALL be NOT_FOUND and the device continues from step 4. 3. The device retrieves the requested entry from its Group Table and the status SHALL be SUCCESS. 4. If the View Group command was received as a unicast, the device SHALL generate a View Group Response command with the retrieved group entry and the Status field set to the evaluated status and SHALL transmit it back to the originator of the View Group command. See 3.6.2.4.2 for a description of the View Group Response command. 3.6.2.3.4 Get Group Membership Command The get group membership command allows the sending device to inquire about the group membership of the receiving device and endpoint in a number of ways. 3.6.2.3.4.1 Payload Format The get group membership command payload SHALL be formatted as illustrated in Figure 3-12. 24 CCB 2310 clarify command process and response Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-39 Figure 3-12. Format of Get Group Membership Command Payload Octets Variable Data Type uint8 List of 16-bit integers Field Name Group count Group list 3.6.2.3.4.2 Effect on Receipt On receipt of the get group membership command, each receiving entity SHALL respond with group mem- bership information using the get group membership response frame as follows: If the group count field of the command frame has a value of 0 indicating that the group list field is empty, the entity SHALL respond with all group identifiers of which the entity is a member. If the group list field of the command frame contains at least one group of which the entity is a member, the entity SHALL respond with each entity group identifier that match a group in the group list field. If the group count is non-zero, and the group list field of the command frame does not contain any group of which the entity is a member, the entity SHALL only respond if the command is unicast. The response SHALL return a group count of zero. 3.6.2.3.5 Remove Group Command The remove group command allows the sender to request that the receiving entity or entities remove their membership, if any, in a particular group. Note that if a group is removed the scenes associated with that group SHOULD be removed. 3.6.2.3.5.1 Payload Format The Remove Group command payload SHALL be formatted as illustrated in Figure 3-13. Figure 3-13. Format of the Remove Group Command Payload Octets Data Type uint16 Field Name Group ID 3.6.2.3.5.2 Effect on Receipt 25 On receipt of the Remove Group command, the device SHALLperform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. The device attempts to remove the entry in its Group Table corresponding to the group identifier contained in the Group Id field. If no such entry exists in the Group Table, the status SHALL be NOT_FOUND and the device continues from step 4. 3. The device removes the requested entry from its Group Table and the status SHALL be SUCCESS. 25 CCB 2310 clarify command process and response ",
        "3": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-39 Figure 3-12. Format of Get Group Membership Command Payload Octets Variable Data Type uint8 List of 16-bit integers Field Name Group count Group list 3.6.2.3.4.2 Effect on Receipt On receipt of the get group membership command, each receiving entity SHALL respond with group mem- bership information using the get group membership response frame as follows: If the group count field of the command frame has a value of 0 indicating that the group list field is empty, the entity SHALL respond with all group identifiers of which the entity is a member. If the group list field of the command frame contains at least one group of which the entity is a member, the entity SHALL respond with each entity group identifier that match a group in the group list field. If the group count is non-zero, and the group list field of the command frame does not contain any group of which the entity is a member, the entity SHALL only respond if the command is unicast. The response SHALL return a group count of zero. 3.6.2.3.5 Remove Group Command The remove group command allows the sender to request that the receiving entity or entities remove their membership, if any, in a particular group. Note that if a group is removed the scenes associated with that group SHOULD be removed. 3.6.2.3.5.1 Payload Format The Remove Group command payload SHALL be formatted as illustrated in Figure 3-13. Figure 3-13. Format of the Remove Group Command Payload Octets Data Type uint16 Field Name Group ID 3.6.2.3.5.2 Effect on Receipt 25 On receipt of the Remove Group command, the device SHALLperform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. The device attempts to remove the entry in its Group Table corresponding to the group identifier contained in the Group Id field. If no such entry exists in the Group Table, the status SHALL be NOT_FOUND and the device continues from step 4. 3. The device removes the requested entry from its Group Table and the status SHALL be SUCCESS. 25 CCB 2310 clarify command process and response Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-40 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 4. If the Remove Group command was received as a unicast, the device SHALL generate a Remove Group Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Remove Group command. See 3.6.2.4.4 for a description of the Remove Group Response command. 3.6.2.3.6 Remove All Groups Command The remove all groups command allows the sending device to direct the receiving entity or entities to remove all group associations. Note that removing all groups necessitates the removal of all associated scenes as well. (Note: scenes not associated with a group need not be removed). 3.6.2.3.6.1 Payload Format The Remove All Groups command has no payload. 3.6.2.3.6.2 Effect on Receipt 26 On receipt of this command, the device SHALL remove all groups on this endpoint from its Group Table. If the Remove All Groups command was received as unicast and a default response is requested, the device SHALL generate a Default Response command with the Status field set to SUCCESS and SHALL transmit it back to the originator of the Remove All Groups command. 3.6.2.3.7 Add Group If Identifying Command The add group if identifying command allows the sending device to add group membership in a particular group for one or more endpoints on the receiving device, on condition that it is identifying itself. Identifying functionality is controlled using the identify cluster, (see 3.5). This command might be used to assist configuring group membership in the absence of a commissioning tool. 3.6.2.3.7.1 Payload Format The Add Group If Identifying command payload SHALL be formatted as illustrated in Figure 3-14. Figure 3-14. Add Group If Identifying Command Payload Octets Variable Data Type uint16 string Field Name Group ID Group Name 3.6.2.3.7.2 Effect on Receipt 27 If the device is unable to store the contents of the Group Name field, the Group Name field MAY be ignored. On receipt of the Add Group If Identifying command, the device SHALL perform the following procedure: 26 CCB 2310 clarify command process and response 27 CCB 2310 clarify command process and response ",
        "4": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-40 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 4. If the Remove Group command was received as a unicast, the device SHALL generate a Remove Group Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Remove Group command. See 3.6.2.4.4 for a description of the Remove Group Response command. 3.6.2.3.6 Remove All Groups Command The remove all groups command allows the sending device to direct the receiving entity or entities to remove all group associations. Note that removing all groups necessitates the removal of all associated scenes as well. (Note: scenes not associated with a group need not be removed). 3.6.2.3.6.1 Payload Format The Remove All Groups command has no payload. 3.6.2.3.6.2 Effect on Receipt 26 On receipt of this command, the device SHALL remove all groups on this endpoint from its Group Table. If the Remove All Groups command was received as unicast and a default response is requested, the device SHALL generate a Default Response command with the Status field set to SUCCESS and SHALL transmit it back to the originator of the Remove All Groups command. 3.6.2.3.7 Add Group If Identifying Command The add group if identifying command allows the sending device to add group membership in a particular group for one or more endpoints on the receiving device, on condition that it is identifying itself. Identifying functionality is controlled using the identify cluster, (see 3.5). This command might be used to assist configuring group membership in the absence of a commissioning tool. 3.6.2.3.7.1 Payload Format The Add Group If Identifying command payload SHALL be formatted as illustrated in Figure 3-14. Figure 3-14. Add Group If Identifying Command Payload Octets Variable Data Type uint16 string Field Name Group ID Group Name 3.6.2.3.7.2 Effect on Receipt 27 If the device is unable to store the contents of the Group Name field, the Group Name field MAY be ignored. On receipt of the Add Group If Identifying command, the device SHALL perform the following procedure: 26 CCB 2310 clarify command process and response 27 CCB 2310 clarify command process and response ",
        "5": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-40 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 4. If the Remove Group command was received as a unicast, the device SHALL generate a Remove Group Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Remove Group command. See 3.6.2.4.4 for a description of the Remove Group Response command. 3.6.2.3.6 Remove All Groups Command The remove all groups command allows the sending device to direct the receiving entity or entities to remove all group associations. Note that removing all groups necessitates the removal of all associated scenes as well. (Note: scenes not associated with a group need not be removed). 3.6.2.3.6.1 Payload Format The Remove All Groups command has no payload. 3.6.2.3.6.2 Effect on Receipt 26 On receipt of this command, the device SHALL remove all groups on this endpoint from its Group Table. If the Remove All Groups command was received as unicast and a default response is requested, the device SHALL generate a Default Response command with the Status field set to SUCCESS and SHALL transmit it back to the originator of the Remove All Groups command. 3.6.2.3.7 Add Group If Identifying Command The add group if identifying command allows the sending device to add group membership in a particular group for one or more endpoints on the receiving device, on condition that it is identifying itself. Identifying functionality is controlled using the identify cluster, (see 3.5). This command might be used to assist configuring group membership in the absence of a commissioning tool. 3.6.2.3.7.1 Payload Format The Add Group If Identifying command payload SHALL be formatted as illustrated in Figure 3-14. Figure 3-14. Add Group If Identifying Command Payload Octets Variable Data Type uint16 string Field Name Group ID Group Name 3.6.2.3.7.2 Effect on Receipt 27 If the device is unable to store the contents of the Group Name field, the Group Name field MAY be ignored. On receipt of the Add Group If Identifying command, the device SHALL perform the following procedure: 26 CCB 2310 clarify command process and response 27 CCB 2310 clarify command process and response Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-41 1. The device verifies that it is currently identifying itself. If the device it not currently identifying itself, the Add Group If Identifying command was received as unicast and a default response is requested, the device SHALL generate a Default Response command with the Status field set to SUCCESS and SHALL transmit it back to the originator of the Add Group If Identifying command. If the device it not currently identifying itself and the Add Group If Identifying command was not received as unicast, no further processing SHALL be performed. 2. The device verifies that the Group ID field contains a valid group identifier in the range 0x0001 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 6. 3. The device verifies that it does not already have an entry in its Group Table that corresponds to the value of the Group ID field. If it already has the requested entry in its Group Table, the status SHALL be SUCCESS and the device continues from step 6. 4. The device verifies that it has free entries in its Group Table. If the device has no free entries in its Group Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 6. 5. The device adds the values of the Group ID and Group Name (if supported) fields to its Group Table and the status SHALL be SUCCESS. 6. If the Add Group If Identifying command was received as unicast and the evaluated status is not SUCCESS, the device SHALL generate a Default Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Add Group If Identifying command. No response is defined as this command is EXPECTED to be multicast or broadcast. If the command is unicast, with the Disable Default Response bit not set, and there is no error (or the endpoint is not identifying), then there SHALL be a Default Response with a Status of SUCCESS.28 3.6.2.4 Commands Generated The commands generated by the server side of the group cluster, as listed in Table 3-38, are responses to the received commands listed in sub-clause 3.6.2.3. Table 3-38. Generated Command IDs for the Groups Cluster Command Identifier Description M/O 0x00 Add group response M 0x01 View group response M 0x02 Get group membership response M 0x03 Remove group response M Note: There is no need for a response to the Remove all Groups command, as, at an application level, this command always succeeds. 28 CCB 2704 "
    },
    "5": {
        "0": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-47 3.7.2.4 Commands Received The received command IDs for the Scenes cluster are listed in Table 3-42. Table 3-42. Received Command IDs for the Scenes Cluster Command Identifier Field Value Description M/O 0x00 Add Scene M 0x01 View Scene M 0x02 Remove Scene M 0x03 Remove All Scenes M 0x04 Store Scene M 0x05 Recall Scene M 0x06 Get Scene Membership M 0x40 Enhanced Add Scene O 0x41 Enhanced View Scene O 0x42 Copy Scene O 3.7.2.4.1 Generic Usage Notes Scene identifier 0x00, along with group identifier 0x0000, is reserved for the global scene used by the OnOff cluster. On receipt of the Add Scene, View Scene, Remove Scene, Remove All Scenes, Store Scene, Enhanced Add Scene, Enhanced View Scene or Copy Scene command frames via the groupcast or broadcast transmission service, no response SHALL be given. On receipt of the Add Scene command, the Scene Transition Time element of the scene table SHALL be updated with the value of the Transition Time field and the TransitionTime100ms element SHALL be set to zero. 3.7.2.4.2 Add Scene Command 3.7.2.4.2.1 Payload Format The payload SHALL be formatted as illustrated in Figure 3-19. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-48 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-19. Format of the Add Scene Command Payload Octets Variable Variable Data Type uint16 uint8 uint16 string Variable (multiple types) Field Name Group ID Scene ID Transition time Scene Name Extension field sets, one per cluster The format of each extension field set is a 16 bit field carrying the cluster ID, followed by an 8 bit length field and the set of scene extension fields specified in the relevant cluster. The length field holds the length in octets of that extension field set. Extension field sets = {{clusterId 1, length 1, {extension field set 1}}, {clusterId 2, length 2, {extension field set 2}} ...}. The attributes included in the extension field set for each cluster are defined in the specification for that cluster in this document (the Cluster Library). The field set consists of values for these attributes concatenated together, in the order given in the cluster specification, with no attribute identifiers or data type indicators. For forward compatibility, reception of this command SHALL allow for the possible future addition of other attributes to the trailing ends of the lists given in the cluster specifications (by ignoring them). Similarly, it SHALL allow for one or more attributes to be omitted from the trailing ends of these lists (see 3.7.2.4.7.2). It is not mandatory for a field set to be included in the command for every cluster on that endpoint that has a defined field set. Extension field sets MAY be omitted, including the case of no field sets at all. 3.7.2.4.2.2 Effect on Receipt 32 On receipt of the Add Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that it has free entries in its Scene Table. If the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 4. The device adds the scene entry into its Scene Table with fields copied from the Add Scene com- mand payload and the status SHALL be SUCCESS. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it. 5. If the Add Scene command was received as a unicast, the device SHALL then generate an Add Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Add Scene command. See 3.7.2.5.1 for a description of the Add Scene Response command. 3.7.2.4.3 View Scene Command 3.7.2.4.3.1 Payload Format 32 CCB 2310 clarify command process and response ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-48 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-19. Format of the Add Scene Command Payload Octets Variable Variable Data Type uint16 uint8 uint16 string Variable (multiple types) Field Name Group ID Scene ID Transition time Scene Name Extension field sets, one per cluster The format of each extension field set is a 16 bit field carrying the cluster ID, followed by an 8 bit length field and the set of scene extension fields specified in the relevant cluster. The length field holds the length in octets of that extension field set. Extension field sets = {{clusterId 1, length 1, {extension field set 1}}, {clusterId 2, length 2, {extension field set 2}} ...}. The attributes included in the extension field set for each cluster are defined in the specification for that cluster in this document (the Cluster Library). The field set consists of values for these attributes concatenated together, in the order given in the cluster specification, with no attribute identifiers or data type indicators. For forward compatibility, reception of this command SHALL allow for the possible future addition of other attributes to the trailing ends of the lists given in the cluster specifications (by ignoring them). Similarly, it SHALL allow for one or more attributes to be omitted from the trailing ends of these lists (see 3.7.2.4.7.2). It is not mandatory for a field set to be included in the command for every cluster on that endpoint that has a defined field set. Extension field sets MAY be omitted, including the case of no field sets at all. 3.7.2.4.2.2 Effect on Receipt 32 On receipt of the Add Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that it has free entries in its Scene Table. If the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 4. The device adds the scene entry into its Scene Table with fields copied from the Add Scene com- mand payload and the status SHALL be SUCCESS. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it. 5. If the Add Scene command was received as a unicast, the device SHALL then generate an Add Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Add Scene command. See 3.7.2.5.1 for a description of the Add Scene Response command. 3.7.2.4.3 View Scene Command 3.7.2.4.3.1 Payload Format 32 CCB 2310 clarify command process and response Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-49 The payload SHALL be formatted as illustrated in Figure 3-20. Figure 3-20. Format of the View Scene Command Payload Octets Data Type uint16 uint8 Field Name Group ID Scene ID 3.7.2.4.3.2 Effect on Receipt 33 On receipt of the View Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the View Scene command was received as a unicast, the device SHALL then generate a View Scene Response command with the retrieved scene entry and the Status field set to the evaluated status and SHALL transmit it back to the originator of the View Scene command. See 3.7.2.5.2 for a description of the View Scene Response command. 3.7.2.4.4 Remove Scene Command 3.7.2.4.4.1 Payload Format The Remove Scene command payload SHALL be formatted as illustrated in Figure 3-21. Figure 3-21. Format of the Remove Scene Command Payload Octets Data Type uint16 uint8 Field Name Group ID Scene ID 3.7.2.4.4.2 Effect on Receipt 34 On receipt of the Remove Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 33 CCB 2310 clarify command process and response 34 CCB 2310 clarify command process and response ",
        "2": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-49 The payload SHALL be formatted as illustrated in Figure 3-20. Figure 3-20. Format of the View Scene Command Payload Octets Data Type uint16 uint8 Field Name Group ID Scene ID 3.7.2.4.3.2 Effect on Receipt 33 On receipt of the View Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the View Scene command was received as a unicast, the device SHALL then generate a View Scene Response command with the retrieved scene entry and the Status field set to the evaluated status and SHALL transmit it back to the originator of the View Scene command. See 3.7.2.5.2 for a description of the View Scene Response command. 3.7.2.4.4 Remove Scene Command 3.7.2.4.4.1 Payload Format The Remove Scene command payload SHALL be formatted as illustrated in Figure 3-21. Figure 3-21. Format of the Remove Scene Command Payload Octets Data Type uint16 uint8 Field Name Group ID Scene ID 3.7.2.4.4.2 Effect on Receipt 34 On receipt of the Remove Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 33 CCB 2310 clarify command process and response 34 CCB 2310 clarify command process and response Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-50 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device removes the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the Remove Scene command was received as a unicast, the device SHALL then generate a Re- move Scene Response command with the Status field set to the evaluated status and SHALL trans- mit it back to the originator of the Remove Scene command. See 3.7.2.5.3 for a description of the Remove Scene Response command. 3.7.2.4.5 Remove All Scenes Command 3.7.2.4.5.1 Payload Format The Remove All Scenes command payload SHALL be formatted as illustrated in Figure 3-22. Figure 3-22. Format of the Remove All Scenes Command Payload Octets Data Type uint16 Field Name Group ID 3.7.2.4.5.2 Effect on Receipt 35 On receipt of the Remove All Scenes command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 4. 3. The device SHALL remove all scenes, corresponding to the value of the Group ID field, from its Scene Table and the status SHALL be SUCCESS. 4. If the Remove All Scenes command was received as a unicast, the device SHALL then generate a Remove All Scenes Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Remove All Scenes command. See 3.7.2.5.4 for a description of the Remove All Scenes Response command. 3.7.2.4.6 Store Scene Command 3.7.2.4.6.1 Payload Format The Store Scene command payload SHALL be formatted as illustrated in Figure 3-23. 35 CCB 2310 clarify command process and response ",
        "3": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-50 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device removes the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the Remove Scene command was received as a unicast, the device SHALL then generate a Re- move Scene Response command with the Status field set to the evaluated status and SHALL trans- mit it back to the originator of the Remove Scene command. See 3.7.2.5.3 for a description of the Remove Scene Response command. 3.7.2.4.5 Remove All Scenes Command 3.7.2.4.5.1 Payload Format The Remove All Scenes command payload SHALL be formatted as illustrated in Figure 3-22. Figure 3-22. Format of the Remove All Scenes Command Payload Octets Data Type uint16 Field Name Group ID 3.7.2.4.5.2 Effect on Receipt 35 On receipt of the Remove All Scenes command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 4. 3. The device SHALL remove all scenes, corresponding to the value of the Group ID field, from its Scene Table and the status SHALL be SUCCESS. 4. If the Remove All Scenes command was received as a unicast, the device SHALL then generate a Remove All Scenes Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Remove All Scenes command. See 3.7.2.5.4 for a description of the Remove All Scenes Response command. 3.7.2.4.6 Store Scene Command 3.7.2.4.6.1 Payload Format The Store Scene command payload SHALL be formatted as illustrated in Figure 3-23. 35 CCB 2310 clarify command process and response ",
        "4": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-50 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device removes the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the Remove Scene command was received as a unicast, the device SHALL then generate a Re- move Scene Response command with the Status field set to the evaluated status and SHALL trans- mit it back to the originator of the Remove Scene command. See 3.7.2.5.3 for a description of the Remove Scene Response command. 3.7.2.4.5 Remove All Scenes Command 3.7.2.4.5.1 Payload Format The Remove All Scenes command payload SHALL be formatted as illustrated in Figure 3-22. Figure 3-22. Format of the Remove All Scenes Command Payload Octets Data Type uint16 Field Name Group ID 3.7.2.4.5.2 Effect on Receipt 35 On receipt of the Remove All Scenes command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 4. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 4. 3. The device SHALL remove all scenes, corresponding to the value of the Group ID field, from its Scene Table and the status SHALL be SUCCESS. 4. If the Remove All Scenes command was received as a unicast, the device SHALL then generate a Remove All Scenes Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Remove All Scenes command. See 3.7.2.5.4 for a description of the Remove All Scenes Response command. 3.7.2.4.6 Store Scene Command 3.7.2.4.6.1 Payload Format The Store Scene command payload SHALL be formatted as illustrated in Figure 3-23. 35 CCB 2310 clarify command process and response Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-51 Figure 3-23. Format of the Store Scene Command Payload Octets Data Type uint16 uint8 Field Name Group ID Scene ID 3.7.2.4.6.2 Effect on Receipt 36 On receipt of the Store Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that it has free entries in its Scene Table. If the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 4. The device adds the scene entry into its Scene Table along with all extension field sets corresponding to the current state of other clusters on the same endpoint on the device and the Transition Time and Scene Name entries set to 0 and the null string, respectively. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it, i.e., it SHALL first remove all information included in the original scene entry except for the Transition Time and Scene Name entries, which are left unaltered. The status SHALL be SUCCESS. 5. If the Store Scene command was received as a unicast, the device SHALL then generate a Store Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Store Scene command. Note that if a scene to be stored requires a transition time field and/ or a scene name field, these must be set up by a prior Add Scene command, e.g., with no scene extension field sets. If the Group ID field is not zero, and the device is not a member of this group, the scene will not be added. See 3.7.2.5.5 for a description of the Store Scene Response command. 3.7.2.4.7 Recall Scene Command 3.7.2.4.7.1 Payload Format The Recall Scene command payload SHALL be formatted as illustrated in Figure 3-24. 36 CCB 2310 clarify command process and response ",
        "5": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-51 Figure 3-23. Format of the Store Scene Command Payload Octets Data Type uint16 uint8 Field Name Group ID Scene ID 3.7.2.4.6.2 Effect on Receipt 36 On receipt of the Store Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that it has free entries in its Scene Table. If the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 4. The device adds the scene entry into its Scene Table along with all extension field sets corresponding to the current state of other clusters on the same endpoint on the device and the Transition Time and Scene Name entries set to 0 and the null string, respectively. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it, i.e., it SHALL first remove all information included in the original scene entry except for the Transition Time and Scene Name entries, which are left unaltered. The status SHALL be SUCCESS. 5. If the Store Scene command was received as a unicast, the device SHALL then generate a Store Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Store Scene command. Note that if a scene to be stored requires a transition time field and/ or a scene name field, these must be set up by a prior Add Scene command, e.g., with no scene extension field sets. If the Group ID field is not zero, and the device is not a member of this group, the scene will not be added. See 3.7.2.5.5 for a description of the Store Scene Response command. 3.7.2.4.7 Recall Scene Command 3.7.2.4.7.1 Payload Format The Recall Scene command payload SHALL be formatted as illustrated in Figure 3-24. 36 CCB 2310 clarify command process and response Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-52 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-24. Format of the Recall Scene Command Payload Octets 0/2 Data Type uint16 uint8 uint16 Field Name Group ID Scene ID Transition Time 3.7.2.4.7.2 Effect on Receipt 37 On receipt of the Recall Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table. For each other cluster on the device, it SHALL retrieve any corresponding extension fields from the Scene Table and set the attributes and corresponding state of the cluster accordingly. If there is no extension field set for a cluster, the state of that cluster SHALL remain unchanged. If an extension field set omits the values of any trailing attributes, the values of these attributes SHALL remain unchanged. 5. This command does not result in a corresponding response command unless: the command is unicast, and an error occurs during its processing, a Default Response SHALL be generated with the Status code set to the error status. OR the command is unicast, no error occurs, and a Default Response is requested, a Default Response command SHALL be generated with the Status code field set to SUCCESS. 38 If the Transition Time field is present in the command payload and its value is not equal to 0xffff, this field SHALL indicate the transition time in 1/10ths of a second. In all other cases (command payload field not present or value equal to 0xffff), the scene transition time field of the Scene Table entry SHALL indicate the transition time. The transition time determines how long the transition takes from the old cluster state to the new cluster state. It is recommended that, where possible (e.g., it is not possible for attributes with Boolean data type), a gradual transition SHOULD take place from the old to the new state over this time. However, the exact transition is manufacturer dependent. 3.7.2.4.8 Get Scene Membership Command The Get Scene Membership command can be used to find an unused scene number within the group when no commissioning tool is in the network, or for a commissioning tool to get used scenes for a group on a single device or on all devices in the group. 3.7.2.4.8.1 Payload Format The Get Scene Membership command payload SHALL be formatted as illustrated in Figure 3-25. 37 CCB 2310 clarify command process and response 38 CCB 2427 ",
        "6": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-52 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-24. Format of the Recall Scene Command Payload Octets 0/2 Data Type uint16 uint8 uint16 Field Name Group ID Scene ID Transition Time 3.7.2.4.7.2 Effect on Receipt 37 On receipt of the Recall Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table. For each other cluster on the device, it SHALL retrieve any corresponding extension fields from the Scene Table and set the attributes and corresponding state of the cluster accordingly. If there is no extension field set for a cluster, the state of that cluster SHALL remain unchanged. If an extension field set omits the values of any trailing attributes, the values of these attributes SHALL remain unchanged. 5. This command does not result in a corresponding response command unless: the command is unicast, and an error occurs during its processing, a Default Response SHALL be generated with the Status code set to the error status. OR the command is unicast, no error occurs, and a Default Response is requested, a Default Response command SHALL be generated with the Status code field set to SUCCESS. 38 If the Transition Time field is present in the command payload and its value is not equal to 0xffff, this field SHALL indicate the transition time in 1/10ths of a second. In all other cases (command payload field not present or value equal to 0xffff), the scene transition time field of the Scene Table entry SHALL indicate the transition time. The transition time determines how long the transition takes from the old cluster state to the new cluster state. It is recommended that, where possible (e.g., it is not possible for attributes with Boolean data type), a gradual transition SHOULD take place from the old to the new state over this time. However, the exact transition is manufacturer dependent. 3.7.2.4.8 Get Scene Membership Command The Get Scene Membership command can be used to find an unused scene number within the group when no commissioning tool is in the network, or for a commissioning tool to get used scenes for a group on a single device or on all devices in the group. 3.7.2.4.8.1 Payload Format The Get Scene Membership command payload SHALL be formatted as illustrated in Figure 3-25. 37 CCB 2310 clarify command process and response 38 CCB 2427 Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-53 Figure 3-25. Format of Get Scene Membership Command Payload Octets Data Type uint16 Field Name Group ID 3.7.2.4.8.2 Effect on Receipt 39 On receipt of the Get Scene Membership command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 3. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 3. 3. If the Get Scene Membership command was received as a unicast, the device SHALL then generate a Get Scene Membership Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Get Scene Membership command. If the Get Scene Membership command was not received as a unicast, the device SHALL only generate a Get Scene Membership Response command with the Status field set to the evaluated status if an entry within the Scene Table corresponds to the Group ID; the device SHALL then transmit it back to the origi- nator of the Get Scene Membership command See 3.7.2.5.6 for a description of the Get Scene Membership Response command. 3.7.2.4.9 Enhanced Add Scene Command The Enhanced Add Scene command allows a scene to be added using a finer scene transition time than the Add Scene command. The payload of this command SHALL be formatted in the same way as the Add Scene command, specified in the ZCL Scenes cluster, with the following difference: The Transition Time field SHALL be measured in tenths of a second rather than in seconds. 3.7.2.4.9.1 Effect on Receipt 40 On receipt of the Enhanced Add Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that it has free entries in its Scene Table. If the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 39 CCB 2310 clarify command process and response 40 CCB 2310 clarify command process and response ",
        "64": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-53 Figure 3-25. Format of Get Scene Membership Command Payload Octets Data Type uint16 Field Name Group ID 3.7.2.4.8.2 Effect on Receipt 39 On receipt of the Get Scene Membership command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 3. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 3. 3. If the Get Scene Membership command was received as a unicast, the device SHALL then generate a Get Scene Membership Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Get Scene Membership command. If the Get Scene Membership command was not received as a unicast, the device SHALL only generate a Get Scene Membership Response command with the Status field set to the evaluated status if an entry within the Scene Table corresponds to the Group ID; the device SHALL then transmit it back to the origi- nator of the Get Scene Membership command See 3.7.2.5.6 for a description of the Get Scene Membership Response command. 3.7.2.4.9 Enhanced Add Scene Command The Enhanced Add Scene command allows a scene to be added using a finer scene transition time than the Add Scene command. The payload of this command SHALL be formatted in the same way as the Add Scene command, specified in the ZCL Scenes cluster, with the following difference: The Transition Time field SHALL be measured in tenths of a second rather than in seconds. 3.7.2.4.9.1 Effect on Receipt 40 On receipt of the Enhanced Add Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that it has free entries in its Scene Table. If the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 5. 39 CCB 2310 clarify command process and response 40 CCB 2310 clarify command process and response Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-54 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 4. The device adds the scene entry into its Scene Table with fields copied from the Enhanced Add Scene command payload and the status SHALL be SUCCESS. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it, i.e., it SHALL first remove all information included in the original scene entry. The Transition Time (measured in tenths of a second) SHALL be separated into whole seconds for the standard Transition Time field of the scene table entry and the new TransitionTime100ms field, as specified. 5. If the Enhanced Add Scene command was received as a unicast, the device SHALL then generate an Enhanced Add Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Enhanced Add Scene command. See 3.7.2.5.7 for a description of the Enhanced Add Scene Response command. 3.7.2.4.10 Enhanced View Scene Command The Enhanced View Scene command allows a scene to be retrieved using a finer scene transition time than the View Scene command. The payload of this command SHALL be formatted in the same way as the View Scene command. 3.7.2.4.10.1 Effect on Receipt 41 On receipt of the Enhanced View Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the Enhanced View Scene command was received as a unicast, the device SHALL then generate an Enhanced View Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Enhanced View Scene command. See 3.7.2.5.8 for a description of the Enhanced View Scene Response command. 3.7.2.4.11 Copy Scene Command The Copy Scene command allows a device to efficiently copy scenes from one group/scene identifier pair to another group/scene identifier pair. The payload of this command SHALL be formatted as illustrated in Figure 3-26. 41 CCB 2310 clarify command process and response ",
        "65": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-54 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 4. The device adds the scene entry into its Scene Table with fields copied from the Enhanced Add Scene command payload and the status SHALL be SUCCESS. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it, i.e., it SHALL first remove all information included in the original scene entry. The Transition Time (measured in tenths of a second) SHALL be separated into whole seconds for the standard Transition Time field of the scene table entry and the new TransitionTime100ms field, as specified. 5. If the Enhanced Add Scene command was received as a unicast, the device SHALL then generate an Enhanced Add Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Enhanced Add Scene command. See 3.7.2.5.7 for a description of the Enhanced Add Scene Response command. 3.7.2.4.10 Enhanced View Scene Command The Enhanced View Scene command allows a scene to be retrieved using a finer scene transition time than the View Scene command. The payload of this command SHALL be formatted in the same way as the View Scene command. 3.7.2.4.10.1 Effect on Receipt 41 On receipt of the Enhanced View Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the Enhanced View Scene command was received as a unicast, the device SHALL then generate an Enhanced View Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Enhanced View Scene command. See 3.7.2.5.8 for a description of the Enhanced View Scene Response command. 3.7.2.4.11 Copy Scene Command The Copy Scene command allows a device to efficiently copy scenes from one group/scene identifier pair to another group/scene identifier pair. The payload of this command SHALL be formatted as illustrated in Figure 3-26. 41 CCB 2310 clarify command process and response ",
        "66": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-54 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 4. The device adds the scene entry into its Scene Table with fields copied from the Enhanced Add Scene command payload and the status SHALL be SUCCESS. If there is already a scene in the Scene Table with the same Scene ID and Group ID, it SHALL overwrite it, i.e., it SHALL first remove all information included in the original scene entry. The Transition Time (measured in tenths of a second) SHALL be separated into whole seconds for the standard Transition Time field of the scene table entry and the new TransitionTime100ms field, as specified. 5. If the Enhanced Add Scene command was received as a unicast, the device SHALL then generate an Enhanced Add Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Enhanced Add Scene command. See 3.7.2.5.7 for a description of the Enhanced Add Scene Response command. 3.7.2.4.10 Enhanced View Scene Command The Enhanced View Scene command allows a scene to be retrieved using a finer scene transition time than the View Scene command. The payload of this command SHALL be formatted in the same way as the View Scene command. 3.7.2.4.10.1 Effect on Receipt 41 On receipt of the Enhanced View Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group ID field contains a valid group identifier in the range 0x0000 \u2013 0xfff7. If the Group ID field contains a group identifier outside this range, the status SHALL be INVALID_VALUE and the device continues from step 5. 2. If the value of the Group ID field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVA- LID_FIELD and the device continues from step 5. 3. The device verifies that the scene entry corresponding to the Group ID and Scene ID fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 5. 4. The device retrieves the requested scene entry from its Scene Table and the status SHALL be SUC- CESS. 5. If the Enhanced View Scene command was received as a unicast, the device SHALL then generate an Enhanced View Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Enhanced View Scene command. See 3.7.2.5.8 for a description of the Enhanced View Scene Response command. 3.7.2.4.11 Copy Scene Command The Copy Scene command allows a device to efficiently copy scenes from one group/scene identifier pair to another group/scene identifier pair. The payload of this command SHALL be formatted as illustrated in Figure 3-26. 41 CCB 2310 clarify command process and response Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-55 Figure 3-26. Format of the Copy Scene Command Octets Data Type map842 uint16 uint8 uint16 uint8 Field Name Mode Group identifier from Scene identifier from Group identifier to Scene identifier to 3.7.2.4.11.1 Mode Field The mode field is 8-bits in length and contains information of how the scene copy is to proceed. This field SHALL be formatted as illustrated in Figure 3-27. Figure 3-27. Format of the Mode Field of the Copy Scene Command Bits: 0 Bits: 1-7 Copy All Scenes Reserved The Copy All Scenes subfield is 1-bit in length and indicates whether all scenes are to be copied. If this value is set to 1, all scenes are to be copied and the Scene Identifier From and Scene Identifier To fields SHALL be ignored. Otherwise this field is set to 0. 3.7.2.4.11.2 Group Identifier From Field The Group Identifier From field is 16-bits in length and specifies the identifier of the group from which the scene is to be copied. Together with the Scene Identifier From field, this field uniquely identifies the scene to copy from the scene table. 3.7.2.4.11.3 Scene Identifier From Field The Scene Identifier From field is 8-bits in length and specifies the identifier of the scene from which the scene is to be copied. Together with the Group Identifier From field, this field uniquely identifies the scene to copy from the scene table. 3.7.2.4.11.4 Group Identifier To Field The Group Identifier To field is 16-bits in length and specifies the identifier of the group to which the scene is to be copied. Together with the Scene Identifier To field, this field uniquely identifies the scene to copy to the scene table. 3.7.2.4.11.5 Scene Identifier To Field The Scene Identifier To field is 8-bits in length and specifies the identifier of the scene to which the scene is to be copied. Together with the Group Identifier To field, this field uniquely identifies the scene to copy to the scene table. 3.7.2.4.11.6 Effect on Receipt 43 On receipt of the Copy Scene command, the device SHALL perform the following procedure: 1. The device verifies that the Group Identifier From and Group Identifier To fields contain a valid group identifier in the range 0x0000 \u2013 0xfff7. If either the Group Identifier From field or the Group Identifier To field contains a group identifier outside this range, the status SHALL be INVA- LID_VALUE and the device continues from step 6. 42 CCB 3026 changed from uint8 to map8 43 CCB 2310 clarify command process and response Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-56 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 2. If the value of either the Group Identifier From field or the Group Identifier To field is non-zero, the device verifies that it corresponds to an entry in its Group Table. If there is no such entry in its Group Table, the status SHALL be INVALID_FIELD and the device continues from step 6. 3. The device verifies that the scene entry corresponding to the Group Identifier From and Scene Iden- tifier From fields exists in its Scene Table. If there is no such entry in its Scene Table, the status SHALL be NOT_FOUND and the device continues from step 6. 4. If the Copy All Scenes sub-field of the Mode field is set to 1 or the scene entry corresponding to the Group Identifier To and Scene Identifier To fields does not exist in the scene table and if the device has no further free entries in its Scene Table, the status SHALL be INSUFFICIENT_SPACE and the device continues from step 6. 5. The status SHALL be SUCCESS. If the Copy All Scenes sub-field of the Mode field is set to 1, the device SHALL copy all its available scenes with group identifier equal to the Group Identifier From field under the group identifier specified in the Group Identifier To field, leaving the scene identifi- ers the same. In this case, the Scene Identifier From and Scene Identifier To fields are ignored. If the Copy All Scenes sub-field of the Mode field is set to 0, the device SHALL copy the scene table entry corresponding to the Group Identifier From and Scene Identifier From fields to the scene table entry corresponding to the Group Identifier To and Scene Identifier To fields. If a scene already exists under the same group/scene identifier pair, it SHALL be overwritten. 6. If the Copy Scene command was received as a unicast, the device SHALL then generate a Copy Scene Response command with the Status field set to the evaluated status and SHALL transmit it back to the originator of the Copy Scene command. See 3.7.2.5.9 for a description of the Copy Scene Response command. 3.7.2.5 Commands Generated The generated command IDs for the Scenes cluster are listed in Table 3-43. Table 3-43. Generated Command IDs for the Scenes Cluster Command Identifier Field Value Description M/O 0x00 Add Scene Response M 0x01 View Scene Response M 0x02 Remove Scene Response M 0x03 Remove All Scenes Response M 0x04 Store Scene Response M 0x06 Get Scene Membership Response M 0x40 Enhanced Add Scene Response O 0x41 Enhanced View Scene Response O 0x42 Copy Scene Response O "
    },
    "6": {
        "0": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-64 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.8.2.2.4 OffWaitTime Attribute The OffWaitTime attribute specifies the length of time (in 1/10ths second) that the \u201coff\u201d state SHALL be guarded to prevent an on command turning the device back to its \u201con\u201d state (e.g., when leaving a room, the lights are turned off but an occupancy sensor detects the leaving person and attempts to turn the lights back on). If this attribute is set to 0x0000, the device SHALL remain in its current state. 3.8.2.2.5 StartUpOnOff Attribute The StartUpOnOff attribute SHALL define the desired startup behavior of a50 device when it is supplied with power and this state SHALL be reflected in the OnOff attribute. The values of the StartUpOnOff attribute are listed below. Table 3-46. Values of the StartUpOnOff Attribute Value Action on power up 0x00 Set the OnOff attribute to 0 (off). 0x01 Set the OnOff attribute to 1 (on). 0x02 If the previous value of the OnOff attribute is equal to 0, set the OnOff attribute to 1. If the previous value of the OnOff attribute is equal to 1, set the OnOff attribute to 0 (toggle). 0x03 to 0xfe These values are reserved. No action. 0xff Set the OnOff attribute to its previous value. 3.8.2.3 Commands Received The command IDs for the On/Off cluster are listed below. Table 3-47. Command IDs for the On/Off Cluster ID Description M/O 0x00 Off M 0x01 On M 0x02 Toggle M 0x40 Off with effect O 0x41 On with recall global scene O 0x42 On with timed off O 3.8.2.3.1 Off Command This command does not have a payload. 50 CCB 2605 remove \u2018lamp\u2019 Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-65 3.8.2.3.1.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018Off\u2019 state. This state is device dependent, but it is recommended that it is used for power off or similar functions. On receipt of the Off command, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.2 On Command This command does not have a payload. 3.8.2.3.2.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018On\u2019 state. This state is device dependent, but it is recommended that it is used for power on or similar functions. On receipt of the On command, if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. 3.8.2.3.3 Toggle Command This command does not have a payload. 3.8.2.3.3.1 Effect on Receipt On receipt of this command, if a device is in its \u2018Off\u2019 state it SHALL enter its \u2018On\u2019 state. Otherwise, if it is in its \u2018On\u2019 state it SHALL enter its \u2018Off\u2019 state. On receipt of the Toggle command, if the value of the OnOff attribute is equal to 0x00 and if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. If the value of the OnOff attribute is equal to 0x01, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.4 Off With Effect Command The Off With Effect command allows devices to be turned off using enhanced ways of fading. The payload of this command SHALL be formatted as illustrated in Figure 3-36. Figure 3-36. Format of the Off With Effect Command Octets Data Type uint8 uint8 Field Name Effect identifier Effect variant 3.8.2.3.4.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the fading effect to use when switching the device off. This field SHALL contain one of the non-reserved values listed in Table 3-48. Table 3-48. Values of the Effect Identifier Field of the Off With Effect Command Effect Identifier Field Value Description 0x00 Delayed All Off 0x01 Dying Light 0x02 to 0xff Reserved ",
        "1": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-65 3.8.2.3.1.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018Off\u2019 state. This state is device dependent, but it is recommended that it is used for power off or similar functions. On receipt of the Off command, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.2 On Command This command does not have a payload. 3.8.2.3.2.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018On\u2019 state. This state is device dependent, but it is recommended that it is used for power on or similar functions. On receipt of the On command, if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. 3.8.2.3.3 Toggle Command This command does not have a payload. 3.8.2.3.3.1 Effect on Receipt On receipt of this command, if a device is in its \u2018Off\u2019 state it SHALL enter its \u2018On\u2019 state. Otherwise, if it is in its \u2018On\u2019 state it SHALL enter its \u2018Off\u2019 state. On receipt of the Toggle command, if the value of the OnOff attribute is equal to 0x00 and if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. If the value of the OnOff attribute is equal to 0x01, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.4 Off With Effect Command The Off With Effect command allows devices to be turned off using enhanced ways of fading. The payload of this command SHALL be formatted as illustrated in Figure 3-36. Figure 3-36. Format of the Off With Effect Command Octets Data Type uint8 uint8 Field Name Effect identifier Effect variant 3.8.2.3.4.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the fading effect to use when switching the device off. This field SHALL contain one of the non-reserved values listed in Table 3-48. Table 3-48. Values of the Effect Identifier Field of the Off With Effect Command Effect Identifier Field Value Description 0x00 Delayed All Off 0x01 Dying Light 0x02 to 0xff Reserved ",
        "64": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-65 3.8.2.3.1.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018Off\u2019 state. This state is device dependent, but it is recommended that it is used for power off or similar functions. On receipt of the Off command, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.2 On Command This command does not have a payload. 3.8.2.3.2.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018On\u2019 state. This state is device dependent, but it is recommended that it is used for power on or similar functions. On receipt of the On command, if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. 3.8.2.3.3 Toggle Command This command does not have a payload. 3.8.2.3.3.1 Effect on Receipt On receipt of this command, if a device is in its \u2018Off\u2019 state it SHALL enter its \u2018On\u2019 state. Otherwise, if it is in its \u2018On\u2019 state it SHALL enter its \u2018Off\u2019 state. On receipt of the Toggle command, if the value of the OnOff attribute is equal to 0x00 and if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. If the value of the OnOff attribute is equal to 0x01, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.4 Off With Effect Command The Off With Effect command allows devices to be turned off using enhanced ways of fading. The payload of this command SHALL be formatted as illustrated in Figure 3-36. Figure 3-36. Format of the Off With Effect Command Octets Data Type uint8 uint8 Field Name Effect identifier Effect variant 3.8.2.3.4.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the fading effect to use when switching the device off. This field SHALL contain one of the non-reserved values listed in Table 3-48. Table 3-48. Values of the Effect Identifier Field of the Off With Effect Command Effect Identifier Field Value Description 0x00 Delayed All Off 0x01 Dying Light 0x02 to 0xff Reserved Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-66 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.8.2.3.4.2 Effect Variant Field The Effect Variant field is 8-bits in length and is used to indicate which variant of the effect, indicated in the Effect Identifier field, SHOULD be triggered. If a device does not support the given variant, it SHALL use the default variant. This field is dependent on the value of the Effect Identifier field and SHALL contain one of the nonreserved values listed in Table 3-49. Table 3-49. Values of the Effect Variant Field of the Off With Effect Command Effect Identifier Field Value Effect Variant Field Value Description 0x00 0x00 (default) Fade to off in 0.8 seconds 0x01 No fade 0x02 50% dim down in 0.8 seconds then fade to off in 12 seconds 0x03 to 0xff Reserved 0x01 0x00 (default) 20% dim up in 0.5s then fade to off in 1 second 0x01 to 0xff Reserved 0x02 to 0xff 0x00 to 0xff Reserved 3.8.2.3.4.3 Effect on Receipt On receipt of the Off With Effect command and if the GlobalSceneControl attribute is equal to TRUE, the application on the associated endpoint SHALL store its settings in its global scene then set the GlobalScen- eControl attribute to FALSE. The application SHALL then enter its \u201coff\u201d state, update the OnOff attribute accordingly and set the OnTime attribute to 0x0000. In all other cases, the application on the associated endpoint SHALL enter its \u201coff\u201d state and update the OnOff attribute accordingly. 3.8.2.3.5 On With Recall Global Scene Command The On With Recall Global Scene command allows the recall of the settings when the device was turned off. The On With Recall Global Scene command SHALL have no parameters. 3.8.2.3.5.1 Effect on Receipt On receipt of the On With Recall Global Scene command, if the GlobalSceneControl attribute is equal to TRUE, the application on the associated endpoint SHALL discard the command. If the GlobalSceneControl attribute is equal to FALSE, the application on the associated endpoint SHALL recall its global scene, entering the appropriate state and updating the OnOff attribute accordingly. It SHALL then set the GlobalSceneControl attribute to TRUE. In Addition, if the value of the OnTime attrib- ute is equal to 0x0000, the device SHALL then set the OffWaitTime attribute to 0x0000. 3.8.2.3.6 On With Timed Off Command The On With Timed Off command allows devices to be turned on for a specific duration with a guarded off duration so that SHOULD the device be subsequently switched off, further On With Timed Off commands, received during this time, are prevented from turning the devices back on. Note that the device can be peri- odically re-kicked by subsequent On With Timed Off commands, e.g., from an on/off sensor. ",
        "65": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-66 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.8.2.3.4.2 Effect Variant Field The Effect Variant field is 8-bits in length and is used to indicate which variant of the effect, indicated in the Effect Identifier field, SHOULD be triggered. If a device does not support the given variant, it SHALL use the default variant. This field is dependent on the value of the Effect Identifier field and SHALL contain one of the nonreserved values listed in Table 3-49. Table 3-49. Values of the Effect Variant Field of the Off With Effect Command Effect Identifier Field Value Effect Variant Field Value Description 0x00 0x00 (default) Fade to off in 0.8 seconds 0x01 No fade 0x02 50% dim down in 0.8 seconds then fade to off in 12 seconds 0x03 to 0xff Reserved 0x01 0x00 (default) 20% dim up in 0.5s then fade to off in 1 second 0x01 to 0xff Reserved 0x02 to 0xff 0x00 to 0xff Reserved 3.8.2.3.4.3 Effect on Receipt On receipt of the Off With Effect command and if the GlobalSceneControl attribute is equal to TRUE, the application on the associated endpoint SHALL store its settings in its global scene then set the GlobalScen- eControl attribute to FALSE. The application SHALL then enter its \u201coff\u201d state, update the OnOff attribute accordingly and set the OnTime attribute to 0x0000. In all other cases, the application on the associated endpoint SHALL enter its \u201coff\u201d state and update the OnOff attribute accordingly. 3.8.2.3.5 On With Recall Global Scene Command The On With Recall Global Scene command allows the recall of the settings when the device was turned off. The On With Recall Global Scene command SHALL have no parameters. 3.8.2.3.5.1 Effect on Receipt On receipt of the On With Recall Global Scene command, if the GlobalSceneControl attribute is equal to TRUE, the application on the associated endpoint SHALL discard the command. If the GlobalSceneControl attribute is equal to FALSE, the application on the associated endpoint SHALL recall its global scene, entering the appropriate state and updating the OnOff attribute accordingly. It SHALL then set the GlobalSceneControl attribute to TRUE. In Addition, if the value of the OnTime attrib- ute is equal to 0x0000, the device SHALL then set the OffWaitTime attribute to 0x0000. 3.8.2.3.6 On With Timed Off Command The On With Timed Off command allows devices to be turned on for a specific duration with a guarded off duration so that SHOULD the device be subsequently switched off, further On With Timed Off commands, received during this time, are prevented from turning the devices back on. Note that the device can be peri- odically re-kicked by subsequent On With Timed Off commands, e.g., from an on/off sensor. ",
        "66": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-66 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.8.2.3.4.2 Effect Variant Field The Effect Variant field is 8-bits in length and is used to indicate which variant of the effect, indicated in the Effect Identifier field, SHOULD be triggered. If a device does not support the given variant, it SHALL use the default variant. This field is dependent on the value of the Effect Identifier field and SHALL contain one of the nonreserved values listed in Table 3-49. Table 3-49. Values of the Effect Variant Field of the Off With Effect Command Effect Identifier Field Value Effect Variant Field Value Description 0x00 0x00 (default) Fade to off in 0.8 seconds 0x01 No fade 0x02 50% dim down in 0.8 seconds then fade to off in 12 seconds 0x03 to 0xff Reserved 0x01 0x00 (default) 20% dim up in 0.5s then fade to off in 1 second 0x01 to 0xff Reserved 0x02 to 0xff 0x00 to 0xff Reserved 3.8.2.3.4.3 Effect on Receipt On receipt of the Off With Effect command and if the GlobalSceneControl attribute is equal to TRUE, the application on the associated endpoint SHALL store its settings in its global scene then set the GlobalScen- eControl attribute to FALSE. The application SHALL then enter its \u201coff\u201d state, update the OnOff attribute accordingly and set the OnTime attribute to 0x0000. In all other cases, the application on the associated endpoint SHALL enter its \u201coff\u201d state and update the OnOff attribute accordingly. 3.8.2.3.5 On With Recall Global Scene Command The On With Recall Global Scene command allows the recall of the settings when the device was turned off. The On With Recall Global Scene command SHALL have no parameters. 3.8.2.3.5.1 Effect on Receipt On receipt of the On With Recall Global Scene command, if the GlobalSceneControl attribute is equal to TRUE, the application on the associated endpoint SHALL discard the command. If the GlobalSceneControl attribute is equal to FALSE, the application on the associated endpoint SHALL recall its global scene, entering the appropriate state and updating the OnOff attribute accordingly. It SHALL then set the GlobalSceneControl attribute to TRUE. In Addition, if the value of the OnTime attrib- ute is equal to 0x0000, the device SHALL then set the OffWaitTime attribute to 0x0000. 3.8.2.3.6 On With Timed Off Command The On With Timed Off command allows devices to be turned on for a specific duration with a guarded off duration so that SHOULD the device be subsequently switched off, further On With Timed Off commands, received during this time, are prevented from turning the devices back on. Note that the device can be peri- odically re-kicked by subsequent On With Timed Off commands, e.g., from an on/off sensor. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-67 The payload of this command SHALL be formatted as illustrated in Figure 3-37. Figure 3-37. Format of the On With Timed Off Command Octets Data Type uint8 uint16 uint16 Field Name On/off Control On Time Off Wait Time 3.8.2.3.6.1 On/Off Control Field The On/Off Control field is 8-bits in length and contains information on how the device is to be operated. This field SHALL be formatted as illustrated in Figure 3-38. Figure 3-38. Format of the On/Off Control Field of the On With Timed Off Command Bits: 0 1-7 Accept Only When On Reserved The Accept Only When On sub-field is 1 bit in length and specifies whether the On With Timed Off command is to be processed unconditionally or only when the OnOff attribute is equal to 0x01. If this sub-field is set to 1, the On With Timed Off command SHALL only be accepted if the OnOff attribute is equal to 0x01. If this sub-field is set to 0, the On With Timed Off command SHALL be processed unconditionally. 3.8.2.3.6.2 On Time Field The On Time field is 16 bits in length and specifies the length of time (in 1/10ths second) that the device is to remain \u201con\u201d, i.e., with its OnOff attribute equal to 0x01, before automatically turning \u201coff\u201d. This field SHALL be specified in the range 0x0000 to 0xfffe. 3.8.2.3.6.3 Off Wait Time Field The Off Wait Time field is 16 bits in length and specifies the length of time (in 1/10ths second) that the device SHALL remain \u201coff\u201d, i.e., with its OnOff attribute equal to 0x00, and guarded to prevent an on command turning the device back \u201con\u201d. This field SHALL be specified in the range 0x0000 to 0xfffe. 3.8.2.3.6.4 Effect on Receipt On receipt of this command, if the accept only when on sub-field of the on/off control field is set to 1and the value of the OnOff attribute is equal to 0x00 (off), the command SHALL be discarded. If the value of the OffWaitTime attribute is greater than zero and the value of the OnOff attribute is equal to 0x00, then the device SHALL set the OffWaitTime attribute to the minimum of the OffWaitTime attribute and the value specified in the off wait time field. In all other cases, the device SHALL set the OnTime attribute to the maximum of the OnTime attribute and the value specified in the on time field, set the OffWaitTime attribute to the value specified in the off wait time field and set the OnOff attribute to 0x01 (on). If the values of the OnTime and OffWaitTime attributes are both less than 0xffff, the device SHALL then update the device every 1/10th second until both the OnTime and OffWaitTime attributes are equal to 0x0000, as follows: \u2022 If the value of the OnOff attribute is equal to 0x01 (on) and the value of the OnTime attribute is greater than zero, the device SHALL decrement the value of the OnTime attribute. If the value of the OnTime attribute reaches 0x0000, the device SHALL set the OffWaitTime and OnOff attributes to 0x0000 and 0x00, respectively. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-68 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. \u2022 If the value of the OnOff attribute is equal to 0x00 (off) and the value of the OffWaitTime attribute is greater than zero, the device SHALL decrement the value of the OffWaitTime attribute. If the value of the OffWaitTime attribute reaches 0x0000, the device SHALL terminate the update. 3.8.2.4 State Description The operation of the on/off cluster with respect to the on, off, and on with timed off commands is illustrated in Figure 3-39. In this diagram, the values X and Y correspond to the on time and off wait time fields, re- spectively, of the on with timed off command. In the \u201cTimed On\u201d state, the OnTime attribute is decremented every 1/10th second. Similarly, in the \u201cDelayed Off\u201d state, the OffWaitTime attribute is decremented every 1/10th second. Figure 3-39. On/Off Cluster Operation State Machine 3.8.2.5 Commands Generated The server generates no commands. 3.8.2.6 Scene Table Extensions If the Scenes server cluster (11) is implemented, the following extension field is added to the Scenes table: OnOff "
    },
    "8": {
        "0": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-77 3.10.2.3 Commands Received The command IDs for the Level Control cluster are listed below. Table 3-59. Command IDs for the Level Control Cluster ID Description M/O 0x00 Move to Level M 0x01 Move M 0x02 Step M 0x03 Stop M 0x04 Move to Level (with On/Off) M 0x05 Move (with On/Off) M 0x06 Step (with On/Off) M 0x07 Stop M 0x08 Move to Closest Frequency M:CurrentFrequency attribute supported 3.10.2.3.1 Move to Level Command 3.10.2.3.1.1 Payload Format The Move to Level command payload SHALL be formatted as illustrated in Figure 3-40. Figure 3-40. Format of the Move to Level Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Level Transition time OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.1.2 Effect on Receipt The OptionsMask & OptionsOverride fields SHALL both be present53. Default values are provided to inter- pret missing fields from legacy devices. A temporary Options bitmap SHALL be created from the Options attribute, using the OptionsMask & OptionsOverride fields. Each bit of the temporary Options bitmap SHALL be determined as follows: Each bit in the Options attribute SHALL determine the corresponding bit in the temporary Options bitmap, unless the OptionsMask field is present and has the corresponding bit set to 1, in which case the correspond- ing bit in the OptionsOverride field SHALL determine the corresponding bit in the temporary Options bit- map. 52 CCB 2814 defaults for legacy devices 53 CCB 2814 fields are mandatory because fields may follow Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices ",
        "2": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "3": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "4": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-77 3.10.2.3 Commands Received The command IDs for the Level Control cluster are listed below. Table 3-59. Command IDs for the Level Control Cluster ID Description M/O 0x00 Move to Level M 0x01 Move M 0x02 Step M 0x03 Stop M 0x04 Move to Level (with On/Off) M 0x05 Move (with On/Off) M 0x06 Step (with On/Off) M 0x07 Stop M 0x08 Move to Closest Frequency M:CurrentFrequency attribute supported 3.10.2.3.1 Move to Level Command 3.10.2.3.1.1 Payload Format The Move to Level command payload SHALL be formatted as illustrated in Figure 3-40. Figure 3-40. Format of the Move to Level Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Level Transition time OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.1.2 Effect on Receipt The OptionsMask & OptionsOverride fields SHALL both be present53. Default values are provided to inter- pret missing fields from legacy devices. A temporary Options bitmap SHALL be created from the Options attribute, using the OptionsMask & OptionsOverride fields. Each bit of the temporary Options bitmap SHALL be determined as follows: Each bit in the Options attribute SHALL determine the corresponding bit in the temporary Options bitmap, unless the OptionsMask field is present and has the corresponding bit set to 1, in which case the correspond- ing bit in the OptionsOverride field SHALL determine the corresponding bit in the temporary Options bit- map. 52 CCB 2814 defaults for legacy devices 53 CCB 2814 fields are mandatory because fields may follow Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices ",
        "5": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices ",
        "6": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "8": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-81 The command payload SHALL be formatted as illustrated below. Figure 3-44. Format of the Command Payload Octets Data Type uint16 Field Name Frequency 3.10.2.3.5.2 Effect of Receipt Upon receipt of this command, the device shall change its current frequency to the requested frequency, or to the closest frequency that it can generate. If the device cannot approximate the frequency, then it shall return a default response with an error code of INVALID_VALUE. Determining if a requested frequency can be approximated by a supported frequency is a manufacturer-specific decision. 3.10.2.3.6 'With On/Off' Commands The Move to Level (with On/Off), Move (with On/Off) and Step (with On/Off) commands have identical payloads to the Move to Level, Move and Step commands respectively60. They also have the same effects, except for the following additions. Before commencing any command that has the effect of setting the CurrentLevel above the minimum level allowed by the device, the OnOff attribute of the On/Off cluster on the same endpoint, if implemented, SHALL be set to On. If any command that has the effect of setting the CurrentLevel to the minimum level allowed by the device, the OnOff attribute of the On/Off cluster on the same endpoint, if implemented, SHALL be set to Off. 3.10.2.4 Commands Generated The server generates no commands. 3.10.2.5 Scene Table Extensions61 If the Scenes server cluster is implemented, the following extension field is added to the Scenes table: CurrentLevel 3.10.3 Client The client has no cluster specific attributes. The client generates the cluster specific commands received by the server62, as required by the application. No cluster specific commands are received by the client. 59 CCB 2898 explain duplicate Stop command 60 CCB 2818 \u2018with On/Off commands are the same, including Options processing 61 CCB 2659 62 CCB 2616 "
    },
    "9": {
        "0": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-84 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.11.2.4 Commands Received The received command IDs for the Alarms cluster are listed in Table 3-67. Table 3-67. Received Command IDs for the Alarms Cluster Command Identifier Field Value Description M/O 0x00 Reset Alarm M 0x01 Reset all alarms M 0x02 Get Alarm O 0x03 Reset alarm log O 3.11.2.4.1 Reset Alarm Command This command resets a specific alarm. This is needed for some alarms that do not reset automatically. If the alarm condition being reset was in fact still active then a new notification will be generated and, where im- plemented, a new record added to the alarm log. 3.11.2.4.1.1 Payload Format The Reset Alarm command payload SHALL be formatted as illustrated in Figure 3-45. Figure 3-45. Format of the Reset Alarm Command Payload Octets Data Type enum8 clusterId Field Name Alarm code Cluster identifier 3.11.2.4.2 Reset All Alarms Command This command resets all alarms. Any alarm conditions that were in fact still active will cause a new notifica- tion to be generated and, where implemented, a new record added to the alarm log. 3.11.2.4.3 Get Alarm Command This command causes the alarm with the earliest generated alarm entry in the alarm table to be reported in a get alarm response command 3.11.2.5.2. This command enables the reading of logged alarm conditions from the alarm table. Once an alarm condition has been reported the corresponding entry in the table is removed. This command does not have a payload. 3.11.2.4.4 Reset Alarm Log Command This command causes the alarm table to be cleared, and does not have a payload. 3.11.2.5 Commands Generated The generated command IDs for the Alarms cluster are listed in Table 3-68. ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-84 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.11.2.4 Commands Received The received command IDs for the Alarms cluster are listed in Table 3-67. Table 3-67. Received Command IDs for the Alarms Cluster Command Identifier Field Value Description M/O 0x00 Reset Alarm M 0x01 Reset all alarms M 0x02 Get Alarm O 0x03 Reset alarm log O 3.11.2.4.1 Reset Alarm Command This command resets a specific alarm. This is needed for some alarms that do not reset automatically. If the alarm condition being reset was in fact still active then a new notification will be generated and, where im- plemented, a new record added to the alarm log. 3.11.2.4.1.1 Payload Format The Reset Alarm command payload SHALL be formatted as illustrated in Figure 3-45. Figure 3-45. Format of the Reset Alarm Command Payload Octets Data Type enum8 clusterId Field Name Alarm code Cluster identifier 3.11.2.4.2 Reset All Alarms Command This command resets all alarms. Any alarm conditions that were in fact still active will cause a new notifica- tion to be generated and, where implemented, a new record added to the alarm log. 3.11.2.4.3 Get Alarm Command This command causes the alarm with the earliest generated alarm entry in the alarm table to be reported in a get alarm response command 3.11.2.5.2. This command enables the reading of logged alarm conditions from the alarm table. Once an alarm condition has been reported the corresponding entry in the table is removed. This command does not have a payload. 3.11.2.4.4 Reset Alarm Log Command This command causes the alarm table to be cleared, and does not have a payload. 3.11.2.5 Commands Generated The generated command IDs for the Alarms cluster are listed in Table 3-68. ",
        "2": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-84 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.11.2.4 Commands Received The received command IDs for the Alarms cluster are listed in Table 3-67. Table 3-67. Received Command IDs for the Alarms Cluster Command Identifier Field Value Description M/O 0x00 Reset Alarm M 0x01 Reset all alarms M 0x02 Get Alarm O 0x03 Reset alarm log O 3.11.2.4.1 Reset Alarm Command This command resets a specific alarm. This is needed for some alarms that do not reset automatically. If the alarm condition being reset was in fact still active then a new notification will be generated and, where im- plemented, a new record added to the alarm log. 3.11.2.4.1.1 Payload Format The Reset Alarm command payload SHALL be formatted as illustrated in Figure 3-45. Figure 3-45. Format of the Reset Alarm Command Payload Octets Data Type enum8 clusterId Field Name Alarm code Cluster identifier 3.11.2.4.2 Reset All Alarms Command This command resets all alarms. Any alarm conditions that were in fact still active will cause a new notifica- tion to be generated and, where implemented, a new record added to the alarm log. 3.11.2.4.3 Get Alarm Command This command causes the alarm with the earliest generated alarm entry in the alarm table to be reported in a get alarm response command 3.11.2.5.2. This command enables the reading of logged alarm conditions from the alarm table. Once an alarm condition has been reported the corresponding entry in the table is removed. This command does not have a payload. 3.11.2.4.4 Reset Alarm Log Command This command causes the alarm table to be cleared, and does not have a payload. 3.11.2.5 Commands Generated The generated command IDs for the Alarms cluster are listed in Table 3-68. ",
        "3": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-84 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.11.2.4 Commands Received The received command IDs for the Alarms cluster are listed in Table 3-67. Table 3-67. Received Command IDs for the Alarms Cluster Command Identifier Field Value Description M/O 0x00 Reset Alarm M 0x01 Reset all alarms M 0x02 Get Alarm O 0x03 Reset alarm log O 3.11.2.4.1 Reset Alarm Command This command resets a specific alarm. This is needed for some alarms that do not reset automatically. If the alarm condition being reset was in fact still active then a new notification will be generated and, where im- plemented, a new record added to the alarm log. 3.11.2.4.1.1 Payload Format The Reset Alarm command payload SHALL be formatted as illustrated in Figure 3-45. Figure 3-45. Format of the Reset Alarm Command Payload Octets Data Type enum8 clusterId Field Name Alarm code Cluster identifier 3.11.2.4.2 Reset All Alarms Command This command resets all alarms. Any alarm conditions that were in fact still active will cause a new notifica- tion to be generated and, where implemented, a new record added to the alarm log. 3.11.2.4.3 Get Alarm Command This command causes the alarm with the earliest generated alarm entry in the alarm table to be reported in a get alarm response command 3.11.2.5.2. This command enables the reading of logged alarm conditions from the alarm table. Once an alarm condition has been reported the corresponding entry in the table is removed. This command does not have a payload. 3.11.2.4.4 Reset Alarm Log Command This command causes the alarm table to be cleared, and does not have a payload. 3.11.2.5 Commands Generated The generated command IDs for the Alarms cluster are listed in Table 3-68. "
    },
    "11": {
        "0": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-96 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Command Identifier Field Value Description M/O 0x06 Anchor Node Announce O 3.13.2.3.1 Set Absolute Location Command This command is used to set a device\u2019s absolute (known, not calculated) location and the channel parameters corresponding to that location. 3.13.2.3.1.1 Payload Format The Set Absolute Location command payload SHALL be formatted as illustrated in Figure 3-49. Figure 3-49. Format of the Set Absolute Location Command Payload Octets Data Type int16 int16 int16 int16 uint16 Field Name Coordinate 1 Coordinate 2 Coordinate 3 Power Path Loss Exponent The fields of the payload correspond directly to the attributes with the same names. For details of their mean- ing and ranges see the descriptions of the individual attributes. The three coordinate fields SHALL contain the absolute location (known, not calculated) of the destination device. If any coordinate field(s) is not known, the value(s) SHALL be set to 0x8000. 3.13.2.3.1.2 Effect on Receipt On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields. 3.13.2.3.2 Set Device Configuration Command This command is used to set a device\u2019s location parameters, which will be used for calculating and reporting measured location. This command is invalid unless the Absolute bit of the LocationType attribute has a value of 0. 3.13.2.3.2.1 Payload Format The Set Device Configuration command payload SHALL be formatted as illustrated in Figure 3-50. Figure 3-50. Format of the Set Device Configuration Payload Octets Data Type int16 uint16 uint16 uint8 uint16 Field Name Power Path Loss Exponent Calculation Period Number RSSI Measurements Reporting Period The fields of the payload correspond directly to the attributes with the same names. For details of their mean- ing and ranges see the descriptions of the individual attributes. 3.13.2.3.2.2 Effect on Receipt ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-96 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Command Identifier Field Value Description M/O 0x06 Anchor Node Announce O 3.13.2.3.1 Set Absolute Location Command This command is used to set a device\u2019s absolute (known, not calculated) location and the channel parameters corresponding to that location. 3.13.2.3.1.1 Payload Format The Set Absolute Location command payload SHALL be formatted as illustrated in Figure 3-49. Figure 3-49. Format of the Set Absolute Location Command Payload Octets Data Type int16 int16 int16 int16 uint16 Field Name Coordinate 1 Coordinate 2 Coordinate 3 Power Path Loss Exponent The fields of the payload correspond directly to the attributes with the same names. For details of their mean- ing and ranges see the descriptions of the individual attributes. The three coordinate fields SHALL contain the absolute location (known, not calculated) of the destination device. If any coordinate field(s) is not known, the value(s) SHALL be set to 0x8000. 3.13.2.3.1.2 Effect on Receipt On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields. 3.13.2.3.2 Set Device Configuration Command This command is used to set a device\u2019s location parameters, which will be used for calculating and reporting measured location. This command is invalid unless the Absolute bit of the LocationType attribute has a value of 0. 3.13.2.3.2.1 Payload Format The Set Device Configuration command payload SHALL be formatted as illustrated in Figure 3-50. Figure 3-50. Format of the Set Device Configuration Payload Octets Data Type int16 uint16 uint16 uint8 uint16 Field Name Power Path Loss Exponent Calculation Period Number RSSI Measurements Reporting Period The fields of the payload correspond directly to the attributes with the same names. For details of their mean- ing and ranges see the descriptions of the individual attributes. 3.13.2.3.2.2 Effect on Receipt Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-97 On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields. 3.13.2.3.3 Get Device Configuration Command This command is used to request the location parameters of a device. The location parameters are used for calculating and reporting measured location. 3.13.2.3.3.1 Payload Format The Get Device Configuration command payload SHALL be formatted as illustrated in Figure 3-51. Figure 3-51. Format of the Get Device Configuration Payload Octets Data Type EUI64 Field Name Target Address The Target Address field contains the 64-bit IEEE address of the device for which the location parameters are being requested. This field MAY contain the address of the sending device, the address of the receiving device or the address of a third device. Note: one reason a device MAY request its own configuration is that there MAY be a designated device which holds the configurations of other devices for distribution at commissioning time. It is also possible that the device MAY lose its configuration settings for some other reason (loss of power, reset). In the case of a third device, that device MAY sleep a lot and not be easily accessible. 3.13.2.3.3.2 Effect on Receipt On receipt of this command, the device SHALL generate a Device Configuration Response command (3.13.2.4.1). 3.13.2.3.4 Get Location Data Command This command is used to request a device\u2019s location information and channel parameters. It MAY be sent as a unicast, multicast or broadcast frame. When sent as a broadcast frame, care SHOULD be taken to minimize the risk of a broadcast 'storm' - in particular, it is recommended that the broadcast radius is set to 1. (Note: devices MAY or MAY not acquire and store information on other devices' locations such that this information MAY be requested by another device. This is application dependent.) 3.13.2.3.4.1 Payload Format The Get Location Data command payload SHALL be formatted as illustrated in Figure 3-52. ",
        "2": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-97 On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields. 3.13.2.3.3 Get Device Configuration Command This command is used to request the location parameters of a device. The location parameters are used for calculating and reporting measured location. 3.13.2.3.3.1 Payload Format The Get Device Configuration command payload SHALL be formatted as illustrated in Figure 3-51. Figure 3-51. Format of the Get Device Configuration Payload Octets Data Type EUI64 Field Name Target Address The Target Address field contains the 64-bit IEEE address of the device for which the location parameters are being requested. This field MAY contain the address of the sending device, the address of the receiving device or the address of a third device. Note: one reason a device MAY request its own configuration is that there MAY be a designated device which holds the configurations of other devices for distribution at commissioning time. It is also possible that the device MAY lose its configuration settings for some other reason (loss of power, reset). In the case of a third device, that device MAY sleep a lot and not be easily accessible. 3.13.2.3.3.2 Effect on Receipt On receipt of this command, the device SHALL generate a Device Configuration Response command (3.13.2.4.1). 3.13.2.3.4 Get Location Data Command This command is used to request a device\u2019s location information and channel parameters. It MAY be sent as a unicast, multicast or broadcast frame. When sent as a broadcast frame, care SHOULD be taken to minimize the risk of a broadcast 'storm' - in particular, it is recommended that the broadcast radius is set to 1. (Note: devices MAY or MAY not acquire and store information on other devices' locations such that this information MAY be requested by another device. This is application dependent.) 3.13.2.3.4.1 Payload Format The Get Location Data command payload SHALL be formatted as illustrated in Figure 3-52. ",
        "3": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-97 On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields. 3.13.2.3.3 Get Device Configuration Command This command is used to request the location parameters of a device. The location parameters are used for calculating and reporting measured location. 3.13.2.3.3.1 Payload Format The Get Device Configuration command payload SHALL be formatted as illustrated in Figure 3-51. Figure 3-51. Format of the Get Device Configuration Payload Octets Data Type EUI64 Field Name Target Address The Target Address field contains the 64-bit IEEE address of the device for which the location parameters are being requested. This field MAY contain the address of the sending device, the address of the receiving device or the address of a third device. Note: one reason a device MAY request its own configuration is that there MAY be a designated device which holds the configurations of other devices for distribution at commissioning time. It is also possible that the device MAY lose its configuration settings for some other reason (loss of power, reset). In the case of a third device, that device MAY sleep a lot and not be easily accessible. 3.13.2.3.3.2 Effect on Receipt On receipt of this command, the device SHALL generate a Device Configuration Response command (3.13.2.4.1). 3.13.2.3.4 Get Location Data Command This command is used to request a device\u2019s location information and channel parameters. It MAY be sent as a unicast, multicast or broadcast frame. When sent as a broadcast frame, care SHOULD be taken to minimize the risk of a broadcast 'storm' - in particular, it is recommended that the broadcast radius is set to 1. (Note: devices MAY or MAY not acquire and store information on other devices' locations such that this information MAY be requested by another device. This is application dependent.) 3.13.2.3.4.1 Payload Format The Get Location Data command payload SHALL be formatted as illustrated in Figure 3-52. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-98 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-52. Format of the Get Location Data Payload Bits 0 / 64 Data Type map8 uint8 EUI64 Field Name Re- served Compact Re- sponse Broadcast Response Broadcast Indicator Recal- culate Abso- lute Only Number Responses Target Ad- dress The highest 3 bits of the first octet are reserved and SHALL be set to zero. The Absolute Only field (bit 0 of the first octet) specifies the type of location information being requested. If the Absolute Only field is set to one, the device is only requesting absolute location information (a device MAY want to gather absolute node locations for use in its own location calculations, and MAY not be inter- ested in neighbors with calculated values). Otherwise, if the field is set to zero, the device is requesting all location information (absolute and calculated). The Recalculate field (bit 1 of the first octet) indicates whether the device is requesting that a new location calculation be performed. If the field is set to zero, the device is requesting the currently stored location information. Otherwise, if the field is set to one, the device is requesting that a new calculation be performed. This field is only valid if the Absolute Only field is set to zero. The Broadcast Indicator field (bit 2 of the first octet) indicates whether the command is being sent as a unicast, multicast or broadcast frame. If the field is set to one, the command is sent as a broadcast or multicast, else it is sent as a unicast. The Broadcast Response field (bit 3 of the first octet) indicates whether subsequent responses after the first (where the Number Responses field is greater than one) SHALL be unicast or broadcast. Broadcast responses can be used as a 'location beacon'. The Compact Response field (bit 4 of the first octet) indicates whether subsequent responses after the first (where the Number Responses field is greater than one) SHALL be sent using the Location Data Notification or the Compact Location Data Notification command. The Number Responses field indicates the number of location responses to be returned. The information to be returned is evaluated this number of times, with a period equal to the value of the ReportingPeriod attrib- ute, and a separate response is sent for each evaluation. This field SHALL have a minimum value of one. Values greater than one are typically used for situations where locations are changing. The Target Address field contains the 64-bit IEEE address of the device for which the location information and channel parameters are being requested. If the Broadcast Indicator field is set to zero (i.e., the command is sent as a unicast) this field MAY contain the address of the receiving device, the address of the sending device or the address of any other device. If the Broadcast Indicator field is set to one (i.e., the command is sent as a broadcast or multicast) the target address is implicitly that of the receiving device, so this field SHALL be omitted. 3.13.2.3.4.2 Effect on Receipt On receipt of this command, if the Location Type field is set to zero, only a receiving device(s) that knows its absolute location SHALL respond by generating a Location Data Response command. If the Location Type field is set to one, all devices receiving this command SHALL respond by generating a Location Data Response command. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-99 If the command is sent as a unicast, information for the device specified in the Target Address field SHALL be returned, if the receiving device has or can obtain the information for that device. If the information is not available, the Status field of the Location Data Response command SHALL be set to NOT_FOUND. If the command is sent as a broadcast or multicast, receiving devices SHALL send back their own information (there is no IEEE target address in this case). If the Number Responses field is greater than one, the subsequent location readings/calculations SHALL be sent using the Location Data Notification or the Compact Location Data Notification command, depending on the value of the Reduced Response field. 3.13.2.3.5 RSSI Response Command This command is sent by a device in response to an RSSI Request command. 3.13.2.3.5.1 Payload Format The command payload SHALL be formatted as illustrated in Figure 3-53. Figure 3-53. Format of the RSSI Response Command Payload Octets Data Type EUI64 int16 int16 int16 int8 uint8 Field Name Replying Device X Y Z RSSI NumberRSSIMeasurements The fields of the payload have the following meanings: Replying Device: The IEEE address of the neighbor that replies to the RSSI request X, Y, Z: The coordinates of the replying node RSSI: The RSSI registered by the replying node that refers to the radio link, expressed in dBm, between itself and the neighbor that performed the RSSI request NumberRSSIMeasurements: How many packets were considered to give the RSSI value (=1 meaning no mean is supported) 3.13.2.3.5.2 Effect on Receipt On receipt of this command, the server side of the location cluster will wait for CalculationPeriod time and generate a Report RSSI Measurement command. 3.13.2.3.6 Send Pings Command This command is used to alert a node to start sending multiple packets so that all its one-hop neighbors can calculate the mean RSSI value of the radio link. 3.13.2.3.6.1 Payload Format Send Pings command SHALL be formatted as illustrated in Figure 3-54. The address field contains the IEEE address of the node that have to perform the blasting (the destination node of this command) and the other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. ",
        "4": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-99 If the command is sent as a unicast, information for the device specified in the Target Address field SHALL be returned, if the receiving device has or can obtain the information for that device. If the information is not available, the Status field of the Location Data Response command SHALL be set to NOT_FOUND. If the command is sent as a broadcast or multicast, receiving devices SHALL send back their own information (there is no IEEE target address in this case). If the Number Responses field is greater than one, the subsequent location readings/calculations SHALL be sent using the Location Data Notification or the Compact Location Data Notification command, depending on the value of the Reduced Response field. 3.13.2.3.5 RSSI Response Command This command is sent by a device in response to an RSSI Request command. 3.13.2.3.5.1 Payload Format The command payload SHALL be formatted as illustrated in Figure 3-53. Figure 3-53. Format of the RSSI Response Command Payload Octets Data Type EUI64 int16 int16 int16 int8 uint8 Field Name Replying Device X Y Z RSSI NumberRSSIMeasurements The fields of the payload have the following meanings: Replying Device: The IEEE address of the neighbor that replies to the RSSI request X, Y, Z: The coordinates of the replying node RSSI: The RSSI registered by the replying node that refers to the radio link, expressed in dBm, between itself and the neighbor that performed the RSSI request NumberRSSIMeasurements: How many packets were considered to give the RSSI value (=1 meaning no mean is supported) 3.13.2.3.5.2 Effect on Receipt On receipt of this command, the server side of the location cluster will wait for CalculationPeriod time and generate a Report RSSI Measurement command. 3.13.2.3.6 Send Pings Command This command is used to alert a node to start sending multiple packets so that all its one-hop neighbors can calculate the mean RSSI value of the radio link. 3.13.2.3.6.1 Payload Format Send Pings command SHALL be formatted as illustrated in Figure 3-54. The address field contains the IEEE address of the node that have to perform the blasting (the destination node of this command) and the other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. ",
        "5": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-99 If the command is sent as a unicast, information for the device specified in the Target Address field SHALL be returned, if the receiving device has or can obtain the information for that device. If the information is not available, the Status field of the Location Data Response command SHALL be set to NOT_FOUND. If the command is sent as a broadcast or multicast, receiving devices SHALL send back their own information (there is no IEEE target address in this case). If the Number Responses field is greater than one, the subsequent location readings/calculations SHALL be sent using the Location Data Notification or the Compact Location Data Notification command, depending on the value of the Reduced Response field. 3.13.2.3.5 RSSI Response Command This command is sent by a device in response to an RSSI Request command. 3.13.2.3.5.1 Payload Format The command payload SHALL be formatted as illustrated in Figure 3-53. Figure 3-53. Format of the RSSI Response Command Payload Octets Data Type EUI64 int16 int16 int16 int8 uint8 Field Name Replying Device X Y Z RSSI NumberRSSIMeasurements The fields of the payload have the following meanings: Replying Device: The IEEE address of the neighbor that replies to the RSSI request X, Y, Z: The coordinates of the replying node RSSI: The RSSI registered by the replying node that refers to the radio link, expressed in dBm, between itself and the neighbor that performed the RSSI request NumberRSSIMeasurements: How many packets were considered to give the RSSI value (=1 meaning no mean is supported) 3.13.2.3.5.2 Effect on Receipt On receipt of this command, the server side of the location cluster will wait for CalculationPeriod time and generate a Report RSSI Measurement command. 3.13.2.3.6 Send Pings Command This command is used to alert a node to start sending multiple packets so that all its one-hop neighbors can calculate the mean RSSI value of the radio link. 3.13.2.3.6.1 Payload Format Send Pings command SHALL be formatted as illustrated in Figure 3-54. The address field contains the IEEE address of the node that have to perform the blasting (the destination node of this command) and the other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-100 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-54. Format of the Send Pings Command Payload Octets Data Type EUI64 uint8 uint16 Field Name Target Address NumberRSSIMeasurements CalculationPeriod The Target Address field contains the IEEE address of the intended target node. This is included because there can be cases when the sender does not definitely know the short address of the intended target (see below for effect on receipt). The other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. 3.13.2.3.6.2 Effect on Receipt On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields and generate a number of RSSI Ping commands equal to NumberRSSIMeasure- ments waiting for CalculationPeriod time between successive transmission of pings. 3.13.2.3.7 Anchor Node Announce Command This command is sent by an anchor node when it joins the network, if it is already commissioned with the coordinates, to announce itself so that the central device knows the exact position of that device. This message SHOULD be either unicast to the central node or broadcast in the case that of unknown destination address. 3.13.2.3.7.1 Payload Format Into the payload there are both the short and long addresses of the joining node as well as the coordinates of the node itself. 0xffff SHOULD be used if coordinates are not known. The command payload SHALL be formatted as in Figure 3-55. Figure 3-55. Format of the Anchor Node Announce Command Payload Octets Data Type EUI64 int16 int16 int16 Field Name Anchor Node IEEE Ad- dress X Y Z The Anchor Node Address field contains the IEEE address of the anchor node. The other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. If any coordinate is unknown, it SHOULD be set to 0x8000. ",
        "6": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-100 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Figure 3-54. Format of the Send Pings Command Payload Octets Data Type EUI64 uint8 uint16 Field Name Target Address NumberRSSIMeasurements CalculationPeriod The Target Address field contains the IEEE address of the intended target node. This is included because there can be cases when the sender does not definitely know the short address of the intended target (see below for effect on receipt). The other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. 3.13.2.3.6.2 Effect on Receipt On receipt of this command, the device SHALL update the attributes corresponding to (i.e., with the same names as) the payload fields and generate a number of RSSI Ping commands equal to NumberRSSIMeasure- ments waiting for CalculationPeriod time between successive transmission of pings. 3.13.2.3.7 Anchor Node Announce Command This command is sent by an anchor node when it joins the network, if it is already commissioned with the coordinates, to announce itself so that the central device knows the exact position of that device. This message SHOULD be either unicast to the central node or broadcast in the case that of unknown destination address. 3.13.2.3.7.1 Payload Format Into the payload there are both the short and long addresses of the joining node as well as the coordinates of the node itself. 0xffff SHOULD be used if coordinates are not known. The command payload SHALL be formatted as in Figure 3-55. Figure 3-55. Format of the Anchor Node Announce Command Payload Octets Data Type EUI64 int16 int16 int16 Field Name Anchor Node IEEE Ad- dress X Y Z The Anchor Node Address field contains the IEEE address of the anchor node. The other fields of the payload correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. If any coordinate is unknown, it SHOULD be set to 0x8000. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-101 3.13.2.4 Commands Generated Table 3-77. Generated Command IDs for the RSSI Location Cluster Command Identifier Field Value Description M/O 0x00 Device configuration response M 0x01 Location data response M 0x02 Location data notification M 0x03 Compact location data notification M 0x04 RSSI Ping M 0x05 RSSI Request O 0x06 Report RSSI Measurements O 0x07 Request Own Location O 3.13.2.4.1 Device Configuration Response Command This command is sent by a device in response to a Get Device Configuration command (3.13.2.3.3). 3.13.2.4.1.1 Payload Format The Device Configuration Response command payload SHALL be formatted as illustrated in Figure 3-56. All payload fields are relevant to the device for which the location parameters have been requested. Figure 3-56. Format of the Device Configuration Response Payload Octets 0 / 2 0 / 2 0 / 2 0 / 1 0 / 2 Data Type enum8 int16 uint16 uint16 uint8 uint16 Field Name Status Power Path Loss Exponent Calculation Period Number RSSI Measurements Reporting Period The fields of the payload (other than Status) correspond directly to the attributes with the same names. For details of their meaning and ranges see the descriptions of the individual attributes. The Status field indicates whether the response to the request was successful or not. If the field is set to SUCCESS, the response was successful. If the field is set to NOT_FOUND, the receiving device was unable to provide the location parameters of the device for which the location parameters were requested. If the field is set to NOT_FOUND, all other payload fields SHALL NOT be sent. "
    },
    "32": {
        "0": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-165 3.16.4.2 Attribute Settings and Battery Life Considera- tions The Poll Control Cluster is used on end devices that MAY be battery powered. In order to conserve battery life, it is important that the Poll Control Server maintain certain boundaries for the setting of the Check- inInterval, LongPollInterval and the ShortPollInterval. Therefore, while these attributes are all Readable and Writeable, it is possible that a battery-powered device might maintain its own boundary for the min and max of each of these attributes. The end device implementing the Poll Control Cluster Server MAY define its own boundaries for these attributes in order to protect itself against a power drain due to improper configuration. For instance, a battery powered device MAY not allow another device to set its Check-inInterval to too short a value or its FastPollTimeout to too long an interval because it might cause the device to send too frequent check-in messages on the network and stay in fast poll mode for too long a time resulting in a drain on the battery. The Check-inInterval, LongPollInterval and ShortPollInterval SHOULD be set such that: Check-in Interval >= Long Poll Interval >= Short Poll Interval The default values chosen for this cluster are: Check-in Interval = 1 hour = 0x3840 quarterseconds Long Poll Interval = 5 seconds = 0x14 quarterseconds Short Poll Interval = 2 quarterseconds = 0x02 quarterseconds Fast Poll Timeout = 10 seconds = 0x28 quarterseconds Note that for the Check-in Interval, 0 is a special value and does not apply to this equation. 3.16.4.3 Commands Table 3-133. Commands Generated by the Poll Control Server Command ID Description Mandatory/Optional 0x00 Check-in M 3.16.4.4 Check-in Command The Poll Control Cluster server sends out a Check-in command to the devices to which it is paired based on the server\u2019s Check-inInterval attribute. It does this to find out if any of the Poll Control Cluster Clients with which it is paired are interested in having it enter fast poll mode so that it can be managed. This request is sent out based on either the Check-inInterval, or the next Check-in value in the Fast Poll Stop Request gen- erated by the Poll Control Cluster Client. The Check-in command expects a Check-in Response command to be sent back from the Poll Control Client. If the Poll Control Server does not receive a Check-in response back from the Poll Control Client up to7.68 seconds it is free to return to polling according to the LongPollInterval. 3.16.4.4.1 Payload Format There is no payload for this command. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-166 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.16.4.4.2 Effect on Receipt Upon receipt of the Check-in command, the Poll Control Cluster client will respond with a Check-in Re- sponse command indicating that the server SHOULD or SHOULD not begin fast poll mode. 3.16.5 Client 3.16.5.1 Attributes There are no attributes on the client side of the Poll Control Cluster. 3.16.5.2 Commands Table 3-134. Commands Generated by the Poll Control Client Command ID Description Mandatory/Optional 0x00 Check-in Response M 0x01 Fast Poll Stop M 0x02 Set Long Poll Interval O 0x03 Set Short Poll Interval O 3.16.5.3 Check-in Response Command The Check-in Response is sent in response to the receipt of a Check-in command. The Check-in Response is used by the Poll Control Client to indicate whether it would like the device implementing the Poll Control Cluster Server to go into a fast poll mode and for how long. If the Poll Control Cluster Client indicates that it would like the device to go into a fast poll mode, it is responsible for telling the device to stop fast polling when it is done sending messages to the fast polling device. If the Poll Control Server receives a Check-In Response from a client for which there is no binding (unbound), it SHOULD respond with a Default Response with a status value indicating FAILURE67. If the Poll Control Server receives a Check-In Response from a client for which there is a binding (bound) with an invalid fast poll timeout, it SHOULD respond with a Default Response with status INVA- LID_VALUE. If the Poll Control Server receives a Check-In Response from a bound client after temporary fast poll mode is completed it SHOULD respond with a Default Response with a status value indicating FAILURE68. In all of the above cases, the Server SHALL respond with a Default Response not equal to SUCCESS. 67 CCB 2477 status code cleanup 68 CCB 2477 status code cleanup "
    },
    "26": {
        "0": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-174 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Command Identifier Field Value Description M/O 0x01 PowerProfileStateRequest M 0x02 GetPowerProfilePriceResponse M 0x03 GetOverallSchedulePriceResponse M 0x04 EnergyPhasesScheduleNotification M 0x05 EnergyPhasesScheduleResponse M 0x06 PowerProfileScheduleConstraintsRequest M 0x07 EnergyPhasesScheduleStateRequest M 0x08 GetPowerProfilePriceExtendedResponse M 3.17.5.1 PowerProfileRequest Command The PowerProfileRequest Command is generated by a device supporting the client side of the Power Profile cluster in order to request the Power Profile of a server device. It is possible to request all profiles (without knowing how many Power Profiles the server has) or to request a specific PowerProfileID. In the case of multiple profiles the server SHOULD send multiple messages, one for each Power Profile. Although the profile is in a Power Profile running state (see PowerProfileState), the Power Profile Response transmitted as a reply to a PowerProfileRequest command SHALL carry all the energy phases of the esti- mated Power Profile, including the previous energy phases and the current energy phase which is running. The parameters of the Power Profile (e.g., the ExpectedDuration or the Energy fields of all the energy phases) MAY be updated for the same Power Profile due to a tuning in the forecast. 3.17.5.1.1 Payload Format The PowerProfileRequest Command payload SHALL be formatted as illustrated in Figure 3-68. Figure 3-68. Format of the PowerProfileRequest Command Payload Octets Data Type uint8 Field Name PowerProfileID 3.17.5.1.1.1 Payload Details The payload of the PowerProfileRequest command carries the fields defined in Figure 3-68. The PowerProfileID field specifies which profile (in the range 1 to TotalProfileNum) is requested. The special value 0x00 of this field does not refer to a particular profile; if 0x00 value is received the device SHOULD send details related to all the available profiles. The PowerProfileID field SHALL NOT be greater than TotalProfileNum. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-175 3.17.5.1.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to request the power profile to a device supporting the Power Profile cluster server side (e.g., White Good). 3.17.5.1.3 Effect on Receipt The device that receives the Power Profile Request command SHALL reply with a PowerProfileResponse if supported. If the command is not supported the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND72. If the requested profile data are not available, the device SHALL reply with a standard ZCL response NOT_FOUND. 3.17.5.2 PowerProfileStateRequest Command The PowerProfileStateRequest command is generated in order to retrieve the identifiers of current Power Profiles. This command does not have a payload. 3.17.5.2.1 Effect on Receipt On receipt of this command, the device SHALL generate a PowerProfileStateResponse command. 3.17.5.3 GetPowerProfilePriceResponse Command The GetPowerProfilePriceResponse command allows a device (client) to communicate the cost associated with a defined Power Profile to another device (server) requesting it. If the Price information requested re- lated to the Power Profile is not available yet the response SHALL be a ZCL default response with \"NOT FOUND\" Status. 3.17.5.3.1 Payload Format The GetPowerProfilePriceResponse command payload SHALL be formatted as illustrated in Figure 3-69. Figure 3-69. Format of the GetPowerProfilePriceResponse Command Octets Data Type uint8 uint16 uint32 uint8 Field Name Power Profile ID Currency Price Price Trailing Digit 3.17.5.3.1.1 Payload Details PowerProfileID The PowerProfileID field represents the identifier of the specific profile described by the Power Profile. 72 CCB 2477 status code cleanup ",
        "1": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-175 3.17.5.1.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to request the power profile to a device supporting the Power Profile cluster server side (e.g., White Good). 3.17.5.1.3 Effect on Receipt The device that receives the Power Profile Request command SHALL reply with a PowerProfileResponse if supported. If the command is not supported the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND72. If the requested profile data are not available, the device SHALL reply with a standard ZCL response NOT_FOUND. 3.17.5.2 PowerProfileStateRequest Command The PowerProfileStateRequest command is generated in order to retrieve the identifiers of current Power Profiles. This command does not have a payload. 3.17.5.2.1 Effect on Receipt On receipt of this command, the device SHALL generate a PowerProfileStateResponse command. 3.17.5.3 GetPowerProfilePriceResponse Command The GetPowerProfilePriceResponse command allows a device (client) to communicate the cost associated with a defined Power Profile to another device (server) requesting it. If the Price information requested re- lated to the Power Profile is not available yet the response SHALL be a ZCL default response with \"NOT FOUND\" Status. 3.17.5.3.1 Payload Format The GetPowerProfilePriceResponse command payload SHALL be formatted as illustrated in Figure 3-69. Figure 3-69. Format of the GetPowerProfilePriceResponse Command Octets Data Type uint8 uint16 uint32 uint8 Field Name Power Profile ID Currency Price Price Trailing Digit 3.17.5.3.1.1 Payload Details PowerProfileID The PowerProfileID field represents the identifier of the specific profile described by the Power Profile. 72 CCB 2477 status code cleanup ",
        "2": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-175 3.17.5.1.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to request the power profile to a device supporting the Power Profile cluster server side (e.g., White Good). 3.17.5.1.3 Effect on Receipt The device that receives the Power Profile Request command SHALL reply with a PowerProfileResponse if supported. If the command is not supported the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND72. If the requested profile data are not available, the device SHALL reply with a standard ZCL response NOT_FOUND. 3.17.5.2 PowerProfileStateRequest Command The PowerProfileStateRequest command is generated in order to retrieve the identifiers of current Power Profiles. This command does not have a payload. 3.17.5.2.1 Effect on Receipt On receipt of this command, the device SHALL generate a PowerProfileStateResponse command. 3.17.5.3 GetPowerProfilePriceResponse Command The GetPowerProfilePriceResponse command allows a device (client) to communicate the cost associated with a defined Power Profile to another device (server) requesting it. If the Price information requested re- lated to the Power Profile is not available yet the response SHALL be a ZCL default response with \"NOT FOUND\" Status. 3.17.5.3.1 Payload Format The GetPowerProfilePriceResponse command payload SHALL be formatted as illustrated in Figure 3-69. Figure 3-69. Format of the GetPowerProfilePriceResponse Command Octets Data Type uint8 uint16 uint32 uint8 Field Name Power Profile ID Currency Price Price Trailing Digit 3.17.5.3.1.1 Payload Details PowerProfileID The PowerProfileID field represents the identifier of the specific profile described by the Power Profile. 72 CCB 2477 status code cleanup Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-176 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. This is typically a sequential and contiguous number ranging from 1 to TotalProfileNum. Currency The Currency field identifies the local unit of currency used in the price field. This field is thought to be useful for displaying the appropriate symbol for a currency (i.e., $, \u20ac). The value of the currency field SHOULD match the values defined by ISO 4217. Price The Price field contains the price of the energy of a specific Power Profile measured in base unit of Currency per Unit of Measure (as described in the Metering Cluster, see SE specification) with the decimal point lo- cated as indicated by the PriceTrailingDigit field when the energy is delivered to the premise. Price Trailing Digit The PriceTrailingDigit field determines where the decimal point is located in the price field. The PriceTrail- ingDigit indicates the number of digits to the right of the decimal point. 3.17.5.3.2 When Generated This command is generated when the command Get Power Profile Price is received. Please refer to Get Power Profile Price command description. 3.17.5.3.3 Effect on Receipt On receipt of this command, the originator (server) is notified of the associated cost of the requested Power Profile, calculated by the client side of the Power Profile (see 9.7.10.1 for sequence diagrams and exam- ples). 3.17.5.4 GetOverallSchedulePriceResponse Command The GetOverallSchedulePriceResponse command allows a client to communicate the overall cost associated to all Power Profiles scheduled to a server requesting it. If the Price information requested is not available the response SHALL be a ZCL default response with \u201cNOT FOUND\u201d Status. The overall cost provided by the Power Profile Client side (e.g., energy management system) is intended as the cost of all the scheduled power profiles. This information MAY be helpful to assess the overall benefit provided by the scheduler, since a change in the scheduling of a specific device might -in some cases-increase its associated Power Profile cost. In fact in that case the schedule SHALL provide a global optimization by reducing the overall cost of all the scheduled power profiles, then reducing the energy bill for the user. 3.17.5.4.1 Payload Format The Get Overall Schedule Price Response command payload SHALL be formatted as illustrated in Figure 3-70. Figure 3-70. Format of the GetOverallSchedulePriceResponse Command Octets Data Type uint16 uint32 uint8 Field Name Currency Price Price Trailing Digit 3.17.5.4.2 Payload Details See GetPowerProfilePriceResponse command payload details. ",
        "3": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-176 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. This is typically a sequential and contiguous number ranging from 1 to TotalProfileNum. Currency The Currency field identifies the local unit of currency used in the price field. This field is thought to be useful for displaying the appropriate symbol for a currency (i.e., $, \u20ac). The value of the currency field SHOULD match the values defined by ISO 4217. Price The Price field contains the price of the energy of a specific Power Profile measured in base unit of Currency per Unit of Measure (as described in the Metering Cluster, see SE specification) with the decimal point lo- cated as indicated by the PriceTrailingDigit field when the energy is delivered to the premise. Price Trailing Digit The PriceTrailingDigit field determines where the decimal point is located in the price field. The PriceTrail- ingDigit indicates the number of digits to the right of the decimal point. 3.17.5.3.2 When Generated This command is generated when the command Get Power Profile Price is received. Please refer to Get Power Profile Price command description. 3.17.5.3.3 Effect on Receipt On receipt of this command, the originator (server) is notified of the associated cost of the requested Power Profile, calculated by the client side of the Power Profile (see 9.7.10.1 for sequence diagrams and exam- ples). 3.17.5.4 GetOverallSchedulePriceResponse Command The GetOverallSchedulePriceResponse command allows a client to communicate the overall cost associated to all Power Profiles scheduled to a server requesting it. If the Price information requested is not available the response SHALL be a ZCL default response with \u201cNOT FOUND\u201d Status. The overall cost provided by the Power Profile Client side (e.g., energy management system) is intended as the cost of all the scheduled power profiles. This information MAY be helpful to assess the overall benefit provided by the scheduler, since a change in the scheduling of a specific device might -in some cases-increase its associated Power Profile cost. In fact in that case the schedule SHALL provide a global optimization by reducing the overall cost of all the scheduled power profiles, then reducing the energy bill for the user. 3.17.5.4.1 Payload Format The Get Overall Schedule Price Response command payload SHALL be formatted as illustrated in Figure 3-70. Figure 3-70. Format of the GetOverallSchedulePriceResponse Command Octets Data Type uint16 uint32 uint8 Field Name Currency Price Price Trailing Digit 3.17.5.4.2 Payload Details See GetPowerProfilePriceResponse command payload details. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-177 3.17.5.4.3 When Generated This command is generated when the command GetOverallSchedulePriceRequest is received. 3.17.5.4.4 Effect on Receipt On receipt of this command, the originator is notified of the overall cost of the scheduled Power Profiles, calculated by the Power Profile cluster client side. This information MAY be used to assess the overall benefit provided by the scheduler, which might be dependent on the schedule constraints. For more information, see Chapter 15 Appliance Management, section 3. 3.17.5.5 Energy Phases Schedule Notification Command The Energy Phases Schedule Notification command is generated by a device supporting the client side of the Power Profile cluster in order to schedule the start of a Power Profile and its energy phases (they MAY be more than one in case of MultipleScheduling attribute equal to TRUE) on a the device supporting the server side of the Power Profile cluster, which did not solicit the schedule (\u201cun-solicited\u201d schedule). That happens when the Power Profile State carries a PowerProfileRemoteControl field equal to TRUE and the Energy Phase has a MaxActivationDelay different than 0x0000 (please note that changes on an already scheduled energy phase or power profile are possible but SHOULD be applied just in case of sensible advantages). The mechanisms designed to find the proper schedule are not part of the description of this command. Please consider that, in case the MultipleScheduling attribute is FALSE (which means that the server side of the Power Profile cluster SHALL support the schedule of only a single energy phase at once), the Energy Phases Schedule Notification command SHOULD also be used to set a pause between two energy phases (energy pause behavior). In this case the Power Profile State MAY have any values but the command SHALL be issued only if the PowerProfileRemoteControl is set to TRUE and the Energy Phase has a MaxActiva- tionDelay different than 0x0000. 3.17.5.5.1 Payload Format The Energy Phases Schedule Notification command payload SHALL be formatted as illustrated in Figure 3-71. Figure 3-71. Format of the EnergyPhasesScheduleNotification Command Payload Octets \u2026 Data Type uint8 uint8 uint8 uint16 \u2026 uint8 uint16 Field Name Power ProfileID Num of Scheduled Phases Energy PhaseIDn Scheduled Timen \u2026 Energy PhaseIDn Scheduled Timen 3.17.5.5.1.1 Payload Details The payload of the EnergyPhasesScheduleNotification command carries the fields defined in Figure 3-71. Each EnergyPhasesScheduleNotification message SHALL include only one Power Profile and the energy phases of that Power Profile that needs to be scheduled. In case this command needs to be sent to a device supporting the server side of the power Profile Cluster with the MultipleScheduling attribute set to false, the payload of EnergyPhasesScheduleNotification command SHALL carry just one phase and the Scheduled Time field SHALL indicate the time scheduled for the whole Power Profile to start (in case the Power Profile is not started yet). If the Power Profile is in ENERGY_PHASE_RUNNING state and the server side of the cluster has the MultipleScheduling attribute set to false, the EnergyPhasesScheduleNotification command SHALL carry the scheduled time of the next energy phase. ",
        "4": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-177 3.17.5.4.3 When Generated This command is generated when the command GetOverallSchedulePriceRequest is received. 3.17.5.4.4 Effect on Receipt On receipt of this command, the originator is notified of the overall cost of the scheduled Power Profiles, calculated by the Power Profile cluster client side. This information MAY be used to assess the overall benefit provided by the scheduler, which might be dependent on the schedule constraints. For more information, see Chapter 15 Appliance Management, section 3. 3.17.5.5 Energy Phases Schedule Notification Command The Energy Phases Schedule Notification command is generated by a device supporting the client side of the Power Profile cluster in order to schedule the start of a Power Profile and its energy phases (they MAY be more than one in case of MultipleScheduling attribute equal to TRUE) on a the device supporting the server side of the Power Profile cluster, which did not solicit the schedule (\u201cun-solicited\u201d schedule). That happens when the Power Profile State carries a PowerProfileRemoteControl field equal to TRUE and the Energy Phase has a MaxActivationDelay different than 0x0000 (please note that changes on an already scheduled energy phase or power profile are possible but SHOULD be applied just in case of sensible advantages). The mechanisms designed to find the proper schedule are not part of the description of this command. Please consider that, in case the MultipleScheduling attribute is FALSE (which means that the server side of the Power Profile cluster SHALL support the schedule of only a single energy phase at once), the Energy Phases Schedule Notification command SHOULD also be used to set a pause between two energy phases (energy pause behavior). In this case the Power Profile State MAY have any values but the command SHALL be issued only if the PowerProfileRemoteControl is set to TRUE and the Energy Phase has a MaxActiva- tionDelay different than 0x0000. 3.17.5.5.1 Payload Format The Energy Phases Schedule Notification command payload SHALL be formatted as illustrated in Figure 3-71. Figure 3-71. Format of the EnergyPhasesScheduleNotification Command Payload Octets \u2026 Data Type uint8 uint8 uint8 uint16 \u2026 uint8 uint16 Field Name Power ProfileID Num of Scheduled Phases Energy PhaseIDn Scheduled Timen \u2026 Energy PhaseIDn Scheduled Timen 3.17.5.5.1.1 Payload Details The payload of the EnergyPhasesScheduleNotification command carries the fields defined in Figure 3-71. Each EnergyPhasesScheduleNotification message SHALL include only one Power Profile and the energy phases of that Power Profile that needs to be scheduled. In case this command needs to be sent to a device supporting the server side of the power Profile Cluster with the MultipleScheduling attribute set to false, the payload of EnergyPhasesScheduleNotification command SHALL carry just one phase and the Scheduled Time field SHALL indicate the time scheduled for the whole Power Profile to start (in case the Power Profile is not started yet). If the Power Profile is in ENERGY_PHASE_RUNNING state and the server side of the cluster has the MultipleScheduling attribute set to false, the EnergyPhasesScheduleNotification command SHALL carry the scheduled time of the next energy phase. Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-178 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. PowerProfileID See definition in PowerProfileNotification command. Num of Scheduled Phases The Num of Scheduled Phases field represents the total number of the energy phases of the Power Profile that need to be scheduled by this command. The Energy phases that are not required to be scheduled SHALL NOT be counted in Num of Scheduled Phases field. The Num of Scheduled Phases SHALL be equal to 1 in case the MultipleScheduling attribute set to FALSE (only one energy phase SHALL be scheduled at a time). The Num of Scheduled Phases MAY be greater than 1in case the MultipleScheduling attribute set to TRUE (scheduling of multiple energy phases at the same time). EnergyPhaseID See definition in PowerProfileNotification command. Scheduled Time The Scheduled Time field represents the relative time scheduled in respect to the end of the previous energy phase. The unit is the minute. The Scheduled Time for the first Energy phase represents the scheduled time (expressed in relative encoding in respect to the current time) for the start of the Power Profile. The Scheduled Time fields for the subsequent Energy phases represent the relative time in minutes in respect to the previous scheduled Energy phase. The Energy phases that are not required to be scheduled will not be included in the commands and not be counted in Num of Scheduled Phases field. Only the Power Profile carrying a Power Profile Remote Control field equal to TRUE (as indicated in Power Profile State Notification command) and the Energy Phases supporting MaxActivationDelay different than 0x0000 SHALL be schedulable (as indi- cated in Power Profile Notification command). 3.17.5.5.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), has calculated a specific schedule for a Power Profile and needs to send the schedule (i.e., \u201cunsolicited\u201d schedule) to a device supporting the Power Profile cluster server side (e.g., White Goods). This command SHALL be generated only if the recipient devices support schedulable Power Profiles (i.e., only if the Power Profile carries the first Energy Phase with a MaxActivationDelay different than 0x0000). 3.17.5.5.3 Effect on Receipt The device that receives the EnergyPhasesScheduleNotification command SHALL reply with a standard De- fault response only if requested in the ZCL header of the EnergyPhasesScheduleNotification command or there is an error (as from ZCL specification). If the device that receives the EnergyPhasesScheduleNotification command cannot schedule the energy phases because the activation delay of any of carried phases is equal to zero, it SHALL reply with a standard Default response with the error code NOT_AUTHORIZED (0x7e). In case the scheduling state of the recipient entity changes after the reception of this command, the recipient will issue an Energy Phases Schedule State Notification. 3.17.5.6 EnergyPhasesScheduleResponse Command This command is generated by the client side of Power Profile cluster as a reply to the EnergyPhasesSched- uleRequest command. ",
        "5": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-178 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. PowerProfileID See definition in PowerProfileNotification command. Num of Scheduled Phases The Num of Scheduled Phases field represents the total number of the energy phases of the Power Profile that need to be scheduled by this command. The Energy phases that are not required to be scheduled SHALL NOT be counted in Num of Scheduled Phases field. The Num of Scheduled Phases SHALL be equal to 1 in case the MultipleScheduling attribute set to FALSE (only one energy phase SHALL be scheduled at a time). The Num of Scheduled Phases MAY be greater than 1in case the MultipleScheduling attribute set to TRUE (scheduling of multiple energy phases at the same time). EnergyPhaseID See definition in PowerProfileNotification command. Scheduled Time The Scheduled Time field represents the relative time scheduled in respect to the end of the previous energy phase. The unit is the minute. The Scheduled Time for the first Energy phase represents the scheduled time (expressed in relative encoding in respect to the current time) for the start of the Power Profile. The Scheduled Time fields for the subsequent Energy phases represent the relative time in minutes in respect to the previous scheduled Energy phase. The Energy phases that are not required to be scheduled will not be included in the commands and not be counted in Num of Scheduled Phases field. Only the Power Profile carrying a Power Profile Remote Control field equal to TRUE (as indicated in Power Profile State Notification command) and the Energy Phases supporting MaxActivationDelay different than 0x0000 SHALL be schedulable (as indi- cated in Power Profile Notification command). 3.17.5.5.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), has calculated a specific schedule for a Power Profile and needs to send the schedule (i.e., \u201cunsolicited\u201d schedule) to a device supporting the Power Profile cluster server side (e.g., White Goods). This command SHALL be generated only if the recipient devices support schedulable Power Profiles (i.e., only if the Power Profile carries the first Energy Phase with a MaxActivationDelay different than 0x0000). 3.17.5.5.3 Effect on Receipt The device that receives the EnergyPhasesScheduleNotification command SHALL reply with a standard De- fault response only if requested in the ZCL header of the EnergyPhasesScheduleNotification command or there is an error (as from ZCL specification). If the device that receives the EnergyPhasesScheduleNotification command cannot schedule the energy phases because the activation delay of any of carried phases is equal to zero, it SHALL reply with a standard Default response with the error code NOT_AUTHORIZED (0x7e). In case the scheduling state of the recipient entity changes after the reception of this command, the recipient will issue an Energy Phases Schedule State Notification. 3.17.5.6 EnergyPhasesScheduleResponse Command This command is generated by the client side of Power Profile cluster as a reply to the EnergyPhasesSched- uleRequest command. Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-179 3.17.5.6.1 Payload Format The EnergyPhasesScheduleResponse command payload SHALL have the same payload as EnergyPhasesS- cheduleNotification command (EnergyPhasesScheduleNotification command, but \u201csolicited\u201d schedule be- cause it is triggered by the EnergyPhasesScheduleRequest command). For more information, see Chapter 15, Appliance Management, section 3. 3.17.5.6.1.1 Payload Details The payload of the EnergyPhasesScheduleResponse command carries the same fields as the EnergyPhasesS- cheduleNotification command. (EnergyPhasesScheduleNotification command, but \u201csolicited\u201d schedule be- cause it is triggered by the EnergyPhasesScheduleRequest command) 3.17.5.6.2 When Generated This command is generated when the server side of the Power Profile cluster (e.g., a White Goods device), has requested, using the EnergyPhasesScheduleRequest, the schedule of a specific power profile to a device supporting the Power Profile cluster client side (e.g., Home gateway) which SHALL calculate the schedules (\u201csolicited\u201d schedule) and reply with the EnergyPhasesScheduleResponse. 3.17.5.6.3 Effect on Receipt The device that receives the EnergyPhasesScheduleResponse command SHALL reply with a standard De- fault response only if requested in the ZCL header of the EnergyPhasesScheduleResponse command. If the reception of EnergyPhasesScheduleResponse command is not supported the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND73. In case the scheduling state of the recipient entity changes after the reception of this command, the recipient will issue an EnergyPhasesScheduleStateNotification. 3.17.5.7 PowerProfileScheduleConstraintsRequest Com- mand The PowerProfileScheduleConstraintsRequest command is generated by client side of the Power Profile cluster in order to request the constraints of the Power Profile of a server, in order to set the proper boundaries for the scheduling when calculating the schedules. 3.17.5.7.1 Payload Format The PowerProfileScheduleConstraintsRequest command payload is the same as the one used for PowerPro- fileRequest command. For more information, see Chapter 15, Appliance Management, section 3. 3.17.5.7.1.1 Payload Details The payload of the PowerProfileScheduleConstraintsRequest command carries the fields defined in Power- ProfileRequest command. The Power Profile ID field specifies which profile (among TotalProfileNum total profiles number) the con- straints are referring to. 73 CCB 2477 status code cleanup ",
        "6": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-179 3.17.5.6.1 Payload Format The EnergyPhasesScheduleResponse command payload SHALL have the same payload as EnergyPhasesS- cheduleNotification command (EnergyPhasesScheduleNotification command, but \u201csolicited\u201d schedule be- cause it is triggered by the EnergyPhasesScheduleRequest command). For more information, see Chapter 15, Appliance Management, section 3. 3.17.5.6.1.1 Payload Details The payload of the EnergyPhasesScheduleResponse command carries the same fields as the EnergyPhasesS- cheduleNotification command. (EnergyPhasesScheduleNotification command, but \u201csolicited\u201d schedule be- cause it is triggered by the EnergyPhasesScheduleRequest command) 3.17.5.6.2 When Generated This command is generated when the server side of the Power Profile cluster (e.g., a White Goods device), has requested, using the EnergyPhasesScheduleRequest, the schedule of a specific power profile to a device supporting the Power Profile cluster client side (e.g., Home gateway) which SHALL calculate the schedules (\u201csolicited\u201d schedule) and reply with the EnergyPhasesScheduleResponse. 3.17.5.6.3 Effect on Receipt The device that receives the EnergyPhasesScheduleResponse command SHALL reply with a standard De- fault response only if requested in the ZCL header of the EnergyPhasesScheduleResponse command. If the reception of EnergyPhasesScheduleResponse command is not supported the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND73. In case the scheduling state of the recipient entity changes after the reception of this command, the recipient will issue an EnergyPhasesScheduleStateNotification. 3.17.5.7 PowerProfileScheduleConstraintsRequest Com- mand The PowerProfileScheduleConstraintsRequest command is generated by client side of the Power Profile cluster in order to request the constraints of the Power Profile of a server, in order to set the proper boundaries for the scheduling when calculating the schedules. 3.17.5.7.1 Payload Format The PowerProfileScheduleConstraintsRequest command payload is the same as the one used for PowerPro- fileRequest command. For more information, see Chapter 15, Appliance Management, section 3. 3.17.5.7.1.1 Payload Details The payload of the PowerProfileScheduleConstraintsRequest command carries the fields defined in Power- ProfileRequest command. The Power Profile ID field specifies which profile (among TotalProfileNum total profiles number) the con- straints are referring to. 73 CCB 2477 status code cleanup ",
        "7": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-180 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.17.5.7.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to request the constraints of the power profile to a device supporting the Power Profile cluster server side (e.g., Whitegood). 3.17.5.7.3 Effect on Receipt The device that receives the Power Profile Schedule Constraints Request command SHALL reply with a Power Profile Schedule Constraints Response if supported. If the command is not supported, the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND74. If the requested profile data are not available, the device SHALL reply with a standard ZCL response NOT_FOUND. 3.17.5.8 EnergyPhasesScheduleStateRequest Command The EnergyPhasesScheduleStateRequest command is generated by a device supporting the client side of the Power Profile cluster to check the states of the scheduling of a power profile, which is supported in the device implementing the server side of Power Profile cluster. This command can be used to re-align the schedules between server and client (e.g., after a client reset). 3.17.5.8.1 Payload Format The EnergyPhasesScheduleStateRequest command payload is the same as the one used for PowerProfile- Request command. For more information, see Chapter 15, Appliance Management, section 3. 3.17.5.8.1.1 Payload Details The payload of the EnergyPhasesScheduleStateRequest command carries the same fields defined in the Pow- erProfileRequest command. For more information, see Chapter 15, Appliance Management, section 3. The Power Profile ID field specifies which profile (among TotalProfileNum total profiles number) the con- straints are referring to. 3.17.5.8.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to check the schedules of the Power Profile to a device supporting the Power Profile cluster server side (e.g., White Good). 3.17.5.8.3 Effect on Receipt The server that receives the EnergyPhasesScheduleStateRequest command SHALL reply to the client with an EnergyPhasesScheduleStateResponse, if supported. If the command is not supported, the servers SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND75. If the requested profile data are not available (e.g., invalid Power Profile ID), the server SHALL reply with a standard ZCL response NOT_FOUND. If the server does not have any schedules set, it SHALL reply with a EnergyPhasesScheduleStateResponse carrying NumofScheduledPhases equal to zero (see Format of the EnergyPhasesScheduleStateResponse in case of no scheduled phases). 74 CCB 2477 status code cleanup 75 CCB 2477 status code cleanup ",
        "8": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-180 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. 3.17.5.7.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to request the constraints of the power profile to a device supporting the Power Profile cluster server side (e.g., Whitegood). 3.17.5.7.3 Effect on Receipt The device that receives the Power Profile Schedule Constraints Request command SHALL reply with a Power Profile Schedule Constraints Response if supported. If the command is not supported, the device SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND74. If the requested profile data are not available, the device SHALL reply with a standard ZCL response NOT_FOUND. 3.17.5.8 EnergyPhasesScheduleStateRequest Command The EnergyPhasesScheduleStateRequest command is generated by a device supporting the client side of the Power Profile cluster to check the states of the scheduling of a power profile, which is supported in the device implementing the server side of Power Profile cluster. This command can be used to re-align the schedules between server and client (e.g., after a client reset). 3.17.5.8.1 Payload Format The EnergyPhasesScheduleStateRequest command payload is the same as the one used for PowerProfile- Request command. For more information, see Chapter 15, Appliance Management, section 3. 3.17.5.8.1.1 Payload Details The payload of the EnergyPhasesScheduleStateRequest command carries the same fields defined in the Pow- erProfileRequest command. For more information, see Chapter 15, Appliance Management, section 3. The Power Profile ID field specifies which profile (among TotalProfileNum total profiles number) the con- straints are referring to. 3.17.5.8.2 When Generated This command is generated when the client side of the Power Profile cluster (e.g., a Home gateway device), needs to check the schedules of the Power Profile to a device supporting the Power Profile cluster server side (e.g., White Good). 3.17.5.8.3 Effect on Receipt The server that receives the EnergyPhasesScheduleStateRequest command SHALL reply to the client with an EnergyPhasesScheduleStateResponse, if supported. If the command is not supported, the servers SHALL reply with a standard ZCL Default response with status UNSUP_COMMAND75. If the requested profile data are not available (e.g., invalid Power Profile ID), the server SHALL reply with a standard ZCL response NOT_FOUND. If the server does not have any schedules set, it SHALL reply with a EnergyPhasesScheduleStateResponse carrying NumofScheduledPhases equal to zero (see Format of the EnergyPhasesScheduleStateResponse in case of no scheduled phases). 74 CCB 2477 status code cleanup 75 CCB 2477 status code cleanup "
    },
    "28": {
        "0": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-77 3.10.2.3 Commands Received The command IDs for the Level Control cluster are listed below. Table 3-59. Command IDs for the Level Control Cluster ID Description M/O 0x00 Move to Level M 0x01 Move M 0x02 Step M 0x03 Stop M 0x04 Move to Level (with On/Off) M 0x05 Move (with On/Off) M 0x06 Step (with On/Off) M 0x07 Stop M 0x08 Move to Closest Frequency M:CurrentFrequency attribute supported 3.10.2.3.1 Move to Level Command 3.10.2.3.1.1 Payload Format The Move to Level command payload SHALL be formatted as illustrated in Figure 3-40. Figure 3-40. Format of the Move to Level Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Level Transition time OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.1.2 Effect on Receipt The OptionsMask & OptionsOverride fields SHALL both be present53. Default values are provided to inter- pret missing fields from legacy devices. A temporary Options bitmap SHALL be created from the Options attribute, using the OptionsMask & OptionsOverride fields. Each bit of the temporary Options bitmap SHALL be determined as follows: Each bit in the Options attribute SHALL determine the corresponding bit in the temporary Options bitmap, unless the OptionsMask field is present and has the corresponding bit set to 1, in which case the correspond- ing bit in the OptionsOverride field SHALL determine the corresponding bit in the temporary Options bit- map. 52 CCB 2814 defaults for legacy devices 53 CCB 2814 fields are mandatory because fields may follow Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices ",
        "2": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "3": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "4": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-77 3.10.2.3 Commands Received The command IDs for the Level Control cluster are listed below. Table 3-59. Command IDs for the Level Control Cluster ID Description M/O 0x00 Move to Level M 0x01 Move M 0x02 Step M 0x03 Stop M 0x04 Move to Level (with On/Off) M 0x05 Move (with On/Off) M 0x06 Step (with On/Off) M 0x07 Stop M 0x08 Move to Closest Frequency M:CurrentFrequency attribute supported 3.10.2.3.1 Move to Level Command 3.10.2.3.1.1 Payload Format The Move to Level command payload SHALL be formatted as illustrated in Figure 3-40. Figure 3-40. Format of the Move to Level Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Level Transition time OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.1.2 Effect on Receipt The OptionsMask & OptionsOverride fields SHALL both be present53. Default values are provided to inter- pret missing fields from legacy devices. A temporary Options bitmap SHALL be created from the Options attribute, using the OptionsMask & OptionsOverride fields. Each bit of the temporary Options bitmap SHALL be determined as follows: Each bit in the Options attribute SHALL determine the corresponding bit in the temporary Options bitmap, unless the OptionsMask field is present and has the corresponding bit set to 1, in which case the correspond- ing bit in the OptionsOverride field SHALL determine the corresponding bit in the temporary Options bit- map. 52 CCB 2814 defaults for legacy devices 53 CCB 2814 fields are mandatory because fields may follow Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices ",
        "5": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-78 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. The resulting temporary Options bitmap SHALL then be processed as defined in section 3.10.2.2.854. On receipt of this command, a device SHALL move from its current level to the value given in the Level field. The meaning of \u2018level\u2019 is device dependent \u2013 e.g., for a light it MAY mean brightness level. The movement SHALL be as continuous as technically practical, i.e., not a step function, and the time taken to move to the new level SHALL be equal to the value of the Transition time field, in tenths of a second, or as close to this as the device is able. If the Transition time field takes the value 0xffff then the time taken to move to the new level SHALL instead be determined by the OnOffTransitionTime attribute. If OnOffTransitionTime, which is an optional attribute, is not present, the device SHALL move to its new level as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.2 Move Command 3.10.2.3.2.1 Payload Format The Move command payload SHALL be formatted as illustrated in Figure 3-41. Figure 3-41. Format of the Move Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move mode Rate OptionsMask OptionsOverride Default n/a n/a 3.10.2.3.2.2 Move Mode Field The Move mode field SHALL be one of the non-reserved values in Table 3-60. Table 3-60. Values of the Move Mode Field Fade Mode Value Description 0x00 Up 0x01 Down 3.10.2.3.2.3 Rate Field The Rate field specifies the rate of movement in units per second. The actual rate of movement SHOULD be as close to this rate as the device is able. If the Rate field is 0xFF, then the value in DefaultMoveRate attribute SHALL be used. If the Rate field is 0xFF and the DefaultMoveRate attribute is not supported, then the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, this field MAY be disregarded. 3.10.2.3.2.4 Effect on Receipt 54 CCB 2702 55 CCB 2814 defaults for legacy devices Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices ",
        "6": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-79 On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. On receipt of this command, a device SHALL move from its current level in an up or down direction in a continuous fashion, as detailed in Table 3-61. Table 3-61. Actions on Receipt for Move Command Fade Mode Action on Receipt Up Increase the device\u2019s level at the rate given in the Rate field. If the level reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s level at the rate given in the Rate field. If the level reaches the minimum allowed for the device, stop. 3.10.2.3.3 Step Command 3.10.2.3.3.1 Payload Format The Step command payload SHALL be formatted as illustrated in Figure 3-42. Figure 3-42. Format of the Step Command Payload Octets Data Type enum8 uint8 uint16 map8 map8 Field Name Step mode Step size Transition time OptionsMask OptionsOverride Default n/a n/a n/a The Step mode field SHALL be one of the non-reserved values in Table 3-62. Table 3-62. Values of the Step Mode Field Fade Mode Value Description 0x00 Up 0x01 Down The Transition time field specifies the time that SHALL be taken to perform the step, in tenths of a second. A step is a change in the CurrentLevel of 'Step size' units. The actual time taken SHOULD be as close to this as the device is able. If the Transition time field is 0xffff the device SHOULD move as fast as it is able. If the device is not able to move at a variable rate, the Transition time field MAY be disregarded. 3.10.2.3.3.2 Effect on Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. 56 CCB 2814 defaults for legacy devices Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "8": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-81 The command payload SHALL be formatted as illustrated below. Figure 3-44. Format of the Command Payload Octets Data Type uint16 Field Name Frequency 3.10.2.3.5.2 Effect of Receipt Upon receipt of this command, the device shall change its current frequency to the requested frequency, or to the closest frequency that it can generate. If the device cannot approximate the frequency, then it shall return a default response with an error code of INVALID_VALUE. Determining if a requested frequency can be approximated by a supported frequency is a manufacturer-specific decision. 3.10.2.3.6 'With On/Off' Commands The Move to Level (with On/Off), Move (with On/Off) and Step (with On/Off) commands have identical payloads to the Move to Level, Move and Step commands respectively60. They also have the same effects, except for the following additions. Before commencing any command that has the effect of setting the CurrentLevel above the minimum level allowed by the device, the OnOff attribute of the On/Off cluster on the same endpoint, if implemented, SHALL be set to On. If any command that has the effect of setting the CurrentLevel to the minimum level allowed by the device, the OnOff attribute of the On/Off cluster on the same endpoint, if implemented, SHALL be set to Off. 3.10.2.4 Commands Generated The server generates no commands. 3.10.2.5 Scene Table Extensions61 If the Scenes server cluster is implemented, the following extension field is added to the Scenes table: CurrentLevel 3.10.3 Client The client has no cluster specific attributes. The client generates the cluster specific commands received by the server62, as required by the application. No cluster specific commands are received by the client. 59 CCB 2898 explain duplicate Stop command 60 CCB 2818 \u2018with On/Off commands are the same, including Options processing 61 CCB 2659 62 CCB 2616 "
    },
    "2820": {
        "0": "Chapter 4 ZigBee Cluster Library Specification Measurement and Sensing ZigBee Document \u2013 075123 Page 4-44 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. The number of times the average RMS voltage, has been above the AverageRMS OverVoltage threshold since last reset. This counter may be reset by writing zero to the attribute. 4.9.2.2.11.18 AverageRMSUnderVoltageCounterPhC The number of times the average RMS voltage, has been below the AverageRMS underVoltage threshold since last reset. This counter may be reset by writing zero to the attribute. 4.9.2.2.11.19 RMSExtremeOverVoltagePeriodPhC The duration in seconds used to measure an extreme over voltage condition. 4.9.2.2.11.20 RMSExtremeUnderVoltagePeriodPhC The duration in seconds used to measure an extreme under voltage condition. 4.9.2.2.11.21 RMSVoltageSagPeriodPhC The duration in seconds used to measure a voltage sag condition. 4.9.2.2.11.22 RMSVoltageSwellPeriodPhC The duration in seconds used to measure a voltage swell condition. 4.9.2.3 Server Commands 4.9.2.3.1 Commands Generated The command IDs generated by the electrical measurement server cluster are listed in Table 4-41. Table 4-41. Generated Command ID\u2019s for the Electrical Measurement Server Command Identifier Description M/O 0x00 Get Profile Info Response Command O 0x01 Get Measurement Profile Response Command O 4.9.2.3.1.1 Get Profile Info Response Command The Get Profile Info Response Command shall be formatted as illustrated in Figure 4-6. Figure 4-6. Format of the Get Profile Info Response Command Octets Variable Data Type uint8 enum8 uint8 Array of attribute IDs (two- byte unsigned values) Field Name Profile Count ProfileIntervalPeriod MaxNumberOfIn- tervals ListOfAttributes 4.9.2.3.1.1.1 Payload Details Profile Count: Total number of supported profile. ZigBee Cluster Library Specification Chapter 4 ZigBee Document \u2013 075123 Measurement and Sensing Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 4-45 ProfileIntervalPeriod: Represents the interval or time frame used to capture parameter for profiling pur- poses. ProfileIntervalPeriod is an enumerated field representing the timeframes listed in Figure 4-7. Figure 4-7. ProfileIntervalPeriod Enumerated Value Time Frame Daily 60 minutes 30 minutes 15 minutes 10 minutes 7.5 minutes 5 minutes 2.5 minutes MaxNumberOfIntervals: Represents the maximum number of intervals the device is capable of returning in one Get Measurement Profile Response command. It is required MaxNumberofIntervals fit within the default Fragmentation ASDU size of 128 bytes, or an optionally agreed upon larger Fragmentation ASDU size supported by both devices as per the application profile supported by the devices. ListOfAttributes: Represents the list of attributes being profiled. 4.9.2.3.1.2 When Generated This command is generated when the Client command GetProfileInfo is received. 4.9.2.3.1.3 Get Measurement Profile Response Command The Get Measurement Profile Response Command shall be formatted as illustrated in Figure 4-8. Figure 4-8. Format of the Get Measurement Profile Response Command Octets Variable Data Type UTC enum8 enum8 uint8 attribId Array of Attribute values Field Name StartTime Status ProfileIn- ter- valPeriod NumberOf IntervalsDelivered Attribute Id Intervals 4.9.2.3.1.3.1 Payload Details StartTime: 32-bit value (in UTC) representing the end time of the most chronologically recent interval being requested. Example: Data collected from 2:00 PM to 3:00 PM would be specified as a 3:00 PM interval (end time). Status: Table status enumeration in Table 4-42 lists the valid values returned in the Status field. ",
        "1": "ZigBee Cluster Library Specification Chapter 4 ZigBee Document \u2013 075123 Measurement and Sensing Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 4-45 ProfileIntervalPeriod: Represents the interval or time frame used to capture parameter for profiling pur- poses. ProfileIntervalPeriod is an enumerated field representing the timeframes listed in Figure 4-7. Figure 4-7. ProfileIntervalPeriod Enumerated Value Time Frame Daily 60 minutes 30 minutes 15 minutes 10 minutes 7.5 minutes 5 minutes 2.5 minutes MaxNumberOfIntervals: Represents the maximum number of intervals the device is capable of returning in one Get Measurement Profile Response command. It is required MaxNumberofIntervals fit within the default Fragmentation ASDU size of 128 bytes, or an optionally agreed upon larger Fragmentation ASDU size supported by both devices as per the application profile supported by the devices. ListOfAttributes: Represents the list of attributes being profiled. 4.9.2.3.1.2 When Generated This command is generated when the Client command GetProfileInfo is received. 4.9.2.3.1.3 Get Measurement Profile Response Command The Get Measurement Profile Response Command shall be formatted as illustrated in Figure 4-8. Figure 4-8. Format of the Get Measurement Profile Response Command Octets Variable Data Type UTC enum8 enum8 uint8 attribId Array of Attribute values Field Name StartTime Status ProfileIn- ter- valPeriod NumberOf IntervalsDelivered Attribute Id Intervals 4.9.2.3.1.3.1 Payload Details StartTime: 32-bit value (in UTC) representing the end time of the most chronologically recent interval being requested. Example: Data collected from 2:00 PM to 3:00 PM would be specified as a 3:00 PM interval (end time). Status: Table status enumeration in Table 4-42 lists the valid values returned in the Status field. Chapter 4 ZigBee Cluster Library Specification Measurement and Sensing ZigBee Document \u2013 075123 Page 4-46 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Table 4-42. List of Status Valid Values Status Value Description 0x00 Success 0x01 Attribute Profile not supported 0x02 Invalid Start Time 0x03 More intervals requested than can be returned 0x04 No intervals available for the requested time ProfileIntervalPeriod: Represents the interval or time frame used to capture parameter for profiling pur- poses. Refer to table \u201cProfileIntervalPeriod\u201d. NumberofIntervalsDelivered: Represents the number of intervals the device is returning. Please note the number of intervals returned in the Get Measurement Profile Response command can be calculated when the packets are received and can replace the usage of this field. The intent is to provide this information as a convenience. AttributeID: The attribute that has been profiled by the application. Intervals: Series of interval data captured using the period specified by the ProfileIntervalPeriod field. The content of the interval data depend of the type of information requested using the AttributeID field in the Get Measurement Profile Command. Data is organized in a reverse chronological order, the oldest intervals are transmitted first and the newest interval is transmitted last. Invalid intervals should be marked as 0xffff. For scaling and data type use the respective attribute set as defined above in attribute sets. 4.9.2.3.1.3.2 When Generated This command is generated when the Client command GetMeasurementProfile is received. 4.9.2.4 Client Commands 4.9.2.4.1 Commands Generated The command ID\u2019s generated by the electrical measurement client cluster are listed in Table 4-43. Table 4-43. Generated Command IDs for the Electrical Measurement Client Command Identifier Description M/O 0x00 Get Profile Info Command O 0x01 Get Measurement Profile Command O 4.9.2.4.1.1 Get Profile Info Command This command has no payload. 4.9.2.4.1.1.1 Effect on Receipt "
    },
    "768": {
        "0": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-16 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. For the move to color temperature command, if the target color specified is not achievable by the hardware then the color temperature SHALL be clipped at the physical minimum or maximum achievable, depending on the color temperature transition, when the device reaches that color temperature (which MAY be before the requested transition time), and a ZCL default response command SHALL be generated, where not disa- bled, with a status code equal to SUCCESS. 5.2.2.3.2 Note on Change of ColorMode The first action taken when any one of these commands is received is to change the ColorMode attribute to the appropriate value for the command (see individual commands). Note that, when moving from one color mode to another (e.g., CurrentX/CurrentY to CurrentHue/CurrentSaturation), the starting color for the com- mand is formed by calculating the values of the new attributes (in this case CurrentHue, CurrentSaturation) from those of the old attributes (in this case CurrentX and CurrentY). When moving from a mode to another mode that has a more restricted color range (e.g., CurrentX/CurrentY to CurrentHue/CurrentSaturation, or CurrentHue/CurrentSaturation to ColorTemperatureMireds) it is pos- sible for the current color value to have no equivalent in the new mode. The behavior in such cases is manu- facturer dependent, and therefore it is recommended to avoid color mode changes of this kind during usage. 5.2.2.3.3 Use of the OptionsMask & OptionsOverride fields The OptionsMask & OptionsOverride fields SHALL both be present.90 Default values are provided to inter- pret missing fields from legacy devices. A temporary Options bitmap SHALL be created from the Options attribute, using the OptionsMask & OptionsOverride fields. Each bit of the temporary Options bitmap SHALL be determined as follows: Each bit in the Options attribute SHALL determine the corresponding bit in the temporary Options bitmap, unless the OptionsMask field is present and has the corresponding bit set to 1, in which case the correspond- ing bit in the OptionsOverride field SHALL determine the corresponding bit in the temporary Options bit- map. The resulting temporary Options bitmap SHALL then be processed as defined in section 5.2.2.2.1.10. 5.2.2.3.4 Move to Hue Command 5.2.2.3.4.1 Payload Format The Move to Hue command payload SHALL be formatted as illustrated in Figure 5-2. Figure 5-2. Format of the Move to Hue Command Payload Octets Data Type uint8 enum8 uint16 map8 map8 Field Name Hue Direction Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.4.2 Hue Field The Hue field specifies the hue to be moved to. 90 CCB 2814 fields are mandatory because fields may follow 91 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-17 5.2.2.3.4.3 Direction Field The Direction field SHALL be one of the non-reserved values in Table 5.14. Table 5.14. Values of the Direction Field Fade Mode Value Description 0x00 Shortest distance 0x01 Longest distance 0x02 Up 0x03 Down 5.2.2.3.4.4 Transition Time Field The Transition Time field specifies, in 1/10ths of a second, the time that SHALL be taken to move to the new hue. 5.2.2.3.4.5 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.4.6 Effect on Receipt On receipt of this command, a device SHALL also set the ColorMode attribute to the value 0x00 and then SHALL move from its current hue to the value given in the Hue field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new hue SHALL be equal to the Transition Time field. As hue is effectively measured on a circle, the new hue MAY be moved to in either direction. The direction of hue change is given by the Direction field. If Direction is 'Shortest distance', the direction is taken that involves the shortest path round the circle. This case corresponds to expected normal usage. If Direction is 'Longest distance', the direction is taken that involves the longest path round the circle. This case can be used for 'rainbow effects'. In both cases, if both distances are the same, the Up direction SHALL be taken. 5.2.2.3.5 Move Hue Command 5.2.2.3.5.1 Payload Format The Move Hue command payload SHALL be formatted as illustrated in Figure 5-3. Figure 5-3. Format of the Move Hue Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.5.2 Move Mode Field 92 CCB 2814 defaults for legacy devices ",
        "1": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-17 5.2.2.3.4.3 Direction Field The Direction field SHALL be one of the non-reserved values in Table 5.14. Table 5.14. Values of the Direction Field Fade Mode Value Description 0x00 Shortest distance 0x01 Longest distance 0x02 Up 0x03 Down 5.2.2.3.4.4 Transition Time Field The Transition Time field specifies, in 1/10ths of a second, the time that SHALL be taken to move to the new hue. 5.2.2.3.4.5 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.4.6 Effect on Receipt On receipt of this command, a device SHALL also set the ColorMode attribute to the value 0x00 and then SHALL move from its current hue to the value given in the Hue field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new hue SHALL be equal to the Transition Time field. As hue is effectively measured on a circle, the new hue MAY be moved to in either direction. The direction of hue change is given by the Direction field. If Direction is 'Shortest distance', the direction is taken that involves the shortest path round the circle. This case corresponds to expected normal usage. If Direction is 'Longest distance', the direction is taken that involves the longest path round the circle. This case can be used for 'rainbow effects'. In both cases, if both distances are the same, the Up direction SHALL be taken. 5.2.2.3.5 Move Hue Command 5.2.2.3.5.1 Payload Format The Move Hue command payload SHALL be formatted as illustrated in Figure 5-3. Figure 5-3. Format of the Move Hue Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.5.2 Move Mode Field 92 CCB 2814 defaults for legacy devices Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-18 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. The Move Mode field SHALL be one of the non-reserved values in Table 5.15. If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.93 Table 5.15. Values of the Move Mode Field Move Mode Value Description 0x00 Stop 0x01 Up 0x02 Reserved 0x03 Down 5.2.2.3.5.3 Rate Field The Rate field specifies the rate of movement in steps per second. A step is a change in the device\u2019s hue of one unit. If If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a Default Response command (see Chapter 2) SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored.94 5.2.2.3.5.4 OptionsMask and OptionsOverride field The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.5.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current hue in an up or down direction in a continuous fashion, as detailed in Table 5.16. Table 5.16. Actions on Receipt for Move Hue Command Fade Mode Action on Receipt Stop If moving, stop, else ignore the command (i.e., the command is accepted but has no effect). NB This MAY also be used to stop a Move to Hue command, a Move to Saturation command, or a Move to Hue and Saturation command. Up Increase the device\u2019s hue at the rate given in the Rate field. If the hue reaches the maximum allowed for the device, then proceed to its minimum allowed value. Down Decrease the device\u2019s hue at the rate given in the Rate field. If the hue reaches the minimum allowed for the device, then proceed to its maximum al- lowed value. 5.2.2.3.6 Step Hue Command 5.2.2.3.6.1 Payload Format 93 CCB 2501 94 CCB 2501 ",
        "2": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-18 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. The Move Mode field SHALL be one of the non-reserved values in Table 5.15. If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.93 Table 5.15. Values of the Move Mode Field Move Mode Value Description 0x00 Stop 0x01 Up 0x02 Reserved 0x03 Down 5.2.2.3.5.3 Rate Field The Rate field specifies the rate of movement in steps per second. A step is a change in the device\u2019s hue of one unit. If If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a Default Response command (see Chapter 2) SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored.94 5.2.2.3.5.4 OptionsMask and OptionsOverride field The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.5.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current hue in an up or down direction in a continuous fashion, as detailed in Table 5.16. Table 5.16. Actions on Receipt for Move Hue Command Fade Mode Action on Receipt Stop If moving, stop, else ignore the command (i.e., the command is accepted but has no effect). NB This MAY also be used to stop a Move to Hue command, a Move to Saturation command, or a Move to Hue and Saturation command. Up Increase the device\u2019s hue at the rate given in the Rate field. If the hue reaches the maximum allowed for the device, then proceed to its minimum allowed value. Down Decrease the device\u2019s hue at the rate given in the Rate field. If the hue reaches the minimum allowed for the device, then proceed to its maximum al- lowed value. 5.2.2.3.6 Step Hue Command 5.2.2.3.6.1 Payload Format 93 CCB 2501 94 CCB 2501 ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-19 The Step Hue command payload SHALL be formatted as illustrated in Figure 5-4. Figure 5-4. Format of the Step Hue Command Payload Octets Data Type enum8 uint8 uint8 map8 map8 Field Name Step Mode Step Size Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.6.2 Step Mode Field The Step Mode field SHALL be one of the non-reserved values in Table 5.17. Table 5.17. Values of the Step Mode Field Fade Mode Value Description 0x00 Reserved 0x01 Up 0x02 Reserved 0x03 Down 5.2.2.3.6.3 Step Size Field The change to be added to (or subtracted from) the current value of the device\u2019s hue. 5.2.2.3.6.4 Transition Time Field The Transition Time field specifies, in 1/10ths of a second, the time that SHALL be taken to perform the step. A step is a change in the device\u2019s hue of \u2018Step size\u2019 units. 5.2.2.3.6.5 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.6.6 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current hue in an up or down direction by one step, as detailed in Table 5.18. Table 5.18. Actions on Receipt for Step Hue Command Fade Mode Action on Receipt Up Increase the device\u2019s hue by one step, in a continuous fashion. If the hue value reaches the maximum value then proceed to the minimum al- lowed value. 95 CCB 2814 defaults for legacy devices Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-20 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Down Decrease the device\u2019s hue by one step, in a continuous fashion. If the hue value reaches the minimum value then proceed to the maximum al- lowed value. 5.2.2.3.7 Move to Saturation Command 5.2.2.3.7.1 Payload Format The Move to Saturation command payload SHALL be formatted as illustrated in Figure 5-5. Figure 5-5. Format of the Move to Saturation Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Saturation Transition Time OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.7.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.7.3 Effect on Receipt On receipt of this command, a device set the ColorMode attribute to the value 0x00 and SHALL then move from its current saturation to the value given in the Saturation field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new satu- ration SHALL be equal to the Transition Time field, in 1/10ths of a second. 5.2.2.3.8 Move Saturation Command 5.2.2.3.8.1 Payload Format The Move Saturation command payload SHALL be formatted as illustrated in Figure 5-6. Figure 5-6. Format of the Move Saturation Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.8.2 Move Mode Field 96 CCB 2814 defaults for legacy devices 97 CCB 2814 defaults for legacy devices ",
        "3": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-20 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Down Decrease the device\u2019s hue by one step, in a continuous fashion. If the hue value reaches the minimum value then proceed to the maximum al- lowed value. 5.2.2.3.7 Move to Saturation Command 5.2.2.3.7.1 Payload Format The Move to Saturation command payload SHALL be formatted as illustrated in Figure 5-5. Figure 5-5. Format of the Move to Saturation Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Saturation Transition Time OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.7.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.7.3 Effect on Receipt On receipt of this command, a device set the ColorMode attribute to the value 0x00 and SHALL then move from its current saturation to the value given in the Saturation field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new satu- ration SHALL be equal to the Transition Time field, in 1/10ths of a second. 5.2.2.3.8 Move Saturation Command 5.2.2.3.8.1 Payload Format The Move Saturation command payload SHALL be formatted as illustrated in Figure 5-6. Figure 5-6. Format of the Move Saturation Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.8.2 Move Mode Field 96 CCB 2814 defaults for legacy devices 97 CCB 2814 defaults for legacy devices ",
        "4": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-20 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Down Decrease the device\u2019s hue by one step, in a continuous fashion. If the hue value reaches the minimum value then proceed to the maximum al- lowed value. 5.2.2.3.7 Move to Saturation Command 5.2.2.3.7.1 Payload Format The Move to Saturation command payload SHALL be formatted as illustrated in Figure 5-5. Figure 5-5. Format of the Move to Saturation Command Payload Octets Data Type uint8 uint16 map8 map8 Field Name Saturation Transition Time OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.7.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.7.3 Effect on Receipt On receipt of this command, a device set the ColorMode attribute to the value 0x00 and SHALL then move from its current saturation to the value given in the Saturation field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new satu- ration SHALL be equal to the Transition Time field, in 1/10ths of a second. 5.2.2.3.8 Move Saturation Command 5.2.2.3.8.1 Payload Format The Move Saturation command payload SHALL be formatted as illustrated in Figure 5-6. Figure 5-6. Format of the Move Saturation Command Payload Octets Data Type enum8 uint8 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.8.2 Move Mode Field 96 CCB 2814 defaults for legacy devices 97 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-21 The Move Mode field SHALL be one of the non-reserved values in Table 5.19. If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.98 Table 5.19. Values of the Move Mode Field Move Mode Value Description 0x00 Stop 0x01 Up 0x02 Reserved 0x03 Down 5.2.2.3.8.3 Rate Field The Rate field specifies the rate of movement in steps per second. A step is a change in the device\u2019s saturation of one unit. If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a Default Response command (see Chapter 2) SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored.99OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.8.4 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current saturation in an up or down direction in a continuous fashion, as detailed in Table 5.20. Table 5.20. Actions on Receipt for Move Saturation Command Fade Mode Action on Receipt Stop If moving, stop, else ignore the command (i.e., the command is accepted but has no affect). NB This MAY also be used to stop a Move to Saturation com- mand, a Move to Hue command, or a Move to Hue and Saturation command. Up Increase the device\u2019s saturation at the rate given in the Rate field. If the satu- ration reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s saturation at the rate given in the Rate field. If the satu- ration reaches the minimum allowed for the device, stop. 5.2.2.3.9 Step Saturation Command 5.2.2.3.9.1 Payload Format The Step Saturation command payload SHALL be formatted as illustrated in Figure 5-7. 98 CCB 2501 99 CCB 2501 ",
        "5": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-21 The Move Mode field SHALL be one of the non-reserved values in Table 5.19. If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.98 Table 5.19. Values of the Move Mode Field Move Mode Value Description 0x00 Stop 0x01 Up 0x02 Reserved 0x03 Down 5.2.2.3.8.3 Rate Field The Rate field specifies the rate of movement in steps per second. A step is a change in the device\u2019s saturation of one unit. If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a Default Response command (see Chapter 2) SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored.99OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.8.4 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current saturation in an up or down direction in a continuous fashion, as detailed in Table 5.20. Table 5.20. Actions on Receipt for Move Saturation Command Fade Mode Action on Receipt Stop If moving, stop, else ignore the command (i.e., the command is accepted but has no affect). NB This MAY also be used to stop a Move to Saturation com- mand, a Move to Hue command, or a Move to Hue and Saturation command. Up Increase the device\u2019s saturation at the rate given in the Rate field. If the satu- ration reaches the maximum allowed for the device, stop. Down Decrease the device\u2019s saturation at the rate given in the Rate field. If the satu- ration reaches the minimum allowed for the device, stop. 5.2.2.3.9 Step Saturation Command 5.2.2.3.9.1 Payload Format The Step Saturation command payload SHALL be formatted as illustrated in Figure 5-7. 98 CCB 2501 99 CCB 2501 Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-22 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 5-7. Format of the Step Saturation Command Payload Octets Data Type enum8 uint8 uint8 map8 map8 Field Name Step Mode Step Size Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.9.2 Step Mode Field The Step Mode field SHALL be one of the non-reserved values in Table 5.21. Table 5.21. Values of the Step Mode Field Step Mode Value Description 0x00 Reserved 0x01 Up 0x02 Reserved 0x03 Down 5.2.2.3.9.3 Step Size Field The change to be added to (or subtracted from) the current value of the device\u2019s saturation. 5.2.2.3.9.4 Transition Time Field The Transition Time field specifies, in 1/10ths of a second, the time that SHALL be taken to perform the step. A step is a change in the device\u2019s saturation of \u2018Step size\u2019 units. 5.2.2.3.9.5 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.9.6 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current saturation in an up or down direction by one step, as detailed in Table 5.22. Table 5.22. Actions on Receipt for Step Saturation Command Step Mode Action on Receipt Up Increase the device\u2019s saturation by one step, in a continuous fash- ion. However, if the saturation value is already the maximum value then do nothing. Down Decrease the device\u2019s saturation by one step, in a continuous fash- ion. However, if the saturation value is already the minimum value then do nothing. 100 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-23 5.2.2.3.10 Move to Hue and Saturation Command 5.2.2.3.10.1 Payload Format The Move to Hue and Saturation command payload SHALL be formatted as illustrated in Figure 5-8. Figure 5-8. Move to Hue and Saturation Command Payload Octets Data Type uint8 uint8 uint16 map8 map8 Field Name Hue Saturation Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.10.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.10.3 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current hue and saturation to the values given in the Hue and Saturation fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though hue/saturation space, i.e., movement is \u2018in a straight line\u2019 across the hue/satu- ration disk. 5.2.2.3.11 Move to Color Command 5.2.2.3.11.1 Payload Format The Move to Color command payload SHALL be formatted as illustrated in Figure 5-9. Figure 5-9. Format of the Move to Color Command Payload Octets Data Type uint16 uint16 uint16 map8 map8 Field Name ColorX ColorY Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.11.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.11.3 Effect on Receipt 101 CCB 2814 defaults for legacy devices 102 CCB 2814 defaults for legacy devices ",
        "6": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-23 5.2.2.3.10 Move to Hue and Saturation Command 5.2.2.3.10.1 Payload Format The Move to Hue and Saturation command payload SHALL be formatted as illustrated in Figure 5-8. Figure 5-8. Move to Hue and Saturation Command Payload Octets Data Type uint8 uint8 uint16 map8 map8 Field Name Hue Saturation Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.10.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.10.3 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current hue and saturation to the values given in the Hue and Saturation fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though hue/saturation space, i.e., movement is \u2018in a straight line\u2019 across the hue/satu- ration disk. 5.2.2.3.11 Move to Color Command 5.2.2.3.11.1 Payload Format The Move to Color command payload SHALL be formatted as illustrated in Figure 5-9. Figure 5-9. Format of the Move to Color Command Payload Octets Data Type uint16 uint16 uint16 map8 map8 Field Name ColorX ColorY Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.11.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.11.3 Effect on Receipt 101 CCB 2814 defaults for legacy devices 102 CCB 2814 defaults for legacy devices ",
        "7": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-23 5.2.2.3.10 Move to Hue and Saturation Command 5.2.2.3.10.1 Payload Format The Move to Hue and Saturation command payload SHALL be formatted as illustrated in Figure 5-8. Figure 5-8. Move to Hue and Saturation Command Payload Octets Data Type uint8 uint8 uint16 map8 map8 Field Name Hue Saturation Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.10.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.10.3 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and SHALL then move from its current hue and saturation to the values given in the Hue and Saturation fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though hue/saturation space, i.e., movement is \u2018in a straight line\u2019 across the hue/satu- ration disk. 5.2.2.3.11 Move to Color Command 5.2.2.3.11.1 Payload Format The Move to Color command payload SHALL be formatted as illustrated in Figure 5-9. Figure 5-9. Format of the Move to Color Command Payload Octets Data Type uint16 uint16 uint16 map8 map8 Field Name ColorX ColorY Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.11.2 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.11.3 Effect on Receipt 101 CCB 2814 defaults for legacy devices 102 CCB 2814 defaults for legacy devices Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color to the color given in the ColorX and ColorY fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though color space, i.e., movement is 'in a straight line' across the CIE xyY Color Space. 5.2.2.3.12 Move Color Command 5.2.2.3.12.1 Payload Format The Move Color command payload SHALL be formatted as illustrated in Figure 5-10. Figure 5-10. Format of the Move Color Command Payload Octets Data Type int16 int16 map8 map8 Field Name RateX RateY OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.12.2 RateX Field The RateX field specifies the rate of movement in steps per second. A step is a change in the device\u2019s Cur- rentX attribute of one unit. 5.2.2.3.12.3 RateY Field The RateY field specifies the rate of movement in steps per second. A step is a change in the device\u2019s Cur- rentY attribute of one unit. 5.2.2.3.12.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.12.5 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color in a continuous fashion according to the rates specified. This movement SHALL continue until the target color for the next step cannot be implemented on this device. If both the RateX and RateY fields contain a value of zero, no movement SHALL be carried out, and the command execution SHALL have no effect other than stopping the operation of any previously received command of this cluster. This command can thus be used to stop the operation of any other command of this cluster. 5.2.2.3.13 Step Color Command 5.2.2.3.13.1 Payload Format The Step Color command payload SHALL be formatted as illustrated in Figure 5-11. 103 CCB 2814 defaults for legacy devices ",
        "8": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color to the color given in the ColorX and ColorY fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though color space, i.e., movement is 'in a straight line' across the CIE xyY Color Space. 5.2.2.3.12 Move Color Command 5.2.2.3.12.1 Payload Format The Move Color command payload SHALL be formatted as illustrated in Figure 5-10. Figure 5-10. Format of the Move Color Command Payload Octets Data Type int16 int16 map8 map8 Field Name RateX RateY OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.12.2 RateX Field The RateX field specifies the rate of movement in steps per second. A step is a change in the device\u2019s Cur- rentX attribute of one unit. 5.2.2.3.12.3 RateY Field The RateY field specifies the rate of movement in steps per second. A step is a change in the device\u2019s Cur- rentY attribute of one unit. 5.2.2.3.12.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.12.5 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color in a continuous fashion according to the rates specified. This movement SHALL continue until the target color for the next step cannot be implemented on this device. If both the RateX and RateY fields contain a value of zero, no movement SHALL be carried out, and the command execution SHALL have no effect other than stopping the operation of any previously received command of this cluster. This command can thus be used to stop the operation of any other command of this cluster. 5.2.2.3.13 Step Color Command 5.2.2.3.13.1 Payload Format The Step Color command payload SHALL be formatted as illustrated in Figure 5-11. 103 CCB 2814 defaults for legacy devices ",
        "9": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color to the color given in the ColorX and ColorY fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though color space, i.e., movement is 'in a straight line' across the CIE xyY Color Space. 5.2.2.3.12 Move Color Command 5.2.2.3.12.1 Payload Format The Move Color command payload SHALL be formatted as illustrated in Figure 5-10. Figure 5-10. Format of the Move Color Command Payload Octets Data Type int16 int16 map8 map8 Field Name RateX RateY OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.12.2 RateX Field The RateX field specifies the rate of movement in steps per second. A step is a change in the device\u2019s Cur- rentX attribute of one unit. 5.2.2.3.12.3 RateY Field The RateY field specifies the rate of movement in steps per second. A step is a change in the device\u2019s Cur- rentY attribute of one unit. 5.2.2.3.12.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.12.5 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color in a continuous fashion according to the rates specified. This movement SHALL continue until the target color for the next step cannot be implemented on this device. If both the RateX and RateY fields contain a value of zero, no movement SHALL be carried out, and the command execution SHALL have no effect other than stopping the operation of any previously received command of this cluster. This command can thus be used to stop the operation of any other command of this cluster. 5.2.2.3.13 Step Color Command 5.2.2.3.13.1 Payload Format The Step Color command payload SHALL be formatted as illustrated in Figure 5-11. 103 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-25 Figure 5-11. Format of the Step Color Command Payload Octets Data Type int16 int16 uint16 map8 map8 Field Name StepX StepY Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.13.2 StepX and StepY Fields The StepX and StepY fields specify the change to be added to the device's CurrentX attribute and CurrentY attribute respectively. 5.2.2.3.13.3 Transition Time Field The Transition Time field specifies, in 1/10ths of a second, the time that SHALL be taken to perform the color change. 9999 5.2.2.3.13.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.13.5 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color by the color step indicated. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though color space, i.e., movement is 'in a straight line' across the CIE xyY Color Space. Note also that if the required step is larger than can be represented by signed 16-bit integers then more than one step command SHOULD be issued. 5.2.2.3.14 Move to Color Temperature Command 5.2.2.3.14.1 Payload Format The Move to Color Temperature command payload SHALL be formatted as illustrated in Figure 5-12. Figure 5-12. Move to Color Temperature Command Payload Octets Data Type uint16 uint16 map8 map8 Field Name Color Temperature Mireds Transition Time OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.14.2 OptionsMask and OptionsOverride fields 104 CCB 2814 defaults for legacy devices 105 CCB 2814 defaults for legacy devices ",
        "10": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-25 Figure 5-11. Format of the Step Color Command Payload Octets Data Type int16 int16 uint16 map8 map8 Field Name StepX StepY Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.13.2 StepX and StepY Fields The StepX and StepY fields specify the change to be added to the device's CurrentX attribute and CurrentY attribute respectively. 5.2.2.3.13.3 Transition Time Field The Transition Time field specifies, in 1/10ths of a second, the time that SHALL be taken to perform the color change. 9999 5.2.2.3.13.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.13.5 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x01, and SHALL then move from its current color by the color step indicated. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though color space, i.e., movement is 'in a straight line' across the CIE xyY Color Space. Note also that if the required step is larger than can be represented by signed 16-bit integers then more than one step command SHOULD be issued. 5.2.2.3.14 Move to Color Temperature Command 5.2.2.3.14.1 Payload Format The Move to Color Temperature command payload SHALL be formatted as illustrated in Figure 5-12. Figure 5-12. Move to Color Temperature Command Payload Octets Data Type uint16 uint16 map8 map8 Field Name Color Temperature Mireds Transition Time OptionsMask OptionsOverride Default n/a n/a 5.2.2.3.14.2 OptionsMask and OptionsOverride fields 104 CCB 2814 defaults for legacy devices 105 CCB 2814 defaults for legacy devices Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-26 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.14.3 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x02, and SHALL then move from its current color to the color given by the Color Temperature Mireds field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. By definition of this color mode, the path through color space taken during the transition is along the \u2018Black Body Line'. 5.2.2.3.15 Enhanced Move to Hue Command The Enhanced Move to Hue command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue. The payload of this command SHALL be formatted as illustrated in Figure 5-13. Figure 5-13. Format of the Enhanced Move to Hue Command Octets Data Type uint16 enum8 uint16 map8 map8 Field Name Enhanced Hue Direction Transition Time OptionsMask OptionsOverride Default n/a n/a n/s 5.2.2.3.15.1 Enhanced Hue Field The Enhanced Hue field is 16-bits in length and specifies the target extended hue for the lamp. 5.2.2.3.15.2 Direction Field This field is identical to the Direction field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.3). 5.2.2.3.15.3 Transition Time Field This field is identical to the Transition Time field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.3). 5.2.2.3.15.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.15.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to 0x00 and set the EnhancedCol- orMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue to the value given in the Enhanced Hue field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new en- hanced hue SHALL be equal to the Transition Time field. 106 CCB 2814 defaults for legacy devices ",
        "64": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-26 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.14.3 Effect on Receipt On receipt of this command, a device SHALL set the value of the ColorMode attribute, where implemented, to 0x02, and SHALL then move from its current color to the color given by the Color Temperature Mireds field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. By definition of this color mode, the path through color space taken during the transition is along the \u2018Black Body Line'. 5.2.2.3.15 Enhanced Move to Hue Command The Enhanced Move to Hue command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue. The payload of this command SHALL be formatted as illustrated in Figure 5-13. Figure 5-13. Format of the Enhanced Move to Hue Command Octets Data Type uint16 enum8 uint16 map8 map8 Field Name Enhanced Hue Direction Transition Time OptionsMask OptionsOverride Default n/a n/a n/s 5.2.2.3.15.1 Enhanced Hue Field The Enhanced Hue field is 16-bits in length and specifies the target extended hue for the lamp. 5.2.2.3.15.2 Direction Field This field is identical to the Direction field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.3). 5.2.2.3.15.3 Transition Time Field This field is identical to the Transition Time field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.3). 5.2.2.3.15.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.15.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to 0x00 and set the EnhancedCol- orMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue to the value given in the Enhanced Hue field. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new en- hanced hue SHALL be equal to the Transition Time field. 106 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-27 5.2.2.3.16 Enhanced Move Hue Command The Enhanced Move Hue command allows lamps to be moved in a continuous stepped transition from their current hue to a target hue. The payload of this command SHALL be formatted as illustrated in Figure 5-14. Figure 5-14. Format of the Enhanced Move Hue Command Octets Data Type enum8 uint16 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOver- ride Default n/a n/a 5.2.2.3.16.1 Move Mode Field This field is identical to the Move Mode field of the Move Hue command of the Color Control cluster (see sub-clause 5.2.2.3.5). If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.108 5.2.2.3.16.2 Rate field The Rate field is 16-bits in length and specifies the rate of movement in steps per second. A step is a change in the extended hue of a device by one unit. If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a ZCL Default Response command SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored. 5.2.2.3.16.3 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.16.4 Effect on receipt On receipt of this command, a device SHALL set the ColorMode attribute to 0x00 and set the EnhancedCol- orMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue in an up or down direction in a continuous fashion, as detailed in Table 5.23. Table 5.23. Actions on Receipt of the Enhanced Move Hue Command Move Mode Action on Receipt Stop If moving, stop, else ignore the command (i.e., the command is accepted but has no effect). NB This MAY also be used to stop an Enhanced Move to Hue command or an enhanced Move to Hue and Saturation command. Up Increase the device\u2019s enhanced hue at the rate given in the Rate field. If the en- hanced hue reaches the maximum allowed for the device, proceed to its minimum allowed value. Down Decrease the device\u2019s enhanced hue at the rate given in the Rate field. If the hue reaches the minimum allowed for the device, proceed to its maximum allowed value. 107 CCB 2814 defaults for legacy devices 108 CCB 2501 ",
        "65": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-27 5.2.2.3.16 Enhanced Move Hue Command The Enhanced Move Hue command allows lamps to be moved in a continuous stepped transition from their current hue to a target hue. The payload of this command SHALL be formatted as illustrated in Figure 5-14. Figure 5-14. Format of the Enhanced Move Hue Command Octets Data Type enum8 uint16 map8 map8 Field Name Move Mode Rate OptionsMask OptionsOver- ride Default n/a n/a 5.2.2.3.16.1 Move Mode Field This field is identical to the Move Mode field of the Move Hue command of the Color Control cluster (see sub-clause 5.2.2.3.5). If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.108 5.2.2.3.16.2 Rate field The Rate field is 16-bits in length and specifies the rate of movement in steps per second. A step is a change in the extended hue of a device by one unit. If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a ZCL Default Response command SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored. 5.2.2.3.16.3 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.16.4 Effect on receipt On receipt of this command, a device SHALL set the ColorMode attribute to 0x00 and set the EnhancedCol- orMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue in an up or down direction in a continuous fashion, as detailed in Table 5.23. Table 5.23. Actions on Receipt of the Enhanced Move Hue Command Move Mode Action on Receipt Stop If moving, stop, else ignore the command (i.e., the command is accepted but has no effect). NB This MAY also be used to stop an Enhanced Move to Hue command or an enhanced Move to Hue and Saturation command. Up Increase the device\u2019s enhanced hue at the rate given in the Rate field. If the en- hanced hue reaches the maximum allowed for the device, proceed to its minimum allowed value. Down Decrease the device\u2019s enhanced hue at the rate given in the Rate field. If the hue reaches the minimum allowed for the device, proceed to its maximum allowed value. 107 CCB 2814 defaults for legacy devices 108 CCB 2501 Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 5.2.2.3.17 Enhanced Step Hue Command The Enhanced Step Hue command allows lamps to be moved in a stepped transition from their current hue to a target hue, resulting in a linear transition through XY space. The payload of this command SHALL be formatted as illustrated in Figure 5-15. Figure 5-15. Format of the Enhanced Step Hue Command Octets Data Type enum8 uint16 uint16 map8 map8 Field Name Step Mode Step Size Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.17.1 Step Mode Field This field is identical to the Step Mode field of the Step Hue command of the Color Control cluster (see sub- clause 5.2.2.3.6). 5.2.2.3.17.2 Step Size Field The Step Size field is 16-bits in length and specifies the change to be added to (or subtracted from) the current value of the device\u2019s enhanced hue. 5.2.2.3.17.3 Transition Time Field The Transition Time field is 16-bits in length and specifies, in units of 1/10ths of a second, the time that SHALL be taken to perform the step. A step is a change to the device\u2019s enhanced hue of a magnitude corre- sponding to the Step Size field. 5.2.2.3.17.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.17.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to 0x00 and the EnhancedColor- Mode attribute to the value 0x03. The device SHALL then move from its current enhanced hue in an up or down direction by one step, as detailed in Table 5.24. Table 5.24. Actions on Receipt for the Enhanced Step Hue Command Move Mode Action on Receipt Up Increase the device\u2019s enhanced hue by one step. If the enhanced hue reaches the maximum allowed for the device, proceed to its mini- mum allowed value. Down Decrease the device\u2019s enhanced hue by one step. If the hue reaches the minimum allowed for the device, proceed to its maximum al- lowed value. 109 CCB 2814 defaults for legacy devices ",
        "66": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 5.2.2.3.17 Enhanced Step Hue Command The Enhanced Step Hue command allows lamps to be moved in a stepped transition from their current hue to a target hue, resulting in a linear transition through XY space. The payload of this command SHALL be formatted as illustrated in Figure 5-15. Figure 5-15. Format of the Enhanced Step Hue Command Octets Data Type enum8 uint16 uint16 map8 map8 Field Name Step Mode Step Size Transition Time OptionsMask OptionsOverride Default n/a n/a n/a 5.2.2.3.17.1 Step Mode Field This field is identical to the Step Mode field of the Step Hue command of the Color Control cluster (see sub- clause 5.2.2.3.6). 5.2.2.3.17.2 Step Size Field The Step Size field is 16-bits in length and specifies the change to be added to (or subtracted from) the current value of the device\u2019s enhanced hue. 5.2.2.3.17.3 Transition Time Field The Transition Time field is 16-bits in length and specifies, in units of 1/10ths of a second, the time that SHALL be taken to perform the step. A step is a change to the device\u2019s enhanced hue of a magnitude corre- sponding to the Step Size field. 5.2.2.3.17.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.17.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to 0x00 and the EnhancedColor- Mode attribute to the value 0x03. The device SHALL then move from its current enhanced hue in an up or down direction by one step, as detailed in Table 5.24. Table 5.24. Actions on Receipt for the Enhanced Step Hue Command Move Mode Action on Receipt Up Increase the device\u2019s enhanced hue by one step. If the enhanced hue reaches the maximum allowed for the device, proceed to its mini- mum allowed value. Down Decrease the device\u2019s enhanced hue by one step. If the hue reaches the minimum allowed for the device, proceed to its maximum al- lowed value. 109 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-29 5.2.2.3.18 Enhanced Move to Hue and Saturation Command The Enhanced Move to Hue and Saturation command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue and from their current saturation to a target saturation. The payload of this command SHALL be formatted as illustrated in Figure 5-16. Figure 5-16. Format of the Enhanced Move to Hue and Saturation Command Octets Data Type uint16 uint8 uint16 map8 map8 Field Name Enhanced Hue Saturation Transition Time OptionsMask OptionsOver- ride Default n/a n/a n/a 5.2.2.3.18.1 Enhanced Hue Field The Enhanced Hue field is 16-bits in length and specifies the target extended hue for the lamp. 5.2.2.3.18.2 Saturation Field This field is identical to the Saturation field of the Move to Hue and Saturation command of the Color Control cluster (see sub-clause 5.2.2.3.10). 5.2.2.3.18.3 Transition Time Field This field is identical to the Transition Time field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.10). 5.2.2.3.18.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.18.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and set the EnhancedColorMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue and saturation to the values given in the enhanced hue and saturation fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though XY space, i.e., movement is 'in a straight line' across the hue/saturation disk. 5.2.2.3.19 Color Loop Set Command The Color Loop Set command allows a color loop to be activated such that the color lamp cycles through its range of hues. The payload of this command SHALL be formatted as illustrated in Figure 5-17. 110 CCB 2814 defaults for legacy devices ",
        "67": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-29 5.2.2.3.18 Enhanced Move to Hue and Saturation Command The Enhanced Move to Hue and Saturation command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue and from their current saturation to a target saturation. The payload of this command SHALL be formatted as illustrated in Figure 5-16. Figure 5-16. Format of the Enhanced Move to Hue and Saturation Command Octets Data Type uint16 uint8 uint16 map8 map8 Field Name Enhanced Hue Saturation Transition Time OptionsMask OptionsOver- ride Default n/a n/a n/a 5.2.2.3.18.1 Enhanced Hue Field The Enhanced Hue field is 16-bits in length and specifies the target extended hue for the lamp. 5.2.2.3.18.2 Saturation Field This field is identical to the Saturation field of the Move to Hue and Saturation command of the Color Control cluster (see sub-clause 5.2.2.3.10). 5.2.2.3.18.3 Transition Time Field This field is identical to the Transition Time field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.10). 5.2.2.3.18.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.18.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and set the EnhancedColorMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue and saturation to the values given in the enhanced hue and saturation fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though XY space, i.e., movement is 'in a straight line' across the hue/saturation disk. 5.2.2.3.19 Color Loop Set Command The Color Loop Set command allows a color loop to be activated such that the color lamp cycles through its range of hues. The payload of this command SHALL be formatted as illustrated in Figure 5-17. 110 CCB 2814 defaults for legacy devices ",
        "68": "ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-29 5.2.2.3.18 Enhanced Move to Hue and Saturation Command The Enhanced Move to Hue and Saturation command allows lamps to be moved in a smooth continuous transition from their current hue to a target hue and from their current saturation to a target saturation. The payload of this command SHALL be formatted as illustrated in Figure 5-16. Figure 5-16. Format of the Enhanced Move to Hue and Saturation Command Octets Data Type uint16 uint8 uint16 map8 map8 Field Name Enhanced Hue Saturation Transition Time OptionsMask OptionsOver- ride Default n/a n/a n/a 5.2.2.3.18.1 Enhanced Hue Field The Enhanced Hue field is 16-bits in length and specifies the target extended hue for the lamp. 5.2.2.3.18.2 Saturation Field This field is identical to the Saturation field of the Move to Hue and Saturation command of the Color Control cluster (see sub-clause 5.2.2.3.10). 5.2.2.3.18.3 Transition Time Field This field is identical to the Transition Time field of the Move to Hue command of the Color Control cluster (see sub-clause 5.2.2.3.10). 5.2.2.3.18.4 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.18.5 Effect on Receipt On receipt of this command, a device SHALL set the ColorMode attribute to the value 0x00 and set the EnhancedColorMode attribute to the value 0x03. The device SHALL then move from its current enhanced hue and saturation to the values given in the enhanced hue and saturation fields. The movement SHALL be continuous, i.e., not a step function, and the time taken to move to the new color SHALL be equal to the Transition Time field, in 1/10ths of a second. The path through color space taken during the transition is not specified, but it is recommended that the shortest path is taken though XY space, i.e., movement is 'in a straight line' across the hue/saturation disk. 5.2.2.3.19 Color Loop Set Command The Color Loop Set command allows a color loop to be activated such that the color lamp cycles through its range of hues. The payload of this command SHALL be formatted as illustrated in Figure 5-17. 110 CCB 2814 defaults for legacy devices Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 5-17. Format of the Color Loop Set Command Octets Data Type map8 enum8 enum8 uint16 uint16 map8 map8 Field Name Update Flags Action Direc- tion Time Start Hue Op- tionsMask OptionsOver- ride Default n/a n/a n/a n/a n/a 5.2.2.3.19.1 Update Flags Field The Update Flags field is 8 bits in length and specifies which color loop attributes to update before the color loop is started. This field SHALL be formatted as illustrated in Figure 5-18. Figure 5-18. Format of the Update Flags Field of the Color Loop Set Command Bits: 0 4-7 Update Action Update Direction Update Time Update Start Hue Reserved The Update Action sub-field is 1 bit in length and specifies whether the device SHALL adhere to the action field in order to process the command. If this sub-field is set to 1, the device SHALL adhere to the action field. If this sub-field is set to 0, the device SHALL ignore the action field. The Update Direction sub-field is 1 bit in length and specifies whether the device SHALL update the Color- LoopDirection attribute with the Direction field. If this sub-field is set to 1, the device SHALL update the value of the ColorLoopDirection attribute with the value of the Direction field. If this sub-field is set to 0, the device SHALL ignore the Direction field. The Update Time sub-field is 1 bit in length and specifies whether the device SHALL update the ColorLoop- Time attribute with the Time field. If this sub-field is set to 1, the device SHALL update the value of the ColorLoopTime attribute with the value of the Time field. If this sub-field is set to 0, the device SHALL ignore the Time field. The Update Start Hue sub-field is 1 bit in length and specifies whether the device SHALL update the Color- LoopStartEnhancedHue attribute with the Start Hue field. If this sub-field is set to 1, the device SHALL update the value of the ColorLoopStartEnhancedHue attribute with the value of the Start Hue field. If this sub-field is set to 0, the device SHALL ignore the Start Hue field. 5.2.2.3.19.2 Action Field The Action field is 8 bits in length and specifies the action to take for the color loop if the Update Action sub-field of the Update Flags field is set to 1. This field SHALL be set to one of the non-reserved values listed in Table 5.25. Table 5.25. Values of the Action Field of the Color Loop Set Command Value Description 0x00 De-activate the color loop. 0x01 Activate the color loop from the value in the ColorLoopStartEnhancedHue field. 111 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-31 Value Description 0x02 Activate the color loop from the value of the EnhancedCurrentHue attribute. 5.2.2.3.19.3 Direction Field The Direction field is 8 bits in length and specifies the direction for the color loop if the Update Direction field of the Update Flags field is set to 1. This field SHALL be set to one of the non-reserved values listed in Table 5.26. Table 5.26. Values of the Direction Field of the Color Loop Set Command Direction Field Value Description 0x00 Decrement the hue in the color loop. 0x01 Increment the hue in the color loop. 5.2.2.3.19.4 Time Field The Time field is 16 bits in length and specifies the number of seconds over which to perform a full color loop if the Update Time field of the Update Flags field is set to 1. 5.2.2.3.19.5 Start Hue Field The Start Hue field is 16 bits in length and specifies the starting hue to use for the color loop if the Update Start Hue field of the Update Flags field is set to 1. 5.2.2.3.19.6 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.19.7 Effect on Receipt On receipt of this command, the device SHALL first update its color loop attributes according to the value of the Update Flags field, as follows. If the Update Direction sub-field is set to 1, the device SHALL set the ColorLoopDirection attribute to the value of the Direction field. If the Update Time sub-field is set to 1, the device SHALL set the ColorLoopTime attribute to the value of the Time field. If the Update Start Hue sub- field is set to 1, the device SHALL set the ColorLoopStartEnhancedHue attribute to the value of the Start Hue field. If the color loop is active (and stays active), the device SHALL immediately react on updates of the ColorLoopDirection and ColorLoopTime attributes. If the Update Action sub-field of the Update Flags field is set to 1, the device SHALL adhere to the action specified in the Action field, as follows. If the value of the Action field is set to 0x00 and the color loop is active, i.e. the ColorLoopActive attribute is set to 0x01, the device SHALL de-active the color loop, set the ColorLoopActive attribute to 0x00 and set the EnhancedCurrentHue attribute to the value of the ColorLoop- StoredEnhancedHue attribute. If the value of the Action field is set to 0x00 and the color loop is inactive, i.e. the ColorLoopActive attribute is set to 0x00, the device SHALL ignore the action update component of the command. If the value of the action field is set to 0x01, the device SHALL set the ColorLoopStoredEn- hancedHue attribute to the value of the EnhancedCurrentHue attribute, set the ColorLoopActive attribute to 0x01 and activate the color loop, starting from the value of the ColorLoopStartEnhancedHue attribute. If the value of the Action field is set to 0x02, the device SHALL set the ColorLoopStoredEnhancedHue attribute to the value of the EnhancedCurrentHue attribute, set the ColorLoopActive attribute to 0x01 and activate the color loop, starting from the value of the EnhancedCurrentHue attribute. Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-32 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. If the color loop is active, the device SHALL cycle over the complete range of values of the EnhancedCur- rentHue attribute in the direction of the ColorLoopDirection attribute over the time specified in the Color- LoopTime attribute. The level of increments/decrements is application specific. 5.2.2.3.20 Stop Move Step Command The Stop Move Step command is provided to allow Move to and Step commands to be stopped. (Note this automatically provides symmetry to the Level Control cluster.) Note: the Stop Move Step command has no effect on an active color loop. The Stop Move Step command payload SHALL be formatted as illustrated in Figure 5-19. Figure 5-19. Format of the Stop Move Step Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 5.2.2.3.20.1 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.20.2 Effect on Receipt Upon receipt of this command, any Move to, Move or Step command currently in process SHALL be termi- nated. The values of the CurrentHue, EnhancedCurrentHue and CurrentSaturation attributes SHALL be left at their present value upon receipt of the Stop Move Step command, and the RemainingTime attribute SHALL be set to zero. 5.2.2.3.21 Move Color Temperature Command The Move Color Temperature command allows the color temperature of a lamp to be moved at a specified rate. The payload of this command SHALL be formatted as illustrated in Figure 5-20. 112 CCB 2814 defaults for legacy devices ",
        "71": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-32 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. If the color loop is active, the device SHALL cycle over the complete range of values of the EnhancedCur- rentHue attribute in the direction of the ColorLoopDirection attribute over the time specified in the Color- LoopTime attribute. The level of increments/decrements is application specific. 5.2.2.3.20 Stop Move Step Command The Stop Move Step command is provided to allow Move to and Step commands to be stopped. (Note this automatically provides symmetry to the Level Control cluster.) Note: the Stop Move Step command has no effect on an active color loop. The Stop Move Step command payload SHALL be formatted as illustrated in Figure 5-19. Figure 5-19. Format of the Stop Move Step Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 5.2.2.3.20.1 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.20.2 Effect on Receipt Upon receipt of this command, any Move to, Move or Step command currently in process SHALL be termi- nated. The values of the CurrentHue, EnhancedCurrentHue and CurrentSaturation attributes SHALL be left at their present value upon receipt of the Stop Move Step command, and the RemainingTime attribute SHALL be set to zero. 5.2.2.3.21 Move Color Temperature Command The Move Color Temperature command allows the color temperature of a lamp to be moved at a specified rate. The payload of this command SHALL be formatted as illustrated in Figure 5-20. 112 CCB 2814 defaults for legacy devices ",
        "75": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-32 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. If the color loop is active, the device SHALL cycle over the complete range of values of the EnhancedCur- rentHue attribute in the direction of the ColorLoopDirection attribute over the time specified in the Color- LoopTime attribute. The level of increments/decrements is application specific. 5.2.2.3.20 Stop Move Step Command The Stop Move Step command is provided to allow Move to and Step commands to be stopped. (Note this automatically provides symmetry to the Level Control cluster.) Note: the Stop Move Step command has no effect on an active color loop. The Stop Move Step command payload SHALL be formatted as illustrated in Figure 5-19. Figure 5-19. Format of the Stop Move Step Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 5.2.2.3.20.1 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.20.2 Effect on Receipt Upon receipt of this command, any Move to, Move or Step command currently in process SHALL be termi- nated. The values of the CurrentHue, EnhancedCurrentHue and CurrentSaturation attributes SHALL be left at their present value upon receipt of the Stop Move Step command, and the RemainingTime attribute SHALL be set to zero. 5.2.2.3.21 Move Color Temperature Command The Move Color Temperature command allows the color temperature of a lamp to be moved at a specified rate. The payload of this command SHALL be formatted as illustrated in Figure 5-20. 112 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-33 Figure 5-20. Format of the Move Color Temperature Command Octets Data Type map8 uint16 uint16 uint16 map8 map8 Field Name Move Mode Rate Color Temperature Minimum Mireds Color Tempera- ture Maximum Mireds Op- tionsMask OptionsOver- ride De- fault n/a n/a n/a n/a 5.2.2.3.21.1 Move Mode Field This field is identical to the Move Mode field of the Move Hue command of the Color Control cluster (see sub-clause 5.2.2.3.5). If the Move Mode field is equal to 0x00 (Stop), the Rate field SHALL be ignored.114 5.2.2.3.21.2 Rate Field The Rate field is 16-bits in length and specifies the rate of movement in steps per second. A step is a change in the color temperature of a device by one unit. If the Move Mode field is set to 0x01 (up) or 0x03 (down) and the Rate field has a value of zero, the command has no effect and a Default Response command SHALL be sent in response, with the status code set to INVALID_FIELD. If the Move Mode field is set to 0x00 (stop) the Rate field SHALL be ignored.115 5.2.2.3.21.3 Color Temperature Minimum Mireds Field The Color Temperature Minimum Mireds field is 16-bits in length and specifies a lower bound on the Color- TemperatureMireds attribute (\u2261 an upper bound on the color temperature in kelvins) for the current move operation such that: ColorTempPhysicalMinMireds \u2264 Color Temperature Minimum Mireds field \u2264 ColorTemperatureMireds As such if the move operation takes the ColorTemperatureMireds attribute towards the value of the Color Temperature Minimum Mireds field it SHALL be clipped so that the above invariant is satisfied. If the Color Temperature Minimum Mireds field is set to 0x0000, ColorTempPhysicalMinMireds SHALL be used as the lower bound for the ColorTemperatureMireds attribute. 5.2.2.3.21.4 Color Temperature Maximum Mireds Field The Color Temperature Maximum Mireds field is 16-bits in length and specifies an upper bound on the ColorTemperatureMireds attribute (\u2261 a lower bound on the color temperature in kelvins) for the current move operation such that: ColorTemperatureMireds \u2264 Color Temperature Maximum Mireds field \u2264 ColorTempPhysicalMaxMireds As such if the move operation takes the ColorTemperatureMireds attribute towards the value of the Color Temperature Maximum Mireds field it SHALL be clipped so that the above invariant is satisfied. If the Color Temperature Maximum Mireds field is set to 0x0000, ColorTempPhysicalMaxMireds SHALL be used as the upper bound for the ColorTemperatureMireds attribute. 5.2.2.3.21.5 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 113 CCB 2814 defaults for legacy devices 114 CCB 2501 115 CCB 2501 Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-34 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 5.2.2.3.21.6 Effect on Receipt On receipt of this command, a device SHALL set both the ColorMode and EnhancedColorMode attributes to 0x02. The device SHALL then move from its current color temperature in an up or down direction in a continuous fashion, as detailed in Table 5.27. Table 5.27. Actions on Receipt of the Move Color Temperature Command Move Mode Action on Receipt Stop If moving, stop the operation, else ignore the command (i.e., the command is ac- cepted but has no effect). Up Increase the ColorTemperatureMireds attribute (\u2261 decrease the color temperature in kelvins) at the rate given in the Rate field. If the ColorTemperatureMireds attrib- ute reaches the maximum allowed for the device (via either the Color Temperature Maximum Mireds field or the ColorTempPhysicalMaxMireds attribute), the move operation SHALL be stopped. Down Decrease the ColorTemperatureMireds attribute (\u2261 increase the color temperature in kelvins) at the rate given in the Rate field. If the ColorTemperatureMireds attrib- ute reaches the minimum allowed for the device (via either the Color Temperature Minimum Mireds field or the ColorTempPhysicalMinMireds attribute), the move operation SHALL be stopped. 5.2.2.3.22 Step Color Temperature Command The Step Color Temperature command allows the color temperature of a lamp to be stepped with a specified step size. The payload of this command SHALL be formatted as illustrated in Figure 5-21. Figure 5-21. Format of the Step Color Temperature Command Oc- tets Data Type map8 uint16 uint16 uint16 uint16 map8 map8 Field Name Step Mode Step Size Transi- tion Time Color Temperature Minimum Mireds Color Tempera- ture Maximum Mireds Options Mask Options Over- ride De- fault n/a n/a n/a n/a n/a 5.2.2.3.22.1 Step Mode Field This field is identical to the Step Mode field of the Step Hue command of the Color Control cluster (see sub- clause 5.2.2.3.6). 5.2.2.3.22.2 Step Size Field The Step Size field is 16-bits in length and specifies the change to be added to (or subtracted from) the current value of the device\u2019s color temperature. 116 CCB 2814 defaults for legacy devices ",
        "76": "Chapter 5 ZigBee Cluster Library Specification Lighting ZigBee Document \u2013 075123 Page 5-34 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 5.2.2.3.21.6 Effect on Receipt On receipt of this command, a device SHALL set both the ColorMode and EnhancedColorMode attributes to 0x02. The device SHALL then move from its current color temperature in an up or down direction in a continuous fashion, as detailed in Table 5.27. Table 5.27. Actions on Receipt of the Move Color Temperature Command Move Mode Action on Receipt Stop If moving, stop the operation, else ignore the command (i.e., the command is ac- cepted but has no effect). Up Increase the ColorTemperatureMireds attribute (\u2261 decrease the color temperature in kelvins) at the rate given in the Rate field. If the ColorTemperatureMireds attrib- ute reaches the maximum allowed for the device (via either the Color Temperature Maximum Mireds field or the ColorTempPhysicalMaxMireds attribute), the move operation SHALL be stopped. Down Decrease the ColorTemperatureMireds attribute (\u2261 increase the color temperature in kelvins) at the rate given in the Rate field. If the ColorTemperatureMireds attrib- ute reaches the minimum allowed for the device (via either the Color Temperature Minimum Mireds field or the ColorTempPhysicalMinMireds attribute), the move operation SHALL be stopped. 5.2.2.3.22 Step Color Temperature Command The Step Color Temperature command allows the color temperature of a lamp to be stepped with a specified step size. The payload of this command SHALL be formatted as illustrated in Figure 5-21. Figure 5-21. Format of the Step Color Temperature Command Oc- tets Data Type map8 uint16 uint16 uint16 uint16 map8 map8 Field Name Step Mode Step Size Transi- tion Time Color Temperature Minimum Mireds Color Tempera- ture Maximum Mireds Options Mask Options Over- ride De- fault n/a n/a n/a n/a n/a 5.2.2.3.22.1 Step Mode Field This field is identical to the Step Mode field of the Step Hue command of the Color Control cluster (see sub- clause 5.2.2.3.6). 5.2.2.3.22.2 Step Size Field The Step Size field is 16-bits in length and specifies the change to be added to (or subtracted from) the current value of the device\u2019s color temperature. 116 CCB 2814 defaults for legacy devices ZigBee Cluster Library Specification Chapter 5 ZigBee Document \u2013 075123 Lighting Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 5-35 5.2.2.3.22.3 Transition Time Field The Transition Time field is 16-bits in length and specifies, in units of 1/10ths of a second, the time that SHALL be taken to perform the step. A step is a change to the device\u2019s color temperature of a magnitude corresponding to the Step Size field. 5.2.2.3.22.4 Color Temperature Minimum Mireds Field The Color Temperature Minimum Mireds field is 16-bits in length and specifies a lower bound on the Color- TemperatureMireds attribute (\u2261 an upper bound on the color temperature in kelvins) for the current step operation such that: ColorTempPhysicalMinMireds \u2264 Color Temperature Minimum Mireds field \u2264 ColorTemperatureMireds As such if the step operation takes the ColorTemperatureMireds attribute towards the value of the Color Temperature Minimum Mireds field it SHALL be clipped so that the above invariant is satisfied. If the Color Temperature Minimum Mireds field is set to 0x0000, ColorTempPhysicalMinMireds SHALL be used as the lower bound for the ColorTemperatureMireds attribute. 5.2.2.3.22.5 Color Temperature Maximum Mireds Field The Color Temperature Maximum Mireds field is 16-bits in length and specifies an upper bound on the ColorTemperatureMireds attribute (\u2261 a lower bound on the color temperature in kelvins) for the current step operation such that: ColorTemperatureMireds \u2264 Color Temperature Maximum Mireds field \u2264 ColorTempPhysicalMaxMireds As such if the step operation takes the ColorTemperatureMireds attribute towards the value of the Color Temperature Maximum Mireds field it SHALL be clipped so that the above invariant is satisfied. If the Color Temperature Maximum Mireds field is set to 0x0000, ColorTempPhysicalMaxMireds SHALL be used as the upper bound for the ColorTemperatureMireds attribute. 5.2.2.3.22.6 OptionsMask and OptionsOverride fields The OptionsMask and OptionsOverride fields SHALL be processed according to section 5.2.2.3.3. 5.2.2.3.22.7 Effect on Receipt On receipt of this command, a device SHALL set both the ColorMode and EnhancedColorMode attributes to 0x02. The device SHALL then move from its current color temperature in an up or down direction by one step, as detailed in Table 5.28. Table 5.28. Actions on Receipt of the Step Color Temperature Command Move Mode Action on Receipt Up Increase the ColorTemperatureMireds attribute (\u2261 decrease the color temperature in kelvins) by one step. If the ColorTemperatureMireds attribute reaches the maxi- mum allowed for the device (via either the Color Temperature Maximum Mireds field or the ColorTempPhysicalMaxMireds attribute), the step operation SHALL be stopped. Down Decrease the ColorTemperatureMireds attribute (\u2261 increase the color temperature in kelvins) by one step. If the ColorTemperatureMireds attribute reaches the minimum allowed for the device (via either the Color Temperature Minimum Mireds field or the ColorTempPhysicalMinMireds attribute), the step operation SHALL be stopped. 5.2.2.4 Commands Generated The server generates no cluster specific commands "
    },
    "513": {
        "0": "Chapter 6 ZigBee Cluster Library Specification HVAC ZigBee Document \u2013 075123 Page 6-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Table 6-35. Command IDs for the Thermostat Cluster Command Identifier Field Value Description M/O 0x00 Setpoint Raise/Lower M 0x01 Set Weekly Schedule O 0x02 Get Weekly Schedule O 0x03 Clear Weekly Schedule O 0x04 Get Relay Status Log O 6.3.2.3.1 Setpoint Raise/Lower Command 6.3.2.3.1.1 Payload Format The Setpoint Raise/Lower command payload SHALL be formatted as illustrated in Figure 6-4Format of the Setpoint Raise/Lower Command Payload. Figure 6-4. Format of the Setpoint Raise/Lower Command Payload Bits Data Type enum8 int8 Field Name Mode Amount 6.3.2.3.1.2 Mode Field The mode field SHALL be set to one of the non-reserved values in Table 6-36. It specifies which setpoint is to be configured. If it is set to auto, then both setpoints SHALL be adjusted. Table 6-36. Mode Field Values for Setpoint Raise/Lower Command Mode Field Value Description 0x00 Heat (adjust Heat Setpoint) 0x01 Cool (adjust Cool Setpoint) 0x02 Both (adjust Heat Setpoint and Cool Set- point) 6.3.2.3.1.3 Amount Field The amount field is a signed 8-bit integer that specifies the amount the setpoint(s) are to be increased (or decreased) by, in steps of 0.1\u00b0C. 6.3.2.3.1.4 Effect on Receipt The attributes for the indicated setpoint(s) SHALL be increased by the amount specified in the Amount field. 6.3.2.3.2 Set Weekly Schedule Command 6.3.2.3.2.1 Payload Format ",
        "1": "Chapter 6 ZigBee Cluster Library Specification HVAC ZigBee Document \u2013 075123 Page 6-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Table 6-35. Command IDs for the Thermostat Cluster Command Identifier Field Value Description M/O 0x00 Setpoint Raise/Lower M 0x01 Set Weekly Schedule O 0x02 Get Weekly Schedule O 0x03 Clear Weekly Schedule O 0x04 Get Relay Status Log O 6.3.2.3.1 Setpoint Raise/Lower Command 6.3.2.3.1.1 Payload Format The Setpoint Raise/Lower command payload SHALL be formatted as illustrated in Figure 6-4Format of the Setpoint Raise/Lower Command Payload. Figure 6-4. Format of the Setpoint Raise/Lower Command Payload Bits Data Type enum8 int8 Field Name Mode Amount 6.3.2.3.1.2 Mode Field The mode field SHALL be set to one of the non-reserved values in Table 6-36. It specifies which setpoint is to be configured. If it is set to auto, then both setpoints SHALL be adjusted. Table 6-36. Mode Field Values for Setpoint Raise/Lower Command Mode Field Value Description 0x00 Heat (adjust Heat Setpoint) 0x01 Cool (adjust Cool Setpoint) 0x02 Both (adjust Heat Setpoint and Cool Set- point) 6.3.2.3.1.3 Amount Field The amount field is a signed 8-bit integer that specifies the amount the setpoint(s) are to be increased (or decreased) by, in steps of 0.1\u00b0C. 6.3.2.3.1.4 Effect on Receipt The attributes for the indicated setpoint(s) SHALL be increased by the amount specified in the Amount field. 6.3.2.3.2 Set Weekly Schedule Command 6.3.2.3.2.1 Payload Format ZigBee Cluster Library Specification Chapter 6 ZigBee Document \u2013 075123 HVAC Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 6-31 The set weekly schedule command payload SHALL be formatted as shown in Figure 6-5 and Figure 6-6. Figure 6-5. Set Weekly Schedule Command Payload Format (1 of 2) Octets 1(Header) 1(Header) 1(Header) 2/0 2/0 Data Type uint8131 map8 map8 uint16 int16 int16 Field Name Number of Transitions for Sequence Day of Week for Sequence Mode for Se- quence Transition Time 1 Heat Set Point 1 Cool Set Point 1 Figure 6-6. Set Weekly Schedule Command Payload Format (2 of 2) Octets Variable 2/0 2/0 Data Type -- uint16 int16 int16 Field Name -- Transition Time 10 Heat Set Point 10 Cool Set Point 10 The set weekly schedule command is used to update the thermostat weekly set point schedule from a man- agement system. If the thermostat already has a weekly set point schedule programmed then it SHOULD replace each daily set point set as it receives the updates from the management system. For example if the thermostat has 4 set points for every day of the week and is sent a Set Weekly Schedule command with one set point for Saturday then the thermostat SHOULD remove all 4 set points for Saturday and replace those with the updated set point but leave all other days unchanged. If the schedule is larger than what fits in one frame or contains more than 10 transitions, the schedule SHALL then be sent using multiple Set Weekly Schedule Commands. Each Set Weekly Schedule Command has 3 header bytes \u2013 Number of Transitions for Sequence, Day of Week for Sequence, and Mode for Sequence. The application SHALL decode the payload according to what has specified in the 3 header bytes. 6.3.2.3.2.2 Number of Transitions for Sequence The Number of Transitions for Sequence field indicates how many individual transitions to expect for this sequence of commands. If a device supports more than 10 transitions in its schedule they can send this by sending more than 1 \u201cSet Weekly Schedule\u201d command, each containing the separate information that the device needs to set. 6.3.2.3.2.3 Day of Week for Sequence This field represents the day of the week at which all the transitions within the payload of the command SHOULD be associated to. This field is a bitmap and therefore the associated set point could overlap onto multiple days (you could set one transition time for all \u201cweek days\u201d or whatever combination of days the implementation requests). Table 6-37 displays the bitmap values. Table 6-37. Day Of Week for Sequence Values Bit Number Description Sunday Monday Tuesday 131 CCB 3029 Chapter 6 ZigBee Cluster Library Specification HVAC ZigBee Document \u2013 075123 Page 6-32 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Bit Number Description Wednesday Thursday Friday Saturday Away or Vacation Each set point transition will begin with the day of week for this transition. There can be up to 10 transitions for each command. 6.3.2.3.2.4 Mode for Sequence This field determines how the application SHALL decode the Set Point Fields of each transition for the remaining of the command. This field is a bitmap and the values are presented in Table 6-38. Table 6-38. Mode for Sequence Values Bit Number Description Heat Setpoint Field Present in Payload Cool Setpoint Field Present in Payload If the Heat Bit is On and the Cool Bit is Off, the Command SHALL be represented as in Figure 6-7 and Figure 6-8. Figure 6-7. Set Heat Weekly Schedule Command Payload Format (1 of 2) Octets 1(Header) 1(Header) 1(Header) Data Type enum8 map8 map8 uint16 int16 Field Name Number of Transi- tions for Sequence Day of Week for Sequence 0x01 (Heat) Transition Time 1 Heat Set Point 1 Figure 6-8. Set Heat Weekly Schedule Command Payload Format (2 of 2) Octets Variable Data Type -- uint16 int16 Field Name -- Transition Time 10 Heat Set Point 10 If the Heat Bit is Off and the Cool Bit is On, the Command SHALL be represented as in Figure 6-9 and Figure 6-10. ZigBee Cluster Library Specification Chapter 6 ZigBee Document \u2013 075123 HVAC Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 6-33 Figure 6-9. Set Cool Weekly Schedule Command Payload Format (1 of 2) Octets 1(Header) 1(Header) 1(Header) Data Type enum8 map8 map8 uint16 int16 Field Name Number of Transi- tions for Sequence Day of Week for Sequence 0x02 (Cool) Transition Time 1 Cool Set Point 1 Figure 6-10. Set Cool Weekly Schedule Command Payload Format (2 of 2) Octets Variable Data Type -- uint16 int16 Field Name -- Transition Time 10 Cool Set Point 10 If both the Heat Bit and the Cool Bit are On, the Command SHALL be represented as in Figure 6-11 and Figure 6-12. Figure 6-11. Set Heat & Cool Weekly Schedule Command Payload Format (1 of 2) Octets 1(Header) 1(Header) 1(Header) Data Type enum8 map8 map8 uint16 int16 int16 Field Name Number of Transitions for Sequence Day of Week for Sequence 0x03 (Heat & Cool) Transition Time 1 Heat Set Point 1 Cool Set Point 1 Figure 6-12. Set Heat & Cool Weekly Schedule Command Payload Format (2 of 2) Octets Variable Data Type -- uint16 int16 int16 Field Name -- Transition Time 10 Heat Set Point 10 Cool Set Point 10 At least one of the bits in the Mode For Sequence byte SHALL be on. 6.3.2.3.2.5 Transition Time Field This field represents the start time of the schedule transition during the associated day. The time will be represented by a 16 bits unsigned integer to designate the minutes since midnight. For example, 6am will be represented by 0x0168 (360 minutes since midnight) and 11:30pm will be represented by 0x0582 (1410 minutes since midnight) 6.3.2.3.2.6 Heat Set Point Field If the heat bit is enabled in the Mode For Sequence byte, this field represents the heat setpoint to be applied at this associated transition start time. The format of this attribute represents the temperature in degrees Cel- sius with 0.01 deg C resolution. 6.3.2.3.2.7 Cool Set Point Field Chapter 6 ZigBee Cluster Library Specification HVAC ZigBee Document \u2013 075123 Page 6-34 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. If the cool bit is enabled in the Mode For Sequence byte, this field represents the cool setpoint to be applied at this associated transition start time. The format of this attribute represents the temperature in degrees Cel- sius with 0.01 deg C resolution. 6.3.2.3.2.8 Effect on Receipt The weekly schedule for updating set points SHALL be stored in the thermostat and SHOULD begin at the time of receipt. A default response SHALL always be sent as a response. If the total number of transitions sent is greater than what the thermostat supports a default response of INSUFFICIENT_SPACE (0x89) SHALL be sent in response to the last command sent for that transition sequence. If any of the set points sent in the entire sequence is out of range of what the thermostat supports (AbsMin/MaxSetPointLimit) then a default response of INVALID_VALUE (0x87) SHALL be sent in return and the no set points from the entire sequence SHOULD be used. If the transitions could be added successfully a default response of SUC- CESS(0x00) SHALL be sent. Overlapping transitions is not allowed. If an overlap is detected and a default response of FAILURE(0x01) SHALL be sent. The Day of Week for Sequence and Mode for Sequence fields are defined as bitmask for the flexibility to support multiple days and multiple modes within one command. If thermostat cannot handle incoming command with multiple days and/or multiple modes within one com- mand, it SHALL send default response of INVALID_FIELD (0x85) in return. 6.3.2.3.3 Get Weekly Schedule Figure 6-13. Format of the Get Weekly Schedule Command Payload Octets Data Type map8 map8 Field Name Days To Return Mode To Return 6.3.2.3.3.1 Days To Return This field indicates the number of days the client would like to return the set point values for and could be any combination of single days or the entire week. This field has the same format as the Day of Week for Sequence field in the Set Weekly Schedule command. 6.3.2.3.3.2 Mode To Return This field indicates the mode the client would like to return the set point values for and could be any combi- nation of heat only, cool only or heat&cool. This field has the same format as the Mode for Sequence field in the Set Weekly Schedule command. 6.3.2.3.3.3 Effect on Receipt When this command is received the unit SHOULD send in return the Get Weekly Schedule Response com- mand. The Days to Return and Mode to Return fields are defined as bitmask for the flexibility to support multiple days and multiple modes within one command. If thermostat cannot handle incoming command with multiple days and/or multiple modes within one command, it SHALL send default response of INVA- LID_FIELD (0x85) in return. 6.3.2.3.4 Clear Weekly Schedule The Clear Weekly Schedule command is used to clear the weekly schedule. The Clear weekly schedule has no payload. 6.3.2.3.4.1 Effect on Receipt ",
        "2": "Chapter 6 ZigBee Cluster Library Specification HVAC ZigBee Document \u2013 075123 Page 6-34 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. If the cool bit is enabled in the Mode For Sequence byte, this field represents the cool setpoint to be applied at this associated transition start time. The format of this attribute represents the temperature in degrees Cel- sius with 0.01 deg C resolution. 6.3.2.3.2.8 Effect on Receipt The weekly schedule for updating set points SHALL be stored in the thermostat and SHOULD begin at the time of receipt. A default response SHALL always be sent as a response. If the total number of transitions sent is greater than what the thermostat supports a default response of INSUFFICIENT_SPACE (0x89) SHALL be sent in response to the last command sent for that transition sequence. If any of the set points sent in the entire sequence is out of range of what the thermostat supports (AbsMin/MaxSetPointLimit) then a default response of INVALID_VALUE (0x87) SHALL be sent in return and the no set points from the entire sequence SHOULD be used. If the transitions could be added successfully a default response of SUC- CESS(0x00) SHALL be sent. Overlapping transitions is not allowed. If an overlap is detected and a default response of FAILURE(0x01) SHALL be sent. The Day of Week for Sequence and Mode for Sequence fields are defined as bitmask for the flexibility to support multiple days and multiple modes within one command. If thermostat cannot handle incoming command with multiple days and/or multiple modes within one com- mand, it SHALL send default response of INVALID_FIELD (0x85) in return. 6.3.2.3.3 Get Weekly Schedule Figure 6-13. Format of the Get Weekly Schedule Command Payload Octets Data Type map8 map8 Field Name Days To Return Mode To Return 6.3.2.3.3.1 Days To Return This field indicates the number of days the client would like to return the set point values for and could be any combination of single days or the entire week. This field has the same format as the Day of Week for Sequence field in the Set Weekly Schedule command. 6.3.2.3.3.2 Mode To Return This field indicates the mode the client would like to return the set point values for and could be any combi- nation of heat only, cool only or heat&cool. This field has the same format as the Mode for Sequence field in the Set Weekly Schedule command. 6.3.2.3.3.3 Effect on Receipt When this command is received the unit SHOULD send in return the Get Weekly Schedule Response com- mand. The Days to Return and Mode to Return fields are defined as bitmask for the flexibility to support multiple days and multiple modes within one command. If thermostat cannot handle incoming command with multiple days and/or multiple modes within one command, it SHALL send default response of INVA- LID_FIELD (0x85) in return. 6.3.2.3.4 Clear Weekly Schedule The Clear Weekly Schedule command is used to clear the weekly schedule. The Clear weekly schedule has no payload. 6.3.2.3.4.1 Effect on Receipt ",
        "4": "ZigBee Cluster Library Specification Chapter 6 ZigBee Document \u2013 075123 HVAC Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 6-35 When this command is received, all transitions currently stored SHALL be cleared and a default response of SUCCESS (0x00) SHALL be sent in response. There are no error responses to this command. 6.3.2.3.5 Get Relay Status Log The Get Relay Status Log command is used to query the thermostat internal relay status log. This command has no payload. The log storing order is First in First Out (FIFO) when the log is generated and stored into the Queue. The first record in the log (i.e., the oldest) one, is the first to be replaced when there is a new record and there is no more space in the log. Thus, the newest record will overwrite the oldest one if there is no space left. The log storing order is Last In First Out (LIFO) when the log is being retrieved from the Queue by a client device. Once the \"Get Relay Status Log Response\" frame is sent by the Server, the \"Unread Entries\" attribute SHOULD be decremented to indicate the number of unread records that remain in the queue. If the \"Unread Entries\" attribute reaches zero and the Client sends a new \"Get Relay Status Log Request\", the Server MAY send one of the following items as a response: i) resend the last Get Relay Status Log Response or ii) generate new log record at the time of request and send Get Relay Status Log Response with the new data For both cases, the \"Unread Entries\" attribute will remain zero. 6.3.2.3.5.1 Effect on Receipt When this command is received, the unit SHALL respond with Relay Status Log command if the relay status log feature is supported on the unit. 6.3.2.4 Server Commands Sent Table 6-39 shows the command sent by the server (received by the client). Table 6-39. Server Commands Send Command ID Command Identifier Field Value Description 0x00 Get Weekly Schedule Response 0x01 Get Relay Status Log Response 6.3.2.4.1 Get Weekly Schedule Response This command has the same payload format as the Set Weekly Schedule. Please refer to the payload detail in Section Set Weekly Schedule Command, Set Weekly Schedule Command, in this chapter. "
    },
    "257": {
        "0": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-20 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Command ID Description M/O 0x09 Set User Status O 0x0A Get User Status O 0x0B Set Weekday Schedule O 0x0C Get Weekday Schedule O 0x0D Clear Weekday Schedule O 0x0E Set Year Day Schedule O 0x0F Get Year Day Schedule O 0x10 Clear Year Day Schedule O 0x11 Set Holiday Schedule O 0x12 Get Holiday Schedule O 0x13 Clear Holiday Schedule O 0x14 Set User Type O 0x15 Get User Type O 0x16 Set RFID Code O 0x17 Get RFID Code O 0x18 Clear RFID Code O 0x19 Clear All RFID Codes O 7.3.2.15.1 Lock Door Command This command causes the lock device to lock the door. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a PIN depending on the value of the [Require PIN for RF Operation attribute]. ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-21 Figure 7-3. Format of the Lock Door Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.2 Unlock Door Command This command causes the lock device to unlock the door. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a code depending on the value of the [Require PIN for RF Operation attribute]. Note: If the attribute AutoRelockTime is supported the lock will close when the auto relock time has expired. Figure 7-4. Format of the Unlock Door Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.3 Toggle Command Request the status of the lock. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a code depending on the value of the [Require PIN for RF Operation attribute]. Figure 7-5. Format of the Toggle Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.4 Unlock with Timeout Command This command causes the lock device to unlock the door with a timeout parameter. After the time in seconds specified in the timeout field, the lock device will relock itself automatically. This timeout parameter is only temporary for this message transition only and overrides the default relock time as specified in the [Auto Relock Time attribute] attribute. If the door lock device is not capable of or does not want to support tempo- rary Relock Timeout, it SHOULD not support this optional command. ",
        "1": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-21 Figure 7-3. Format of the Lock Door Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.2 Unlock Door Command This command causes the lock device to unlock the door. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a code depending on the value of the [Require PIN for RF Operation attribute]. Note: If the attribute AutoRelockTime is supported the lock will close when the auto relock time has expired. Figure 7-4. Format of the Unlock Door Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.3 Toggle Command Request the status of the lock. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a code depending on the value of the [Require PIN for RF Operation attribute]. Figure 7-5. Format of the Toggle Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.4 Unlock with Timeout Command This command causes the lock device to unlock the door with a timeout parameter. After the time in seconds specified in the timeout field, the lock device will relock itself automatically. This timeout parameter is only temporary for this message transition only and overrides the default relock time as specified in the [Auto Relock Time attribute] attribute. If the door lock device is not capable of or does not want to support tempo- rary Relock Timeout, it SHOULD not support this optional command. ",
        "2": "Zigbee Cluster Library Specification Chapter 3 General Zigbee Alliance Document \u2013 075123 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. Page 3-65 3.8.2.3.1.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018Off\u2019 state. This state is device dependent, but it is recommended that it is used for power off or similar functions. On receipt of the Off command, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.2 On Command This command does not have a payload. 3.8.2.3.2.1 Effect on Receipt On receipt of this command, a device SHALL enter its \u2018On\u2019 state. This state is device dependent, but it is recommended that it is used for power on or similar functions. On receipt of the On command, if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. 3.8.2.3.3 Toggle Command This command does not have a payload. 3.8.2.3.3.1 Effect on Receipt On receipt of this command, if a device is in its \u2018Off\u2019 state it SHALL enter its \u2018On\u2019 state. Otherwise, if it is in its \u2018On\u2019 state it SHALL enter its \u2018Off\u2019 state. On receipt of the Toggle command, if the value of the OnOff attribute is equal to 0x00 and if the value of the OnTime attribute is equal to 0x0000, the device SHALL set the OffWaitTime attribute to 0x0000. If the value of the OnOff attribute is equal to 0x01, the OnTime attribute SHALL be set to 0x0000. 3.8.2.3.4 Off With Effect Command The Off With Effect command allows devices to be turned off using enhanced ways of fading. The payload of this command SHALL be formatted as illustrated in Figure 3-36. Figure 3-36. Format of the Off With Effect Command Octets Data Type uint8 uint8 Field Name Effect identifier Effect variant 3.8.2.3.4.1 Effect Identifier Field The Effect Identifier field is 8-bits in length and specifies the fading effect to use when switching the device off. This field SHALL contain one of the non-reserved values listed in Table 3-48. Table 3-48. Values of the Effect Identifier Field of the Off With Effect Command Effect Identifier Field Value Description 0x00 Delayed All Off 0x01 Dying Light 0x02 to 0xff Reserved ",
        "3": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-21 Figure 7-3. Format of the Lock Door Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.2 Unlock Door Command This command causes the lock device to unlock the door. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a code depending on the value of the [Require PIN for RF Operation attribute]. Note: If the attribute AutoRelockTime is supported the lock will close when the auto relock time has expired. Figure 7-4. Format of the Unlock Door Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.3 Toggle Command Request the status of the lock. As of HA 1.2, this command includes an optional code for the lock. The door lock MAY require a code depending on the value of the [Require PIN for RF Operation attribute]. Figure 7-5. Format of the Toggle Command Octets Variable Data Type octstr Field Name PIN/RFID Code 7.3.2.15.4 Unlock with Timeout Command This command causes the lock device to unlock the door with a timeout parameter. After the time in seconds specified in the timeout field, the lock device will relock itself automatically. This timeout parameter is only temporary for this message transition only and overrides the default relock time as specified in the [Auto Relock Time attribute] attribute. If the door lock device is not capable of or does not want to support tempo- rary Relock Timeout, it SHOULD not support this optional command. Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-22 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-6. Format of the Unlock with Timeout Command Octets Variable Data Type uint16 octstr Field Name Timeout in seconds PIN/RFID Code 7.3.2.15.5 Get Log Record Command Request a log record. Log number is between 1 \u2013 [Number of Log Records Supported attribute]. If log number 0 is requested then the most recent log entry is returned. Figure 7-7. Format of the Get Log Record Command Octets Data Type uint16 Field Name Log Index Log record format: The log record format is defined in the description of the Get Log Record Response command. 7.3.2.15.6 User Status and User Type Values The following User Status and User Type values are used in the payload of multiple commands: User Status: Used to indicate what the status is for a specific user ID. Table 7-24. User Status Value Enum Description Available Occupied / Enabled Occupied / Disabled 0xff Not Supported User Type: Used to indicate what the type is for a specific user ID. Table 7-25. User Type Value Enum Description Unrestricted User (default) ",
        "4": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-22 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-6. Format of the Unlock with Timeout Command Octets Variable Data Type uint16 octstr Field Name Timeout in seconds PIN/RFID Code 7.3.2.15.5 Get Log Record Command Request a log record. Log number is between 1 \u2013 [Number of Log Records Supported attribute]. If log number 0 is requested then the most recent log entry is returned. Figure 7-7. Format of the Get Log Record Command Octets Data Type uint16 Field Name Log Index Log record format: The log record format is defined in the description of the Get Log Record Response command. 7.3.2.15.6 User Status and User Type Values The following User Status and User Type values are used in the payload of multiple commands: User Status: Used to indicate what the status is for a specific user ID. Table 7-24. User Status Value Enum Description Available Occupied / Enabled Occupied / Disabled 0xff Not Supported User Type: Used to indicate what the type is for a specific user ID. Table 7-25. User Type Value Enum Description Unrestricted User (default) ",
        "5": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-23 Enum Description Year Day Schedule User Week Day Schedule User Master User Non Access User 0xff Not Supported Unrestricted: User has access 24/7 provided proper PIN is supplied (e.g., owner). Unrestricted user type is the default user type. Year Day Schedule User: User has ability to open lock within a specific time period (e.g., guest). Week Day Schedule User: User has ability to open lock based on specific time period within a reoccurring weekly schedule (e.g., cleaning worker). Master User: User has ability to both program and operate the door lock. This user can manage the users and user schedules. In all other respects this user matches the unrestricted (default) user. Master user is the only user that can disable the user interface (keypad, RF, etc\u2026). Non Access User: User is recognized by the lock but does not have the ability to open the lock. This user will only cause the lock to generate the appropriate event notification to any bound devices. 7.3.2.15.7 Set PIN Code Command Set a PIN into the lock. Figure 7-8. Format of the Set PIN Code Command Octets Variable Data Type uint16 uint8 enum8 octstr Field Name User ID User Status User Type PIN User ID is between 0 - [# of PIN Users Supported attribute]. Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for User Status. 7.3.2.15.8 Get PIN Code Command Retrieve a PIN Code. User ID is between 0 - [# of PIN Users Supported attribute]. ",
        "6": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-23 Enum Description Year Day Schedule User Week Day Schedule User Master User Non Access User 0xff Not Supported Unrestricted: User has access 24/7 provided proper PIN is supplied (e.g., owner). Unrestricted user type is the default user type. Year Day Schedule User: User has ability to open lock within a specific time period (e.g., guest). Week Day Schedule User: User has ability to open lock based on specific time period within a reoccurring weekly schedule (e.g., cleaning worker). Master User: User has ability to both program and operate the door lock. This user can manage the users and user schedules. In all other respects this user matches the unrestricted (default) user. Master user is the only user that can disable the user interface (keypad, RF, etc\u2026). Non Access User: User is recognized by the lock but does not have the ability to open the lock. This user will only cause the lock to generate the appropriate event notification to any bound devices. 7.3.2.15.7 Set PIN Code Command Set a PIN into the lock. Figure 7-8. Format of the Set PIN Code Command Octets Variable Data Type uint16 uint8 enum8 octstr Field Name User ID User Status User Type PIN User ID is between 0 - [# of PIN Users Supported attribute]. Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for User Status. 7.3.2.15.8 Get PIN Code Command Retrieve a PIN Code. User ID is between 0 - [# of PIN Users Supported attribute]. Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-9. Format of the Get PIN Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.9 Clear PIN Code Command Delete a PIN. User ID is between 0 - [# of PIN Users Supported attribute]. Figure 7-10. Format of the Clear PIN Code Command Octets Data Type uint16 Field Name User ID Note: If you delete a PIN Code and this user didn't have a RFID Code, the user status is set to \"0 Available\", the user type is set to the default value and all schedules are also set to the default values. 7.3.2.15.10 Clear All PIN Codes Command Clear out all PINs on the lock. Note: On the server, the clear all PIN codes command SHOULD have the same effect as the Clear PIN Code command with respect to the setting of user status, user type and schedules. 7.3.2.15.11 Set User Status Command Set the status of a user ID. User Status value of 0x00 is not allowed. In order to clear a user id, the Clear ID Command SHALL be used. For user status value please refer to User Status Value. Figure 7-11. Format of the Set User Status Command Octets Data Type uint16 uint8 Field Name User ID User Status 7.3.2.15.12 Get User Status Command Get the status of a user. ",
        "7": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-9. Format of the Get PIN Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.9 Clear PIN Code Command Delete a PIN. User ID is between 0 - [# of PIN Users Supported attribute]. Figure 7-10. Format of the Clear PIN Code Command Octets Data Type uint16 Field Name User ID Note: If you delete a PIN Code and this user didn't have a RFID Code, the user status is set to \"0 Available\", the user type is set to the default value and all schedules are also set to the default values. 7.3.2.15.10 Clear All PIN Codes Command Clear out all PINs on the lock. Note: On the server, the clear all PIN codes command SHOULD have the same effect as the Clear PIN Code command with respect to the setting of user status, user type and schedules. 7.3.2.15.11 Set User Status Command Set the status of a user ID. User Status value of 0x00 is not allowed. In order to clear a user id, the Clear ID Command SHALL be used. For user status value please refer to User Status Value. Figure 7-11. Format of the Set User Status Command Octets Data Type uint16 uint8 Field Name User ID User Status 7.3.2.15.12 Get User Status Command Get the status of a user. ",
        "8": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-9. Format of the Get PIN Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.9 Clear PIN Code Command Delete a PIN. User ID is between 0 - [# of PIN Users Supported attribute]. Figure 7-10. Format of the Clear PIN Code Command Octets Data Type uint16 Field Name User ID Note: If you delete a PIN Code and this user didn't have a RFID Code, the user status is set to \"0 Available\", the user type is set to the default value and all schedules are also set to the default values. 7.3.2.15.10 Clear All PIN Codes Command Clear out all PINs on the lock. Note: On the server, the clear all PIN codes command SHOULD have the same effect as the Clear PIN Code command with respect to the setting of user status, user type and schedules. 7.3.2.15.11 Set User Status Command Set the status of a user ID. User Status value of 0x00 is not allowed. In order to clear a user id, the Clear ID Command SHALL be used. For user status value please refer to User Status Value. Figure 7-11. Format of the Set User Status Command Octets Data Type uint16 uint8 Field Name User ID User Status 7.3.2.15.12 Get User Status Command Get the status of a user. ",
        "9": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-9. Format of the Get PIN Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.9 Clear PIN Code Command Delete a PIN. User ID is between 0 - [# of PIN Users Supported attribute]. Figure 7-10. Format of the Clear PIN Code Command Octets Data Type uint16 Field Name User ID Note: If you delete a PIN Code and this user didn't have a RFID Code, the user status is set to \"0 Available\", the user type is set to the default value and all schedules are also set to the default values. 7.3.2.15.10 Clear All PIN Codes Command Clear out all PINs on the lock. Note: On the server, the clear all PIN codes command SHOULD have the same effect as the Clear PIN Code command with respect to the setting of user status, user type and schedules. 7.3.2.15.11 Set User Status Command Set the status of a user ID. User Status value of 0x00 is not allowed. In order to clear a user id, the Clear ID Command SHALL be used. For user status value please refer to User Status Value. Figure 7-11. Format of the Set User Status Command Octets Data Type uint16 uint8 Field Name User ID User Status 7.3.2.15.12 Get User Status Command Get the status of a user. ",
        "10": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-24 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-9. Format of the Get PIN Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.9 Clear PIN Code Command Delete a PIN. User ID is between 0 - [# of PIN Users Supported attribute]. Figure 7-10. Format of the Clear PIN Code Command Octets Data Type uint16 Field Name User ID Note: If you delete a PIN Code and this user didn't have a RFID Code, the user status is set to \"0 Available\", the user type is set to the default value and all schedules are also set to the default values. 7.3.2.15.10 Clear All PIN Codes Command Clear out all PINs on the lock. Note: On the server, the clear all PIN codes command SHOULD have the same effect as the Clear PIN Code command with respect to the setting of user status, user type and schedules. 7.3.2.15.11 Set User Status Command Set the status of a user ID. User Status value of 0x00 is not allowed. In order to clear a user id, the Clear ID Command SHALL be used. For user status value please refer to User Status Value. Figure 7-11. Format of the Set User Status Command Octets Data Type uint16 uint8 Field Name User ID User Status 7.3.2.15.12 Get User Status Command Get the status of a user. ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-25 Figure 7-12. Format of the Get User Status Command Octets Data Type uint16 Field Name User ID 7.3.2.15.13 Set Week Day Schedule Command Set a weekly repeating schedule for a specified user. Figure 7-13. Format of the Set Week Day Schedule Command Octets Data Type uint8 uint16 map8 uint8 uint8 uint8 uint8 Field Name Schedule ID # User ID Days Mask Start Hour Start Minute End Hour End Minute Schedule ID: number is between 0 \u2013 [# of Week Day Schedules Per User attribute]. User ID: is between 0 \u2013 [# of Total Users Supported attribute]. Days Mask: bitmask of the effective days in the order XSFTWTMS. Figure 7-14. Format of Days Mask Bits Reserved Sat Fri Thur Wed Tue Mon Sun Days mask is listed as bitmask for flexibility to set same schedule across multiple days. For the door lock that does not support setting schedule across multiple days within one command, it SHOULD respond with ZCL INVALID_FIELD (0x85) status when received the set schedule command days bitmask field has mul- tiple days selected. Start Hour: in decimal format represented by 0x00 \u2013 0x17 (00 to 23 hours). Start Minute: in decimal format represented by 0x00 \u2013 0x3B (00 to 59 mins). End Hour: in decimal format represented by 0x00 \u2013 0x17 (00 to 23 hours). End Hour SHALL be equal or greater than Start Hour. End Minute: in decimal format represented by 0x00 \u2013 0x3B (00 to 59 mins). If End Hour is equal with Start Hour, End Minute SHALL be greater than Start Minute. When the Server Device receives the command, the Server Device MAY change the user type to the specific schedule user type. Please refer to section 7.3.2.5, Process for Creating a New User with Schedule, at the beginning of this cluster. 7.3.2.15.14 Get Week Day Schedule Command Retrieve the specific weekly schedule for the specific user. ",
        "11": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-25 Figure 7-12. Format of the Get User Status Command Octets Data Type uint16 Field Name User ID 7.3.2.15.13 Set Week Day Schedule Command Set a weekly repeating schedule for a specified user. Figure 7-13. Format of the Set Week Day Schedule Command Octets Data Type uint8 uint16 map8 uint8 uint8 uint8 uint8 Field Name Schedule ID # User ID Days Mask Start Hour Start Minute End Hour End Minute Schedule ID: number is between 0 \u2013 [# of Week Day Schedules Per User attribute]. User ID: is between 0 \u2013 [# of Total Users Supported attribute]. Days Mask: bitmask of the effective days in the order XSFTWTMS. Figure 7-14. Format of Days Mask Bits Reserved Sat Fri Thur Wed Tue Mon Sun Days mask is listed as bitmask for flexibility to set same schedule across multiple days. For the door lock that does not support setting schedule across multiple days within one command, it SHOULD respond with ZCL INVALID_FIELD (0x85) status when received the set schedule command days bitmask field has mul- tiple days selected. Start Hour: in decimal format represented by 0x00 \u2013 0x17 (00 to 23 hours). Start Minute: in decimal format represented by 0x00 \u2013 0x3B (00 to 59 mins). End Hour: in decimal format represented by 0x00 \u2013 0x17 (00 to 23 hours). End Hour SHALL be equal or greater than Start Hour. End Minute: in decimal format represented by 0x00 \u2013 0x3B (00 to 59 mins). If End Hour is equal with Start Hour, End Minute SHALL be greater than Start Minute. When the Server Device receives the command, the Server Device MAY change the user type to the specific schedule user type. Please refer to section 7.3.2.5, Process for Creating a New User with Schedule, at the beginning of this cluster. 7.3.2.15.14 Get Week Day Schedule Command Retrieve the specific weekly schedule for the specific user. ",
        "14": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-26 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-15. Format of the Get Week Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.15 Clear Week Day Schedule Command Clear the specific weekly schedule for the specific user. Figure 7-16. Format of the Clear Week Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.16 Set Year Day Schedule Command Set a time-specific schedule ID for a specified user. Figure 7-17. Format of the Set Year Day Schedule Command Octets Data Type uint8 uint16 uint32 uint32 Field Name Schedule ID User ID Local Start Time Local End Time Schedule ID number is between 0 \u2013 [# of Year Day Schedules Supported Per User attribute]. User ID is between 0 \u2013 [# of Total Users Supported attribute]. Start time and end time are given in LocalTime. End time must be greater than the start time. When the Server Device receives the command, the Server Device MAY change the user type to the specific schedule user type. Please refer to Process for Creating a New User with Schedule at the beginning of this cluster. 7.3.2.15.17 Get Year Day Schedule Command Retrieve the specific year day schedule for the specific user. ",
        "15": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-26 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-15. Format of the Get Week Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.15 Clear Week Day Schedule Command Clear the specific weekly schedule for the specific user. Figure 7-16. Format of the Clear Week Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.16 Set Year Day Schedule Command Set a time-specific schedule ID for a specified user. Figure 7-17. Format of the Set Year Day Schedule Command Octets Data Type uint8 uint16 uint32 uint32 Field Name Schedule ID User ID Local Start Time Local End Time Schedule ID number is between 0 \u2013 [# of Year Day Schedules Supported Per User attribute]. User ID is between 0 \u2013 [# of Total Users Supported attribute]. Start time and end time are given in LocalTime. End time must be greater than the start time. When the Server Device receives the command, the Server Device MAY change the user type to the specific schedule user type. Please refer to Process for Creating a New User with Schedule at the beginning of this cluster. 7.3.2.15.17 Get Year Day Schedule Command Retrieve the specific year day schedule for the specific user. ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-27 Figure 7-18. Format of the Get Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.18 Clear Year Day Schedule Command Clears the specific year day schedule for the specific user. Figure 7-19. Format of the Clear Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.19 Set Holiday Schedule Command Set the holiday Schedule by specifying local start time and local end time with respect to any Lock Operating Mode. Figure 7-20. Format of the Set Holiday Schedule Command Octets Data Type uint8 uint32 uint32 enum8 Field Name Holiday Schedule ID Local Start Time Local End Time Operating Mode During Holiday Holiday Schedule ID number is between 0 \u2013 [# of Holiday Schedules Supported attribute]. Start time and end time are given in LocalTime. End time must be greater than the start time. Operating Mode is valid enumeration value as listed in operating mode attribute. 7.3.2.15.20 Get Holiday Schedule Command Get the holiday Schedule by specifying Holiday ID. ",
        "16": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-27 Figure 7-18. Format of the Get Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.18 Clear Year Day Schedule Command Clears the specific year day schedule for the specific user. Figure 7-19. Format of the Clear Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.19 Set Holiday Schedule Command Set the holiday Schedule by specifying local start time and local end time with respect to any Lock Operating Mode. Figure 7-20. Format of the Set Holiday Schedule Command Octets Data Type uint8 uint32 uint32 enum8 Field Name Holiday Schedule ID Local Start Time Local End Time Operating Mode During Holiday Holiday Schedule ID number is between 0 \u2013 [# of Holiday Schedules Supported attribute]. Start time and end time are given in LocalTime. End time must be greater than the start time. Operating Mode is valid enumeration value as listed in operating mode attribute. 7.3.2.15.20 Get Holiday Schedule Command Get the holiday Schedule by specifying Holiday ID. ",
        "17": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-27 Figure 7-18. Format of the Get Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.18 Clear Year Day Schedule Command Clears the specific year day schedule for the specific user. Figure 7-19. Format of the Clear Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.19 Set Holiday Schedule Command Set the holiday Schedule by specifying local start time and local end time with respect to any Lock Operating Mode. Figure 7-20. Format of the Set Holiday Schedule Command Octets Data Type uint8 uint32 uint32 enum8 Field Name Holiday Schedule ID Local Start Time Local End Time Operating Mode During Holiday Holiday Schedule ID number is between 0 \u2013 [# of Holiday Schedules Supported attribute]. Start time and end time are given in LocalTime. End time must be greater than the start time. Operating Mode is valid enumeration value as listed in operating mode attribute. 7.3.2.15.20 Get Holiday Schedule Command Get the holiday Schedule by specifying Holiday ID. ",
        "18": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-27 Figure 7-18. Format of the Get Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.18 Clear Year Day Schedule Command Clears the specific year day schedule for the specific user. Figure 7-19. Format of the Clear Year Day Schedule Command Octets Data Type uint8 uint16 Field Name Schedule ID User ID 7.3.2.15.19 Set Holiday Schedule Command Set the holiday Schedule by specifying local start time and local end time with respect to any Lock Operating Mode. Figure 7-20. Format of the Set Holiday Schedule Command Octets Data Type uint8 uint32 uint32 enum8 Field Name Holiday Schedule ID Local Start Time Local End Time Operating Mode During Holiday Holiday Schedule ID number is between 0 \u2013 [# of Holiday Schedules Supported attribute]. Start time and end time are given in LocalTime. End time must be greater than the start time. Operating Mode is valid enumeration value as listed in operating mode attribute. 7.3.2.15.20 Get Holiday Schedule Command Get the holiday Schedule by specifying Holiday ID. Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-21. Format of the Get Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.21 Clear Holiday Schedule Command Clear the holiday Schedule by specifying Holiday ID. Figure 7-22. Format of the Clear Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.22 Set User Type Command Set the type byte for a specified user. For user type value please refer to User Type Value. Figure 7-23. Format of the Set User Type Command Octets Data Type uint16 enum8 Field Name User ID User Type 7.3.2.15.23 Get User Type Command Retrieve the type byte for a specific user. Figure 7-24. Format of the Get User Type Command Octets Data Type uint16 Field Name User ID 7.3.2.15.24 Set RFID Code Command Set an ID for RFID access into the lock. ",
        "19": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-21. Format of the Get Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.21 Clear Holiday Schedule Command Clear the holiday Schedule by specifying Holiday ID. Figure 7-22. Format of the Clear Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.22 Set User Type Command Set the type byte for a specified user. For user type value please refer to User Type Value. Figure 7-23. Format of the Set User Type Command Octets Data Type uint16 enum8 Field Name User ID User Type 7.3.2.15.23 Get User Type Command Retrieve the type byte for a specific user. Figure 7-24. Format of the Get User Type Command Octets Data Type uint16 Field Name User ID 7.3.2.15.24 Set RFID Code Command Set an ID for RFID access into the lock. ",
        "20": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-21. Format of the Get Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.21 Clear Holiday Schedule Command Clear the holiday Schedule by specifying Holiday ID. Figure 7-22. Format of the Clear Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.22 Set User Type Command Set the type byte for a specified user. For user type value please refer to User Type Value. Figure 7-23. Format of the Set User Type Command Octets Data Type uint16 enum8 Field Name User ID User Type 7.3.2.15.23 Get User Type Command Retrieve the type byte for a specific user. Figure 7-24. Format of the Get User Type Command Octets Data Type uint16 Field Name User ID 7.3.2.15.24 Set RFID Code Command Set an ID for RFID access into the lock. ",
        "21": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-21. Format of the Get Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.21 Clear Holiday Schedule Command Clear the holiday Schedule by specifying Holiday ID. Figure 7-22. Format of the Clear Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.22 Set User Type Command Set the type byte for a specified user. For user type value please refer to User Type Value. Figure 7-23. Format of the Set User Type Command Octets Data Type uint16 enum8 Field Name User ID User Type 7.3.2.15.23 Get User Type Command Retrieve the type byte for a specific user. Figure 7-24. Format of the Get User Type Command Octets Data Type uint16 Field Name User ID 7.3.2.15.24 Set RFID Code Command Set an ID for RFID access into the lock. ",
        "22": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-21. Format of the Get Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.21 Clear Holiday Schedule Command Clear the holiday Schedule by specifying Holiday ID. Figure 7-22. Format of the Clear Holiday Schedule Command Octets Data Type uint8 Field Name Holiday Schedule ID 7.3.2.15.22 Set User Type Command Set the type byte for a specified user. For user type value please refer to User Type Value. Figure 7-23. Format of the Set User Type Command Octets Data Type uint16 enum8 Field Name User ID User Type 7.3.2.15.23 Get User Type Command Retrieve the type byte for a specific user. Figure 7-24. Format of the Get User Type Command Octets Data Type uint16 Field Name User ID 7.3.2.15.24 Set RFID Code Command Set an ID for RFID access into the lock. ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-29 Figure 7-25. Format of the Set RFID Code Command Octets Variable Data Type uint16 uint8 enum8 octstr Field Name User ID User Status User Type RFID Code User ID: Between 0 - [# of RFID Users Supported attribute]. Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for User Status. User Status: Used to indicate what the status is for a specific user ID. The values are according to \u201cSet PIN\u201d while not all are supported. Table 7-26. User Status Byte Values for Set RFID Code Command User Status Byte Value Occupied / Enabled (Access Given) Occupied / Disabled Not Supported 0xff User Type: The values are the same as used for \u201cSet PIN Code.\u201d 7.3.2.15.25 Get RFID Code Command Retrieve an ID. User ID is between 0 - [# of RFID Users Supported attribute]. Figure 7-26. Format of the Get RFID Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.26 Clear RFID Code Command Delete an ID. User ID is between 0 - [# of RFID Users Supported attribute]. If you delete a RFID code and this user didn't have a PIN code, the user status has to be set to \"0 Available\", the user type has to be set to the default value, and all schedules which are supported have to be set to the default values. ",
        "23": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-29 Figure 7-25. Format of the Set RFID Code Command Octets Variable Data Type uint16 uint8 enum8 octstr Field Name User ID User Status User Type RFID Code User ID: Between 0 - [# of RFID Users Supported attribute]. Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for User Status. User Status: Used to indicate what the status is for a specific user ID. The values are according to \u201cSet PIN\u201d while not all are supported. Table 7-26. User Status Byte Values for Set RFID Code Command User Status Byte Value Occupied / Enabled (Access Given) Occupied / Disabled Not Supported 0xff User Type: The values are the same as used for \u201cSet PIN Code.\u201d 7.3.2.15.25 Get RFID Code Command Retrieve an ID. User ID is between 0 - [# of RFID Users Supported attribute]. Figure 7-26. Format of the Get RFID Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.26 Clear RFID Code Command Delete an ID. User ID is between 0 - [# of RFID Users Supported attribute]. If you delete a RFID code and this user didn't have a PIN code, the user status has to be set to \"0 Available\", the user type has to be set to the default value, and all schedules which are supported have to be set to the default values. ",
        "24": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-29 Figure 7-25. Format of the Set RFID Code Command Octets Variable Data Type uint16 uint8 enum8 octstr Field Name User ID User Status User Type RFID Code User ID: Between 0 - [# of RFID Users Supported attribute]. Only the values 1 (Occupied/Enabled) and 3 (Occupied/Disabled) are allowed for User Status. User Status: Used to indicate what the status is for a specific user ID. The values are according to \u201cSet PIN\u201d while not all are supported. Table 7-26. User Status Byte Values for Set RFID Code Command User Status Byte Value Occupied / Enabled (Access Given) Occupied / Disabled Not Supported 0xff User Type: The values are the same as used for \u201cSet PIN Code.\u201d 7.3.2.15.25 Get RFID Code Command Retrieve an ID. User ID is between 0 - [# of RFID Users Supported attribute]. Figure 7-26. Format of the Get RFID Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.26 Clear RFID Code Command Delete an ID. User ID is between 0 - [# of RFID Users Supported attribute]. If you delete a RFID code and this user didn't have a PIN code, the user status has to be set to \"0 Available\", the user type has to be set to the default value, and all schedules which are supported have to be set to the default values. Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-27. Format of the Clear RFID Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.27 Clear All RFID Codes Command Clear out all RFIDs on the lock. If you delete all RFID codes and this user didn't have a PIN code, the user status has to be set to \"0 Available\", the user type has to be set to the default value, and all schedules which are supported have to be set to the default values. 7.3.2.16 Server Commands Generated The commands generated by the server are listed in Table 7-27. Table 7-27. Commands Generated by the Server Cluster Command ID Description M/O 0x00 Lock Door Response M 0x01 Unlock Door Response M 0x02 Toggle Response O 0x03 Unlock with Timeout Response O 0x04 Get Log Record Response O 0x05 Set PIN Code Response O 0x06 Get PIN Code Response O 0x07 Clear PIN Code Response O 0x08 Clear All PIN Codes Response O 0x09 Set User Status Response O 0x0A Get User Status Response O 0x0B Set Weekday Schedule Response O 0x0C Get Weekday Schedule Response O 0x0D Clear Weekday Schedule Response O ",
        "25": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Figure 7-27. Format of the Clear RFID Code Command Octets Data Type uint16 Field Name User ID 7.3.2.15.27 Clear All RFID Codes Command Clear out all RFIDs on the lock. If you delete all RFID codes and this user didn't have a PIN code, the user status has to be set to \"0 Available\", the user type has to be set to the default value, and all schedules which are supported have to be set to the default values. 7.3.2.16 Server Commands Generated The commands generated by the server are listed in Table 7-27. Table 7-27. Commands Generated by the Server Cluster Command ID Description M/O 0x00 Lock Door Response M 0x01 Unlock Door Response M 0x02 Toggle Response O 0x03 Unlock with Timeout Response O 0x04 Get Log Record Response O 0x05 Set PIN Code Response O 0x06 Get PIN Code Response O 0x07 Clear PIN Code Response O 0x08 Clear All PIN Codes Response O 0x09 Set User Status Response O 0x0A Get User Status Response O 0x0B Set Weekday Schedule Response O 0x0C Get Weekday Schedule Response O 0x0D Clear Weekday Schedule Response O "
    },
    "258": {
        "0": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-56 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Identifies the number of Intermediate Setpoints supported by the Window Covering for Lift and then identi- fies the position settings for those Intermediate Setpoints if Closed Loop Control is supported. This is a comma delimited ASCII character string. For example: \u201c2,0x0013, 0x0030\u201d 7.4.2.1.3.10 Intermediate Setpoints \u2013 Tilt Identifies the number of Intermediate Setpoints supported by the Window Covering for Tilt and then identi- fies the position settings for those Intermediate Setpoints if Closed Loop Control is supported. This is a comma delimited ASCII character string. For example: \u201c2,0x0013, 0x0030\u201d 7.4.2.2 Commands Received Table 7-45. Commands Received by the Window Covering Server Cluster Command ID Description M/O 0x00 Up / Open M 0x01 Down / Close M 0x02 Stop M 0x04 Go To Lift Value O 0x05 Go to Lift Percentage O 0x07 Go to Tilt Value O 0x08 Go to Tilt Percentage O 7.4.2.2.1 Up / Open Command 7.4.2.2.1.1 Payload Format This command has no payload. 7.4.2.2.1.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the InstalledOpenLimit \u2013 Lift and the tilt is at the InstalledOpenLimit \u2013 Tilt. This will happen as fast as possible. 7.4.2.2.2 Down / Close Command 7.4.2.2.2.1 Payload Format This command has no payload. 7.4.2.2.2.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the InstalledClosedLimit \u2013 Lift and the tilt is at the InstalledClosedLimit \u2013 Tilt. This will happen as fast as possi- ble. ",
        "1": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-56 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Identifies the number of Intermediate Setpoints supported by the Window Covering for Lift and then identi- fies the position settings for those Intermediate Setpoints if Closed Loop Control is supported. This is a comma delimited ASCII character string. For example: \u201c2,0x0013, 0x0030\u201d 7.4.2.1.3.10 Intermediate Setpoints \u2013 Tilt Identifies the number of Intermediate Setpoints supported by the Window Covering for Tilt and then identi- fies the position settings for those Intermediate Setpoints if Closed Loop Control is supported. This is a comma delimited ASCII character string. For example: \u201c2,0x0013, 0x0030\u201d 7.4.2.2 Commands Received Table 7-45. Commands Received by the Window Covering Server Cluster Command ID Description M/O 0x00 Up / Open M 0x01 Down / Close M 0x02 Stop M 0x04 Go To Lift Value O 0x05 Go to Lift Percentage O 0x07 Go to Tilt Value O 0x08 Go to Tilt Percentage O 7.4.2.2.1 Up / Open Command 7.4.2.2.1.1 Payload Format This command has no payload. 7.4.2.2.1.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the InstalledOpenLimit \u2013 Lift and the tilt is at the InstalledOpenLimit \u2013 Tilt. This will happen as fast as possible. 7.4.2.2.2 Down / Close Command 7.4.2.2.2.1 Payload Format This command has no payload. 7.4.2.2.2.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the InstalledClosedLimit \u2013 Lift and the tilt is at the InstalledClosedLimit \u2013 Tilt. This will happen as fast as possi- ble. ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-57 7.4.2.2.3 Stop Command 7.4.2.2.3.1 Payload Format This command has no payload. 7.4.2.2.3.2 Effect on Receipt Upon receipt of this command, the Window Covering will stop any adjusting to the physical tilt and lift that is currently occurring. 7.4.2.2.4 Go To Lift Value 7.4.2.2.4.1 Payload Format The Go To Lift Value command payload SHALL be formatted as illustrated in Figure 7-55. Figure 7-55. Format of the Go To Lift Value Command Octets Data Type uint16 Field Name Lift Value 7.4.2.2.4.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the lift value specified in the payload of this command as long as that value is not larger than InstalledOpenLimit \u2013 Lift and not smaller than InstalledClosedLimit \u2013 Lift. If the lift value is out of bounds a default response containing the status of INVALID_VALUE will be returned. 7.4.2.2.5 Go to Lift Percentage 7.4.2.2.5.1 Payload Format The Go To Lift Percentage command payload SHALL be formatted as illustrated in Figure 7-56. Figure 7-56. Format of the Go To Lift Percentage Command Octets Data Type uint8 Field Name Percentage Lift Value 7.4.2.2.5.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the lift percentage specified in the payload of this command.The percentage value will be mapped to a 8-bit unsigned integer value between InstalledOpenLimit and InstalledClosedLimit. If the percentage lift value is larger than 100, no physical action will be taken and a default response containing the status of INVALID_VALUE will be returned. If the device only supports open loop lift action then a zero percentage SHOULD be treated as a down/close command and a non-zero percentage SHOULD be treated as an up/open command. If the device is only a tilt control device, then the command SHOULD be ignored and a UNSUPPORTED_COMMAND status SHOULD be returned. The device must support either the Go To Lift Percentage or the Go To Tilt Percentage command. ",
        "2": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 ",
        "4": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-57 7.4.2.2.3 Stop Command 7.4.2.2.3.1 Payload Format This command has no payload. 7.4.2.2.3.2 Effect on Receipt Upon receipt of this command, the Window Covering will stop any adjusting to the physical tilt and lift that is currently occurring. 7.4.2.2.4 Go To Lift Value 7.4.2.2.4.1 Payload Format The Go To Lift Value command payload SHALL be formatted as illustrated in Figure 7-55. Figure 7-55. Format of the Go To Lift Value Command Octets Data Type uint16 Field Name Lift Value 7.4.2.2.4.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the lift value specified in the payload of this command as long as that value is not larger than InstalledOpenLimit \u2013 Lift and not smaller than InstalledClosedLimit \u2013 Lift. If the lift value is out of bounds a default response containing the status of INVALID_VALUE will be returned. 7.4.2.2.5 Go to Lift Percentage 7.4.2.2.5.1 Payload Format The Go To Lift Percentage command payload SHALL be formatted as illustrated in Figure 7-56. Figure 7-56. Format of the Go To Lift Percentage Command Octets Data Type uint8 Field Name Percentage Lift Value 7.4.2.2.5.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the lift percentage specified in the payload of this command.The percentage value will be mapped to a 8-bit unsigned integer value between InstalledOpenLimit and InstalledClosedLimit. If the percentage lift value is larger than 100, no physical action will be taken and a default response containing the status of INVALID_VALUE will be returned. If the device only supports open loop lift action then a zero percentage SHOULD be treated as a down/close command and a non-zero percentage SHOULD be treated as an up/open command. If the device is only a tilt control device, then the command SHOULD be ignored and a UNSUPPORTED_COMMAND status SHOULD be returned. The device must support either the Go To Lift Percentage or the Go To Tilt Percentage command. ",
        "5": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-57 7.4.2.2.3 Stop Command 7.4.2.2.3.1 Payload Format This command has no payload. 7.4.2.2.3.2 Effect on Receipt Upon receipt of this command, the Window Covering will stop any adjusting to the physical tilt and lift that is currently occurring. 7.4.2.2.4 Go To Lift Value 7.4.2.2.4.1 Payload Format The Go To Lift Value command payload SHALL be formatted as illustrated in Figure 7-55. Figure 7-55. Format of the Go To Lift Value Command Octets Data Type uint16 Field Name Lift Value 7.4.2.2.4.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the lift value specified in the payload of this command as long as that value is not larger than InstalledOpenLimit \u2013 Lift and not smaller than InstalledClosedLimit \u2013 Lift. If the lift value is out of bounds a default response containing the status of INVALID_VALUE will be returned. 7.4.2.2.5 Go to Lift Percentage 7.4.2.2.5.1 Payload Format The Go To Lift Percentage command payload SHALL be formatted as illustrated in Figure 7-56. Figure 7-56. Format of the Go To Lift Percentage Command Octets Data Type uint8 Field Name Percentage Lift Value 7.4.2.2.5.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical lift is at the lift percentage specified in the payload of this command.The percentage value will be mapped to a 8-bit unsigned integer value between InstalledOpenLimit and InstalledClosedLimit. If the percentage lift value is larger than 100, no physical action will be taken and a default response containing the status of INVALID_VALUE will be returned. If the device only supports open loop lift action then a zero percentage SHOULD be treated as a down/close command and a non-zero percentage SHOULD be treated as an up/open command. If the device is only a tilt control device, then the command SHOULD be ignored and a UNSUPPORTED_COMMAND status SHOULD be returned. The device must support either the Go To Lift Percentage or the Go To Tilt Percentage command. Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-58 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 7.4.2.2.6 Go to Tilt Value 7.4.2.2.6.1 Payload Format The Go To Tilt Value command payload SHALL be formatted as illustrated in Figure 7-57. Figure 7-57. Format of the Go To Tilt Value Command Octets Data Type uint16 Field Name Tilt Value 7.4.2.2.6.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical tilt is at the tilt value specified in the payload of this command as long as that value is not larger than InstalledOpenLimit \u2013 Tilt and not smaller than InstalledClosedLimit \u2013 Tilt. If the tilt value is out of bounds a default response containing the status of INVALID_VALUE will be returned. 7.4.2.2.7 Go to Tilt Percentage 7.4.2.2.7.1 Payload Format The Go To Tilt Percentage command payload SHALL be formatted as illustrated below. Figure 7-58. Format of the Go To Lift Percentage Command Octets Data Type uint8 Field Name Percentage Tilt Value 7.4.2.2.7.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical tilt is at the tilt percentage specified in the payload of this command. The percentage value will be mapped to a 8-bit un- signed integer value between InstalledOpenLimit-Tilt and InstalledClosedLimit-Tilt. If the percentage tilt value is larger than 100, no physical action will be taken and a default response containing the status of INVALID_VALUE will be returned. If the device only supports open loop tilt action then a zero percentage SHOULD be treated as a down/close command and a non-zero percentage SHOULD be treated as an up/open command. If the device is only a lift control device, then the command SHOULD be ignored and a UNSUP- PORTED_COMMAND status SHOULD be returned. The device must support either the Go To Lift Per- centage or the Go To Tilt Percentage command. 7.4.2.3 Commands Generated This cluster uses the standard Default Response command defined in the ZCL specification for responding to received commands. Possible status values that can be returned are: SUCCESS, NOT_FOUND, NOT_AU- THORIZED, INSUFFICIENT_SPACE, UNSUP_COMMAND138, INVALID_FIELD, INVALID_VALUE, FAILURE139. 138 CCB 2477 renamed status 139 CCB 2477 deprecate HARDWARE_FAILURE ",
        "7": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-58 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 7.4.2.2.6 Go to Tilt Value 7.4.2.2.6.1 Payload Format The Go To Tilt Value command payload SHALL be formatted as illustrated in Figure 7-57. Figure 7-57. Format of the Go To Tilt Value Command Octets Data Type uint16 Field Name Tilt Value 7.4.2.2.6.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical tilt is at the tilt value specified in the payload of this command as long as that value is not larger than InstalledOpenLimit \u2013 Tilt and not smaller than InstalledClosedLimit \u2013 Tilt. If the tilt value is out of bounds a default response containing the status of INVALID_VALUE will be returned. 7.4.2.2.7 Go to Tilt Percentage 7.4.2.2.7.1 Payload Format The Go To Tilt Percentage command payload SHALL be formatted as illustrated below. Figure 7-58. Format of the Go To Lift Percentage Command Octets Data Type uint8 Field Name Percentage Tilt Value 7.4.2.2.7.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical tilt is at the tilt percentage specified in the payload of this command. The percentage value will be mapped to a 8-bit un- signed integer value between InstalledOpenLimit-Tilt and InstalledClosedLimit-Tilt. If the percentage tilt value is larger than 100, no physical action will be taken and a default response containing the status of INVALID_VALUE will be returned. If the device only supports open loop tilt action then a zero percentage SHOULD be treated as a down/close command and a non-zero percentage SHOULD be treated as an up/open command. If the device is only a lift control device, then the command SHOULD be ignored and a UNSUP- PORTED_COMMAND status SHOULD be returned. The device must support either the Go To Lift Per- centage or the Go To Tilt Percentage command. 7.4.2.3 Commands Generated This cluster uses the standard Default Response command defined in the ZCL specification for responding to received commands. Possible status values that can be returned are: SUCCESS, NOT_FOUND, NOT_AU- THORIZED, INSUFFICIENT_SPACE, UNSUP_COMMAND138, INVALID_FIELD, INVALID_VALUE, FAILURE139. 138 CCB 2477 renamed status 139 CCB 2477 deprecate HARDWARE_FAILURE ",
        "8": "Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-58 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 7.4.2.2.6 Go to Tilt Value 7.4.2.2.6.1 Payload Format The Go To Tilt Value command payload SHALL be formatted as illustrated in Figure 7-57. Figure 7-57. Format of the Go To Tilt Value Command Octets Data Type uint16 Field Name Tilt Value 7.4.2.2.6.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical tilt is at the tilt value specified in the payload of this command as long as that value is not larger than InstalledOpenLimit \u2013 Tilt and not smaller than InstalledClosedLimit \u2013 Tilt. If the tilt value is out of bounds a default response containing the status of INVALID_VALUE will be returned. 7.4.2.2.7 Go to Tilt Percentage 7.4.2.2.7.1 Payload Format The Go To Tilt Percentage command payload SHALL be formatted as illustrated below. Figure 7-58. Format of the Go To Lift Percentage Command Octets Data Type uint8 Field Name Percentage Tilt Value 7.4.2.2.7.2 Effect on Receipt Upon receipt of this command, the Window Covering will adjust the window so the physical tilt is at the tilt percentage specified in the payload of this command. The percentage value will be mapped to a 8-bit un- signed integer value between InstalledOpenLimit-Tilt and InstalledClosedLimit-Tilt. If the percentage tilt value is larger than 100, no physical action will be taken and a default response containing the status of INVALID_VALUE will be returned. If the device only supports open loop tilt action then a zero percentage SHOULD be treated as a down/close command and a non-zero percentage SHOULD be treated as an up/open command. If the device is only a lift control device, then the command SHOULD be ignored and a UNSUP- PORTED_COMMAND status SHOULD be returned. The device must support either the Go To Lift Per- centage or the Go To Tilt Percentage command. 7.4.2.3 Commands Generated This cluster uses the standard Default Response command defined in the ZCL specification for responding to received commands. Possible status values that can be returned are: SUCCESS, NOT_FOUND, NOT_AU- THORIZED, INSUFFICIENT_SPACE, UNSUP_COMMAND138, INVALID_FIELD, INVALID_VALUE, FAILURE139. 138 CCB 2477 renamed status 139 CCB 2477 deprecate HARDWARE_FAILURE "
    },
    "259": {
        "0": "ZigBee Cluster Library Specification Chapter 7 ZigBee Document \u2013 075123 Closures Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 7-63 This value is used by the application to determine if the barrier has some problem reaching the desired posi- tion. If the barrier does not reach the desired position within this period, the application SHOULD take safety steps which MAY include Remote Lockout (see SafetyStatus attribute). 7.5.2.1.9 ClosePeriod Attribute The ClosePeriod attribute indicates the maximum time in tenths of a second that the barrier is expected to take to move from a fully opened to a fully closed position. This attribute SHALL be persistent. This value is used by the application to determine if the barrier has some problem reaching the desired posi- tion. If the barrier does not reach the desired position within this period, the application SHOULD take safety steps which MAY include Remote Lockout (see SafetyStatus attribute). 7.5.2.1.10 BarrierPosition Attribute The BarrierPosition attribute indicates the current barrier position as a percentage open value. A value of 0xff SHALL be returned if the position is unknown. A value of 0 indicates the barrier is fully closed. A value of 100 (0x64) indicates the barrier is fully open. If the barrier is moving and the PartialBarrier in the Capa- bilities attribute Capability is true, then this value SHALL return the position of the barrier, else this value SHALL return 0xff. 7.5.2.2 Commands Received Table 7-50. Commands Received Command ID Description M/O 0x00 Go To Percent M 0x01 Stop M 7.5.2.2.1 Go To Percent Command 7.5.2.2.1.1 Payload Format The Go To Percent command payload SHALL be formatted as illustrated below: Figure 7-59. Format of the Go To Percent Command Octets Data Type uint8 Field Name Percent Open Valid Range 0 to 100 7.5.2.2.1.1.1 Effect on Receipt The Go To Percent command causes the barrier to move to the requested percentage open. If the PartialBar- rier Capability, of the Capabilities attribute, is false, then the only valid values SHALL be 0 and 100. If the value is out of bounds, a default response containing the status of INVALID_VALUE will be returned. Chapter 7 ZigBee Cluster Library Specification Closures ZigBee Document \u2013 075123 Page 7-64 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 7.5.2.2.2 Stop Command 7.5.2.2.2.1 Payload Format The Stop command SHALL NOT have any payload. 7.5.2.2.2.2 Effect on Receipt The Stop command causes the current movement of the barrier to halt. The Stop command has no effect, if the barrier is already stopped. The command has no payload. 7.5.2.3 Commands Generated No commands are generated by this cluster. 7.5.2.4 Scene Table Extensions If the Scenes server cluster (see 3.7) is implemented, the following extension fields SHALL be added to the Scenes table in the given order, i.e., the attribute listed as 1 is added first: 1) BarrierPosition 7.5.2.5 Attribute Reporting This cluster SHALL support attribute reporting using the Report Attributes command and according to the minimum and maximum reporting interval settings described in the ZCL. The following attributes SHALL be reported: Moving State Barrier Position Safety Status 7.5.3 Client The client has no cluster specific attributes. No cluster specific commands are received by the client. The client generates the cluster specific commands detailed in sub-clause 7.5.2.2. ",
        "1": "Chapter 2 Zigbee Cluster Library Specification Foundation Zigbee Alliance Document \u2013 075123 Page 3-80 Copyright \u00a9 2007-2020, The Zigbee Alliance. All rights reserved. On receipt of this command, a device SHALL move from its current level in an up or down direction as detailed in Table 3-63. Table 3-63. Actions on Receipt for Step Command Fade Mode Action on Receipt Up Increase CurrentLevel by 'Step size' units, or until it reaches the maximum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. Down Decrease CurrentLevel by 'Step size' units, or until it reaches the minimum level allowed for the device if this reached in the process. In the latter case, the transi- tion time SHALL be proportionally reduced. 3.10.2.3.4 Stop Command 3.10.2.3.4.1 Payload Format The command payload SHALL be formatted as illustrated below. Figure 3-43. Format of the Command Payload Octets Data Type map8 map8 Field Name OptionsMask OptionsOverride Default 3.10.2.3.4.2 Effect of Receipt On receipt of this command, a device SHALL first create and process a temporary Options bitmap as de- scribed in section 3.10.2.3.1.2. Upon receipt of this command, any Move to Level, Move or Step command (and their 'with On/Off' variants) currently in process SHALL be terminated. The value of CurrentLevel SHALL be left at its value upon receipt of the Stop command, and RemainingTime SHALL be set to zero. This command has two entries in Table 3-5, one for the Move to Level, Move and Set commands, and one for their 'with On/Off' counterparts. This is solely for symmetry, to allow easy choice of one or other set of commands \u2013 the Stop commands are identical, because the dependency on On/Off is determined by the orig- inal command that is being stopped58. 3.10.2.3.5 Move to Closest Frequency Command This command shall be mandatory if the CurrentFrequency attribute is supported. 3.10.2.3.5.1 Payload Format 57 CCB 2814 defaults for legacy devices 58 CCB 2819 "
    },
    "1280": {
        "0": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-9 8.2.2.2.1 Zone Enroll Response Command 8.2.2.2.1.1 Payload Format The Zone Enroll Response command payload SHALL be formatted as illustrated in Figure 8-2Format of the Zone Enroll Response Command Payload. Figure 8-2. Format of the Zone Enroll Response Command Payload Bits Data Type enum8 uint8 Field Name Enroll response code Zone ID The permitted values of the Enroll Response Code are shown in Table 8-10 Values of the Enroll Response Code. Table 8-10. Values of the Enroll Response Code Code Meaning Details 0x00 Success Success 0x01 Not supported This specific Zone type is not known to the CIE and is not sup- ported. 0x02 No enroll permit CIE does not permit new zones to enroll at this time. 0x03 Too many zones CIE reached its limit of number of enrolled zones The Zone ID field is the index into the zone table of the CIE (Table 8-12Format of the Zone Table). This field is only relevant if the response code is success. 8.2.2.2.1.2 Effect on Receipt On receipt, the device embodying the Zone server is notified that it is now enrolled as an active alarm device The device embodying the Zone server must authenticate received messages by checking the address of their sender against IAS_CIE_Address. This is to ensure that only messages from the correct CIE are accepted. 8.2.2.2.2 Initiate Normal Operation Mode Command Used to tell the IAS Zone server to commence normal operation mode. 8.2.2.2.2.1 Payload Format This command has no payload. 8.2.2.2.2.2 Effect on Receipt Upon receipt, the IAS Zone server SHALL commence normal operational mode. Any configurations and changes made (e.g., CurrentZoneSensitivityLevel attribute) to the IAS Zone server SHALL be retained. ",
        "1": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-9 8.2.2.2.1 Zone Enroll Response Command 8.2.2.2.1.1 Payload Format The Zone Enroll Response command payload SHALL be formatted as illustrated in Figure 8-2Format of the Zone Enroll Response Command Payload. Figure 8-2. Format of the Zone Enroll Response Command Payload Bits Data Type enum8 uint8 Field Name Enroll response code Zone ID The permitted values of the Enroll Response Code are shown in Table 8-10 Values of the Enroll Response Code. Table 8-10. Values of the Enroll Response Code Code Meaning Details 0x00 Success Success 0x01 Not supported This specific Zone type is not known to the CIE and is not sup- ported. 0x02 No enroll permit CIE does not permit new zones to enroll at this time. 0x03 Too many zones CIE reached its limit of number of enrolled zones The Zone ID field is the index into the zone table of the CIE (Table 8-12Format of the Zone Table). This field is only relevant if the response code is success. 8.2.2.2.1.2 Effect on Receipt On receipt, the device embodying the Zone server is notified that it is now enrolled as an active alarm device The device embodying the Zone server must authenticate received messages by checking the address of their sender against IAS_CIE_Address. This is to ensure that only messages from the correct CIE are accepted. 8.2.2.2.2 Initiate Normal Operation Mode Command Used to tell the IAS Zone server to commence normal operation mode. 8.2.2.2.2.1 Payload Format This command has no payload. 8.2.2.2.2.2 Effect on Receipt Upon receipt, the IAS Zone server SHALL commence normal operational mode. Any configurations and changes made (e.g., CurrentZoneSensitivityLevel attribute) to the IAS Zone server SHALL be retained. Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-10 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Upon commencing normal operation mode, the IAS Zone server SHALL send a Zone Status Change Notifi- cation command updating the ZoneStatus attribute Test bit to zero (i.e., \u201coperation mode\u201d). 8.2.2.2.2.3 Initiate Test Mode Command Certain IAS Zone servers MAY have operational configurations that could be configured OTA or locally on the device. This command enables them to be remotely placed into a test mode so that the user or installer MAY configure their field of view, sensitivity, and other operational parameters. They MAY also verify the placement and proper operation of the IAS Zone server, which MAY have been placed in a difficult to reach location (i.e., making a physical input on the device impractical to trigger). Another use case for this command is large deployments, especially commercial and industrial, where placing the entire IAS system into test mode instead of a single IAS Zone server is infeasible due to the vulnerabilities that might arise. This command enables only a single IAS Zone server to be placed into test mode. The biggest limitation of this command is that most IAS Zone servers today are battery-powered sleepy nodes that cannot reliably receive commands. However, implementers MAY decide to program an IAS Zone server by factory default to maintain a limited duration of normal polling upon initialization/joining to a new network. Some IAS Zone servers MAY also have AC mains power and are able to receive commands. Some types of IAS Zone servers that MAY benefit from this command are: motion sensors and fire sen- sor/smoke alarm listeners (i.e., a device that listens for a non-communicating fire sensor to alarm and com- municates this to the IAS CIE). 8.2.2.2.2.4 Payload Format The Initiate Test Mode command SHALL be formatted as illustrated below: Figure 8-3. Payload format of Initiate Test Mode command Octets Data Type uint8 uint8 Field Name Test Mode Duration Current Zone Sensitivity Level 8.2.2.2.2.5 Test Mode Duration Field Specifies the duration, in seconds, for which the IAS Zone server SHALL operate in its test mode. 8.2.2.2.2.6 Current Zone Sensitivity Level Field Specifies the sensitivity level the IAS Zone server SHALL use for the duration of the Test Mode and with which it must update its CurrentZoneSensitivityLevel attribute. The permitted values of Current Zone Sensitivity Level are shown defined for the CurrentZoneSensitiv- ityLevel Attribute in Section 8.2.2.1.2.4. 8.2.2.2.2.7 Effect on Receipt Upon receipt, the IAS Zone server SHALL commence test mode for the duration specified in the command and update its CurrentZoneSensitivityLevel attribute to match the value specified in the command. The IAS Zone server SHALL send a Zone Status Change Notification command updating the ZoneStatus attribute Test bit to one (i.e., \u201ctest mode\u201d). While in test mode, the IAS Zone server SHALL send Zone Status Change Notification commands with the appropriate payload to signal that the node is successfully detecting test events. ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-11 Upon completing the allotted test mode duration time, the IAS Zone server SHALL resume normal operation mode and SHALL send a Zone Status Change Notification command updating the ZoneStatus attribute Test bit to zero (i.e., \u201cnormal operation mode\u201d). At any time, the IAS Zone client MAY send an Initiate Normal Operation Mode command. The behavior of the IAS Zone server while in test mode is manufacturer specific. The below devices SHOULD behave in the following manner: \u2022 Motion sensor o Suspend battery saving features designed to reduce the frequency of motion detection events sent to the IAS CIE. o Reduce the \u201cblackout period\u201d (i.e., the period the sensor waits before sending a second motion detection event) so that the IAS Zone server restores an existing motion event and is ready to send another motion event notification within ten seconds. This is some- times known as \u201cwalk test\u201d mode. o Support manufacturer specific profile extensions to allow a user to configure additional operational parameters that can be tested while in test mode. \u2022 Fire sensor o Begin listening for the user to initiate a test mode on the non-communicating fire sensor or smoke detector o Generate a Zone Status Change Notification command upon detecting an audible test alarm \u2022 Carbon monoxide sensor o Begin listening for the user to initiate a test mode on the non-communicating carbon monoxide detector o Generate a Zone Status Change Notification command upon detecting an audible test alarm The above guidelines are intended as guidelines for the devices likely to implement test mode. Any IAS Zone server MAY implement test mode features and commands. Future revisions to this section MAY include additional commands germane to the operational behavior of a given IAS Zone server. 8.2.2.3 Commands Generated The generated command IDs for the IAS Zone server cluster are listed in Table 8-11 Generated Command IDs for the IAS Zone Cluster. Table 8-11. Generated Command IDs for the IAS Zone Cluster Command Identifier Description M/O 0x00 Zone Status Change Notification M 0x01 Zone Enroll Request M 8.2.2.3.1 Zone Status Change Notification Command 8.2.2.3.1.1 Payload Format ",
        "2": "Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-10 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Upon commencing normal operation mode, the IAS Zone server SHALL send a Zone Status Change Notifi- cation command updating the ZoneStatus attribute Test bit to zero (i.e., \u201coperation mode\u201d). 8.2.2.2.2.3 Initiate Test Mode Command Certain IAS Zone servers MAY have operational configurations that could be configured OTA or locally on the device. This command enables them to be remotely placed into a test mode so that the user or installer MAY configure their field of view, sensitivity, and other operational parameters. They MAY also verify the placement and proper operation of the IAS Zone server, which MAY have been placed in a difficult to reach location (i.e., making a physical input on the device impractical to trigger). Another use case for this command is large deployments, especially commercial and industrial, where placing the entire IAS system into test mode instead of a single IAS Zone server is infeasible due to the vulnerabilities that might arise. This command enables only a single IAS Zone server to be placed into test mode. The biggest limitation of this command is that most IAS Zone servers today are battery-powered sleepy nodes that cannot reliably receive commands. However, implementers MAY decide to program an IAS Zone server by factory default to maintain a limited duration of normal polling upon initialization/joining to a new network. Some IAS Zone servers MAY also have AC mains power and are able to receive commands. Some types of IAS Zone servers that MAY benefit from this command are: motion sensors and fire sen- sor/smoke alarm listeners (i.e., a device that listens for a non-communicating fire sensor to alarm and com- municates this to the IAS CIE). 8.2.2.2.2.4 Payload Format The Initiate Test Mode command SHALL be formatted as illustrated below: Figure 8-3. Payload format of Initiate Test Mode command Octets Data Type uint8 uint8 Field Name Test Mode Duration Current Zone Sensitivity Level 8.2.2.2.2.5 Test Mode Duration Field Specifies the duration, in seconds, for which the IAS Zone server SHALL operate in its test mode. 8.2.2.2.2.6 Current Zone Sensitivity Level Field Specifies the sensitivity level the IAS Zone server SHALL use for the duration of the Test Mode and with which it must update its CurrentZoneSensitivityLevel attribute. The permitted values of Current Zone Sensitivity Level are shown defined for the CurrentZoneSensitiv- ityLevel Attribute in Section 8.2.2.1.2.4. 8.2.2.2.2.7 Effect on Receipt Upon receipt, the IAS Zone server SHALL commence test mode for the duration specified in the command and update its CurrentZoneSensitivityLevel attribute to match the value specified in the command. The IAS Zone server SHALL send a Zone Status Change Notification command updating the ZoneStatus attribute Test bit to one (i.e., \u201ctest mode\u201d). While in test mode, the IAS Zone server SHALL send Zone Status Change Notification commands with the appropriate payload to signal that the node is successfully detecting test events. "
    },
    "1281": {
        "0": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-15 Command Identifier Description M/O 0x08 Get Bypassed Zone List M 0x09 Get Zone Status M 8.3.2.3.1 Arm Command 8.3.2.3.1.1 Payload Format The Arm command payload SHALL be formatted as illustrated in Figure 8-6. Figure 8-6. Format of the Arm Command Payload Bits Varies Data Type enum8 string uint8 Field Name Arm Mode Arm/Disarm Code Zone ID 8.3.2.3.1.2 Arm Mode Field The Arm Mode field SHALL have one of the values shown in Table 8-14Arm Mode Field Values. Table 8-14. Arm Mode Field Values Value Meaning 0x00 Disarm 0x01 Arm Day/Home Zones Only 0x02 Arm Night/Sleep Zones Only 0x03 Arm All Zones 8.3.2.3.1.3 Arm/Disarm Code Field The Arm/Disarm Code SHALL be a code entered into the ACE client (e.g., security keypad) or system by the user upon arming/disarming. The server MAY validate the Arm/Disarm Code received from the IAS ACE client in Arm command payload before arming or disarming the system. If the client does not have the capability to input an Arm/Disarm Code (e.g., key-fob), or the system does not require one, the client SHALL a transmit a string with a length of zero. There is no minimum or maximum length to the Arm/Disarm Code; however, the Arm/Disarm Code SHOULD be between four and eight alphanumeric characters in length. The string encoding SHALL be UTF-8. 8.3.2.3.1.4 Zone ID Field Zone ID is the index of the Zone in the CIE's zone table (Table 8-12). If none is programmed, the Zone ID default value SHALL be indicated in this field. Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-16 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 8.3.2.3.1.5 Effect on Receipt On receipt of this command, the receiving device sets its arm mode according to the value of the Arm Mode field, as detailed in Table 8-14. It is not guaranteed that an Arm command will succeed. Based on the current state of the IAS CIE, and its related devices, the command can be rejected. The device SHALL generate an Arm Response command (see 8.3.2.4.1) to indicate the resulting armed state. 8.3.2.3.2 Bypass Command Provides IAS ACE clients with a method to send zone bypass requests to the IAS ACE server. Bypassed zones MAY be faulted or in alarm but will not trigger the security system to go into alarm. For example, a user MAY wish to allow certain windows in his premises protected by an IAS Zone server to be left open while the user leaves the premises. The user could bypass the IAS Zone server protecting the window on his IAS ACE client (e.g., security keypad), and if the IAS ACE server indicates that zone is successfully bypassed, arm his security system while he is away. 8.3.2.3.2.1 Payload Format The Bypass command payload SHALL be formatted as illustrated in Figure 8-7For. Figure 8-7. Format of the Bypass Command Payload Bits ... Varies Data Type uint8 uint8 ... uint8 string Field Name Number of Zones Zone ID ... Zone ID Arm/Disarm Code 8.3.2.3.2.2 Number of Zones Field This is the number of Zone IDs included in the payload. 8.3.2.3.2.3 Zone ID Field Zone ID is the index of the Zone in the CIE's zone table (Table 8-12Format of the Zone Table). 8.3.2.3.2.4 Arm/Disarm Code Field This field is the same as the Arm/Disarm Code field defined in Section 8.3.2.3.1.3. 8.3.2.3.2.5 Effect of Receipt On receipt of this command, the IAS ACE server SHALL process this bypass request and generate a single Bypass Response command for the zones requested in the Bypass command payload 8.3.2.3.3 Emergency, Fire and Panic Commands These commands indicate the emergency situations inherent in their names. They have no payload. 8.3.2.3.4 Get Zone ID Map Command 8.3.2.3.4.1 Payload Format This command has no payload. 8.3.2.3.4.2 Effect on Receipt ",
        "2": "",
        "3": "",
        "4": "",
        "5": "Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-16 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 8.3.2.3.1.5 Effect on Receipt On receipt of this command, the receiving device sets its arm mode according to the value of the Arm Mode field, as detailed in Table 8-14. It is not guaranteed that an Arm command will succeed. Based on the current state of the IAS CIE, and its related devices, the command can be rejected. The device SHALL generate an Arm Response command (see 8.3.2.4.1) to indicate the resulting armed state. 8.3.2.3.2 Bypass Command Provides IAS ACE clients with a method to send zone bypass requests to the IAS ACE server. Bypassed zones MAY be faulted or in alarm but will not trigger the security system to go into alarm. For example, a user MAY wish to allow certain windows in his premises protected by an IAS Zone server to be left open while the user leaves the premises. The user could bypass the IAS Zone server protecting the window on his IAS ACE client (e.g., security keypad), and if the IAS ACE server indicates that zone is successfully bypassed, arm his security system while he is away. 8.3.2.3.2.1 Payload Format The Bypass command payload SHALL be formatted as illustrated in Figure 8-7For. Figure 8-7. Format of the Bypass Command Payload Bits ... Varies Data Type uint8 uint8 ... uint8 string Field Name Number of Zones Zone ID ... Zone ID Arm/Disarm Code 8.3.2.3.2.2 Number of Zones Field This is the number of Zone IDs included in the payload. 8.3.2.3.2.3 Zone ID Field Zone ID is the index of the Zone in the CIE's zone table (Table 8-12Format of the Zone Table). 8.3.2.3.2.4 Arm/Disarm Code Field This field is the same as the Arm/Disarm Code field defined in Section 8.3.2.3.1.3. 8.3.2.3.2.5 Effect of Receipt On receipt of this command, the IAS ACE server SHALL process this bypass request and generate a single Bypass Response command for the zones requested in the Bypass command payload 8.3.2.3.3 Emergency, Fire and Panic Commands These commands indicate the emergency situations inherent in their names. They have no payload. 8.3.2.3.4 Get Zone ID Map Command 8.3.2.3.4.1 Payload Format This command has no payload. 8.3.2.3.4.2 Effect on Receipt ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-17 On receipt of this command, the device SHALL generate a Get Zone ID Map Response command. See 8.3.2.4.2. 8.3.2.3.5 Get Zone Information Command 8.3.2.3.5.1 Payload Format The Get Zone Information command payload SHALL be formatted as illustrated in Figure 8-8. Figure 8-8. Format of the Get Zone Information Command Payload Bits Data Type uint8 Field Name Zone ID 8.3.2.3.5.2 Effect on Receipt On receipt of this command, the device SHALL generate a Get Zone Information Response command. See 8.3.2.4.3. 8.3.2.3.6 Get Panel Status Command This command is used by ACE clients to request an update to the status (e.g., security system arm state) of the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. 8.3.2.3.6.1 Payload Format There is no payload for the Get Panel Status command. 8.3.2.3.6.2 Effect on Receipt On receipt of this command, the ACE server responds with the status of the security system. The IAS ACE server SHALL generate a Get Panel Status Response command. 8.3.2.3.7 Get Bypassed Zone List Command Provides IAS ACE clients with a way to retrieve the list of zones to be bypassed. This provides them with the ability to provide greater local functionality (i.e., at the IAS ACE client) for users to modify the Bypassed Zone List and reduce communications to the IAS ACE server when trying to arm the CIE security system. 8.3.2.3.7.1 Payload Format This command has no payload. 8.3.2.3.7.2 Effect on Receipt Upon receipt, the IAS ACE server sends a Set Bypassed Zone List command. 8.3.2.3.8 Get Zone Status Command This command is used by ACE clients to request an update of the status of the IAS Zone devices managed by the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. The command is similar to the Get Attributes Supported com- mand in that it specifies a starting Zone ID and a number of Zone IDs for which information is requested. ",
        "6": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-17 On receipt of this command, the device SHALL generate a Get Zone ID Map Response command. See 8.3.2.4.2. 8.3.2.3.5 Get Zone Information Command 8.3.2.3.5.1 Payload Format The Get Zone Information command payload SHALL be formatted as illustrated in Figure 8-8. Figure 8-8. Format of the Get Zone Information Command Payload Bits Data Type uint8 Field Name Zone ID 8.3.2.3.5.2 Effect on Receipt On receipt of this command, the device SHALL generate a Get Zone Information Response command. See 8.3.2.4.3. 8.3.2.3.6 Get Panel Status Command This command is used by ACE clients to request an update to the status (e.g., security system arm state) of the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. 8.3.2.3.6.1 Payload Format There is no payload for the Get Panel Status command. 8.3.2.3.6.2 Effect on Receipt On receipt of this command, the ACE server responds with the status of the security system. The IAS ACE server SHALL generate a Get Panel Status Response command. 8.3.2.3.7 Get Bypassed Zone List Command Provides IAS ACE clients with a way to retrieve the list of zones to be bypassed. This provides them with the ability to provide greater local functionality (i.e., at the IAS ACE client) for users to modify the Bypassed Zone List and reduce communications to the IAS ACE server when trying to arm the CIE security system. 8.3.2.3.7.1 Payload Format This command has no payload. 8.3.2.3.7.2 Effect on Receipt Upon receipt, the IAS ACE server sends a Set Bypassed Zone List command. 8.3.2.3.8 Get Zone Status Command This command is used by ACE clients to request an update of the status of the IAS Zone devices managed by the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. The command is similar to the Get Attributes Supported com- mand in that it specifies a starting Zone ID and a number of Zone IDs for which information is requested. ",
        "7": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-17 On receipt of this command, the device SHALL generate a Get Zone ID Map Response command. See 8.3.2.4.2. 8.3.2.3.5 Get Zone Information Command 8.3.2.3.5.1 Payload Format The Get Zone Information command payload SHALL be formatted as illustrated in Figure 8-8. Figure 8-8. Format of the Get Zone Information Command Payload Bits Data Type uint8 Field Name Zone ID 8.3.2.3.5.2 Effect on Receipt On receipt of this command, the device SHALL generate a Get Zone Information Response command. See 8.3.2.4.3. 8.3.2.3.6 Get Panel Status Command This command is used by ACE clients to request an update to the status (e.g., security system arm state) of the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. 8.3.2.3.6.1 Payload Format There is no payload for the Get Panel Status command. 8.3.2.3.6.2 Effect on Receipt On receipt of this command, the ACE server responds with the status of the security system. The IAS ACE server SHALL generate a Get Panel Status Response command. 8.3.2.3.7 Get Bypassed Zone List Command Provides IAS ACE clients with a way to retrieve the list of zones to be bypassed. This provides them with the ability to provide greater local functionality (i.e., at the IAS ACE client) for users to modify the Bypassed Zone List and reduce communications to the IAS ACE server when trying to arm the CIE security system. 8.3.2.3.7.1 Payload Format This command has no payload. 8.3.2.3.7.2 Effect on Receipt Upon receipt, the IAS ACE server sends a Set Bypassed Zone List command. 8.3.2.3.8 Get Zone Status Command This command is used by ACE clients to request an update of the status of the IAS Zone devices managed by the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. The command is similar to the Get Attributes Supported com- mand in that it specifies a starting Zone ID and a number of Zone IDs for which information is requested. ",
        "8": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-17 On receipt of this command, the device SHALL generate a Get Zone ID Map Response command. See 8.3.2.4.2. 8.3.2.3.5 Get Zone Information Command 8.3.2.3.5.1 Payload Format The Get Zone Information command payload SHALL be formatted as illustrated in Figure 8-8. Figure 8-8. Format of the Get Zone Information Command Payload Bits Data Type uint8 Field Name Zone ID 8.3.2.3.5.2 Effect on Receipt On receipt of this command, the device SHALL generate a Get Zone Information Response command. See 8.3.2.4.3. 8.3.2.3.6 Get Panel Status Command This command is used by ACE clients to request an update to the status (e.g., security system arm state) of the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. 8.3.2.3.6.1 Payload Format There is no payload for the Get Panel Status command. 8.3.2.3.6.2 Effect on Receipt On receipt of this command, the ACE server responds with the status of the security system. The IAS ACE server SHALL generate a Get Panel Status Response command. 8.3.2.3.7 Get Bypassed Zone List Command Provides IAS ACE clients with a way to retrieve the list of zones to be bypassed. This provides them with the ability to provide greater local functionality (i.e., at the IAS ACE client) for users to modify the Bypassed Zone List and reduce communications to the IAS ACE server when trying to arm the CIE security system. 8.3.2.3.7.1 Payload Format This command has no payload. 8.3.2.3.7.2 Effect on Receipt Upon receipt, the IAS ACE server sends a Set Bypassed Zone List command. 8.3.2.3.8 Get Zone Status Command This command is used by ACE clients to request an update of the status of the IAS Zone devices managed by the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. The command is similar to the Get Attributes Supported com- mand in that it specifies a starting Zone ID and a number of Zone IDs for which information is requested. ",
        "9": "ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-17 On receipt of this command, the device SHALL generate a Get Zone ID Map Response command. See 8.3.2.4.2. 8.3.2.3.5 Get Zone Information Command 8.3.2.3.5.1 Payload Format The Get Zone Information command payload SHALL be formatted as illustrated in Figure 8-8. Figure 8-8. Format of the Get Zone Information Command Payload Bits Data Type uint8 Field Name Zone ID 8.3.2.3.5.2 Effect on Receipt On receipt of this command, the device SHALL generate a Get Zone Information Response command. See 8.3.2.4.3. 8.3.2.3.6 Get Panel Status Command This command is used by ACE clients to request an update to the status (e.g., security system arm state) of the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. 8.3.2.3.6.1 Payload Format There is no payload for the Get Panel Status command. 8.3.2.3.6.2 Effect on Receipt On receipt of this command, the ACE server responds with the status of the security system. The IAS ACE server SHALL generate a Get Panel Status Response command. 8.3.2.3.7 Get Bypassed Zone List Command Provides IAS ACE clients with a way to retrieve the list of zones to be bypassed. This provides them with the ability to provide greater local functionality (i.e., at the IAS ACE client) for users to modify the Bypassed Zone List and reduce communications to the IAS ACE server when trying to arm the CIE security system. 8.3.2.3.7.1 Payload Format This command has no payload. 8.3.2.3.7.2 Effect on Receipt Upon receipt, the IAS ACE server sends a Set Bypassed Zone List command. 8.3.2.3.8 Get Zone Status Command This command is used by ACE clients to request an update of the status of the IAS Zone devices managed by the ACE server (i.e., the IAS CIE). This command is useful for battery-powered ACE clients with polling rates longer than the standard check-in rate. The command is similar to the Get Attributes Supported com- mand in that it specifies a starting Zone ID and a number of Zone IDs for which information is requested. Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-18 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Depending on the number of IAS Zone devices managed by the IAS ACE server, sending the Zone Status of all zones MAY not fit into a single Get Zone Status Response command. IAS ACE clients MAY need to send multiple Get Zone Status commands in order to get the information they seek. 8.3.2.3.8.1 Payload Format The Get Zone Status command SHALL be formatted as illustrated below. Figure 8-9. Format of the Get Zone Status command Bits Data Type uint8 uint8 bool map16 Field Name Starting Zone ID Max Number of Zone IDs Zone Status Mask Flag Zone Status Mask 8.3.2.3.8.2 Starting Zone ID Field Specifies the starting Zone ID at which the IAS Client would like to obtain zone status information. 8.3.2.3.8.3 Max Number of Zone IDs Requested Field Specifies the maximum number of Zone IDs and corresponding Zone Statuses that are to be returned by the IAS ACE server when it responds with a Get Zone Status Response command. 8.3.2.3.8.4 Zone Status Mask Flag Field Functions as a query operand with the Zone Status Mask field. If set to zero (i.e., FALSE), the IAS ACE server SHALL include all Zone IDs and their status, regardless of their Zone Status when it responds with a Get Zone Status Response command. If set to one (i.e., TRUE), the IAS ACE server SHALL include only those Zone IDs whose Zone Status attribute is equal to one or more of the Zone Statuses requested in the Zone Status Mask field of the Get Zone Status command. Use of Zone Status Mask Flag and Zone Status Mask fields allow a client to obtain updated information for the subset of Zone IDs they\u2019re interested in, which is beneficial when the number of IAS Zone devices in a system is large. 8.3.2.3.8.5 Zone Status Mask Field Coupled with the Zone Status Mask Flag field, functions as a mask to enable IAS ACE clients to get infor- mation about the Zone IDs whose ZoneStatus attribute is equal to any of the bits indicated by the IAS ACE client in the Zone Status Mask field. The format of this field is the same as the ZoneStatus attribute in the IAS Zone cluster. Per the Zone Status Mask Flag field, IAS ACE servers SHALL respond with only the Zone IDs whose ZoneStatus attributes are equal to at least one of the Zone Status bits set in the Zone Status Mask field requested by the IAS ACE client. For example, if the Zone Status Mask field set to \u201c0x0003\u201d would match IAS Zones whose ZoneStatus at- tributes are 0x0001, 0x0002, and 0x0003. In other words, if a logical 'AND' between the Zone Status Mask field and the IAS Zone\u2019s ZoneStatus attribute yields a non-zero result, the IAS ACE server SHALL include that IAS Zone in the Get Zone Status Response command. 8.3.2.3.8.6 Effect on Receipt ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-19 On receipt of this command, the IAS ACE server responds with the status of the zones it manages that meet those requested in the Get Zone Status command. The IAS ACE server SHALL generate a Get Zone Status Response command. 8.3.2.4 Commands Generated The generated command IDs for the IAS ACE server cluster are listed in Table 8-15. Table 8-15. Generated Command IDs for the IAS ACE Cluster Command Identifier Description M/O 0x00 Arm Response M 0x01 Get Zone ID Map Response M 0x02 Get Zone Information Response M 0x03 Zone Status Changed M 0x04 Panel Status Changed M 0x05 Get Panel Status Response M 0x06 Set Bypassed Zone List M 0x07 Bypass Response M 0x08 Get Zone Status Response M 8.3.2.4.1 Arm Response Command 8.3.2.4.1.1 Payload Format The Arm Response command payload SHALL be formatted as illustrated in Figure 8-10. Figure 8-10. Format of the Arm Response Command Payload Bits Data Type enum8 Field Name Arm Notification 8.3.2.4.1.2 Arm Notification Field The Arm Notification field SHALL have one of the values shown in Table 8-16. Table 8-16. Arm Notification Values Value Meaning 0x00 All Zones Disarmed "
    },
    "1282": {
        "0": "Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-28 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 8.4.1.2 Classification Hierarchy Role PICS Code Primary Transaction Base Application IASWD Type 1 (client to server) 8.4.1.3 Cluster Identifiers Identi- fier Name 0x0502 IAS WD 8.4.2 Server 8.4.2.1 Attributes The attributes defined for the server cluster are detailed in Table 8-19. Table 8-19. Attributes of the IAS WD (Server) Cluster Identifier Name Type Range Access Default M/O 0x0000 MaxDuration uint16 0x0000 \u2013 0fffe RW M 8.4.2.1.1 MaxDuration Attribute The MaxDuration attribute specifies the maximum time in seconds that the siren will sound continuously, regardless of start/stop commands. 8.4.2.2 Commands Received The received command IDs are listed in Table 8-20. Table 8-20. Received Command IDs for the IAS WD Server Cluster Command Identifier Description M/O 0x00 Start warning M 0x01 Squawk M 8.4.2.2.1 Start Warning Command This command starts the WD operation. The WD alerts the surrounding area by audible (siren) and visual (strobe) signals. ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-29 A Start Warning command SHALL always terminate the effect of any previous IAS WD cluster command that is still current. 8.4.2.2.1.1 Payload Format The Start Warning command payload SHALL be formatted as illustrated in Figure 8-21. Figure 8-21. Format of the Command Payload Bits Data Type map8 uint16 uint8 enum8 Field Name Warning Mode Strobe Siren Level Warning Duration Strobe Duty Cycle Strobe Level The Warning Mode and Strobe subfields are concatenated together to a single 8-bit bitmap field. The groups of bits these subfields occupy are used as described below. 8.4.2.2.1.2 Warning Mode Field The Warning Mode field is used as an 4-bit enumeration, can have one of the values defined below. The exact behavior of the WD device in each mode is according to the relevant security standards. Table 8-21. Warning Modes Warning Mode Meaning Stop (no warning) Burglar Fire Emergency Police panic Fire panic Emergency Panic (i.e., medical issue) 8.4.2.2.1.3 Strobe Field The Strobe field is used as a 2-bit enumeration, and determines if the visual indication is required in addition to the audible siren, as indicated in Table 8-22. If the strobe field is \u201c1\u201d and the Warning Mode is \u201c0\u201d (\u201cStop\u201d) then only the strobe is activated. Table 8-22. Values of the Strobe Field Value Meaning No strobe Use strobe in parallel to warning Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 8.4.2.2.1.4 Siren Level Field The Siren Level field is used as a 2-bit enumeration, and indicates the intensity of audible squawk sound as shown in the following table. At least one level of sound SHALL be supported. Table 8-23. Siren Level Field Values SirenLevel Value Description Low level sound Medium level sound High level sound Very high level sound 8.4.2.2.1.5 Warning Duration Field Requested duration of warning, in seconds. If both Strobe and Warning Mode are \"0\" this field SHALL be ignored. 8.4.2.2.1.6 Strobe Duty Cycle Field Indicates the length of the flash cycle. This provides a means of varying the flash duration for different alarm types (e.g., fire, police, burglar). Valid range is 0-100 in increments of 10. All other values SHALL be rounded to the nearest valid value. Strobe SHALL calculate duty cycle over a duration of one second. The ON state SHALL precede the OFF state. For example, if Strobe Duty Cycle Field specifies \u201c40,\u201d then the strobe SHALL flash ON for 4/10ths of a second and then turn OFF for 6/10ths of a second. The default value for this field SHALL be 0x00. 8.4.2.2.1.7 Strobe Level Field Indicates the intensity of the strobe as shown in the table below. This attribute is designed to vary the output of the strobe (i.e., brightness) and not its frequency, which is detailed in 8.4.2.2.1.6. At least one level of strobe SHALL be supported. Table 8-24. Strobe Level Field Values StrobeLevel Enumerations Description 0x00 Low level strobe 0x01 Medium level strobe 0x02 High level strobe 0x03 Very high level strobe 8.4.2.2.2 Squawk Command This command uses the WD capabilities to emit a quick audible/visible pulse called a \"squawk\". The squawk command has no effect if the WD is currently active (warning in progress). 8.4.2.2.2.1 Payload Format The Squawk command payload SHALL be formatted as illustrated in Figure 8-22. ",
        "1": "Chapter 8 ZigBee Cluster Library Specification Security and Safety ZigBee Document \u2013 075123 Page 8-30 Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. 8.4.2.2.1.4 Siren Level Field The Siren Level field is used as a 2-bit enumeration, and indicates the intensity of audible squawk sound as shown in the following table. At least one level of sound SHALL be supported. Table 8-23. Siren Level Field Values SirenLevel Value Description Low level sound Medium level sound High level sound Very high level sound 8.4.2.2.1.5 Warning Duration Field Requested duration of warning, in seconds. If both Strobe and Warning Mode are \"0\" this field SHALL be ignored. 8.4.2.2.1.6 Strobe Duty Cycle Field Indicates the length of the flash cycle. This provides a means of varying the flash duration for different alarm types (e.g., fire, police, burglar). Valid range is 0-100 in increments of 10. All other values SHALL be rounded to the nearest valid value. Strobe SHALL calculate duty cycle over a duration of one second. The ON state SHALL precede the OFF state. For example, if Strobe Duty Cycle Field specifies \u201c40,\u201d then the strobe SHALL flash ON for 4/10ths of a second and then turn OFF for 6/10ths of a second. The default value for this field SHALL be 0x00. 8.4.2.2.1.7 Strobe Level Field Indicates the intensity of the strobe as shown in the table below. This attribute is designed to vary the output of the strobe (i.e., brightness) and not its frequency, which is detailed in 8.4.2.2.1.6. At least one level of strobe SHALL be supported. Table 8-24. Strobe Level Field Values StrobeLevel Enumerations Description 0x00 Low level strobe 0x01 Medium level strobe 0x02 High level strobe 0x03 Very high level strobe 8.4.2.2.2 Squawk Command This command uses the WD capabilities to emit a quick audible/visible pulse called a \"squawk\". The squawk command has no effect if the WD is currently active (warning in progress). 8.4.2.2.2.1 Payload Format The Squawk command payload SHALL be formatted as illustrated in Figure 8-22. ZigBee Cluster Library Specification Chapter 8 ZigBee Document \u2013 075123 Security and Safety Copyright \u00a9 2007-2020, The ZigBee Alliance. All rights reserved. Page 8-31 Figure 8-22. Format of the Command Payload Bits Data Type map8 Field Name Squawk mode Strobe Reserved Squawk level 8.4.2.2.2.2 Squawk Mode Field The Squawk Mode field is used as a 4-bit enumeration, and can have one of the values shown in Table 8-25 Squawk Mode Field. The exact operation of each mode (how the WD \u201csquawks\u201d) is implementation specific. Table 8-25. Squawk Mode Field Warning Mode Meaning Notification sound for \u201cSystem is armed\u201d Notification sound for \"System is disarmed\" 8.4.2.2.2.3 Strobe Field The strobe field is used as a Boolean, and determines if the visual indication is also required in addition to the audible squawk, as shown in Table 8-26 Strobe Bit. Table 8-26. Strobe Bit Value Meaning No strobe Use strobe blink in parallel to squawk 8.4.2.2.2.4 Squawk Level Field The squawk level field is used as a 2-bit enumeration, and determines the intensity of audible squawk sound as shown in Table 8-27 Squawk Level Field Values. Table 8-27. Squawk Level Field Values Value Meaning Low level sound Medium level sound High level sound Very High level sound 8.4.2.3 Commands Generated No cluster specific commands are generated by the server cluster. "
    }
}